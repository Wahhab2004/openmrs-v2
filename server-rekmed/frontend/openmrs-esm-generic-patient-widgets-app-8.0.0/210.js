(globalThis.webpackChunk_openmrs_esm_generic_patient_widgets_app=globalThis.webpackChunk_openmrs_esm_generic_patient_widgets_app||[]).push([[210],{4512:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(272),a=r.n(n),o=r(2609),i=r.n(o)()(a());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-generic-patient-widgets__obs-graph__label01___nqHbU,.-esm-generic-patient-widgets__obs-graph__conceptLabel___JcAin{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-generic-patient-widgets__obs-graph__bodyShort01___MXPMj{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-generic-patient-widgets__obs-graph__graphContainer___peSeT{display:flex;margin:0rem 1rem;flex-direction:row;justify-content:space-between}.-esm-generic-patient-widgets__obs-graph__conceptPickerTabs___Gk0Ph{flex-grow:1;margin:.5rem 0;padding-right:1rem}.-esm-generic-patient-widgets__obs-graph__lineChartContainer___DWcve{flex-grow:4;padding:0 1rem 3rem}.-esm-generic-patient-widgets__obs-graph__lineChartContainer___DWcve .cds--cc--layout-row{height:0}.-esm-generic-patient-widgets__obs-graph__lineChartContainer___DWcve .layout-child{margin-top:.5rem}.-esm-generic-patient-widgets__obs-graph__conceptLabel___JcAin{margin-bottom:1rem;display:inline-block}.-esm-generic-patient-widgets__obs-graph__verticalTabs___PGFpw{margin:1rem 0;scroll-behavior:smooth}.-esm-generic-patient-widgets__obs-graph__verticalTabs___PGFpw>ul{flex-direction:column !important}.-esm-generic-patient-widgets__obs-graph__verticalTabs___PGFpw .cds--tabs--scrollable .cds--tabs--scrollable__nav-item+.cds--tabs--scrollable__nav-item{margin-left:0rem}.-esm-generic-patient-widgets__obs-graph__verticalTabs___PGFpw .cds--tabs--scrollable .cds--tabs--scrollable__nav-link{border-bottom:0 !important;border-left:2px solid #c6c6c6}.-esm-generic-patient-widgets__obs-graph__tab___dw7mi{outline:0;outline-offset:0}.-esm-generic-patient-widgets__obs-graph__tab___dw7mi:active,.-esm-generic-patient-widgets__obs-graph__tab___dw7mi:focus{outline:2px solid var(--brand-03) !important}.-esm-generic-patient-widgets__obs-graph__tab___dw7mi[aria-selected=true]{border-left:3px solid var(--brand-03);border-bottom:none;font-weight:600;margin-left:0rem !important}.-esm-generic-patient-widgets__obs-graph__tab___dw7mi[aria-selected=false]{border-bottom:none;border-left:2px solid #e0e0e0;margin-left:0rem !important}.-esm-generic-patient-widgets__obs-graph__tablist___f25Mm .cds--tab--list{flex-direction:column;max-height:fit-content;overflow-x:visible}.-esm-generic-patient-widgets__obs-graph__tablist___f25Mm>button .cds--tabs .cds--tabs__nav-link{border-bottom:none}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/obs-graph/obs-graph.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,yEAAA,CACA,2GAAA,CCvDF,yHC81BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD11BJ,8DC01BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt1BJ,iEACE,YAAA,CACA,gBAAA,CACA,kBAAA,CACA,6BAAA,CAGF,oEACE,WAAA,CACA,cAAA,CACA,kBESW,CFNb,qEACE,WAAA,CACA,mBAAA,CAEA,0FACE,QAAA,CAGF,mFACE,gBEbS,CFiBb,+DAEE,kBETW,CFUX,oBAAA,CAGF,+DACE,aAAA,CACA,sBAAA,CAEA,kEACE,gCAAA,CAGF,wJACE,gBAAA,CAGF,uHACE,0BAAA,CACA,6BAAA,CAIJ,sDACE,SAAA,CACA,gBAAA,CAEA,yHACE,4CAAA,CAGF,0EACE,qCAAA,CACA,kBAAA,CACA,eAAA,CACA,2BAAA,CAGF,2EACE,kBAAA,CACA,6BAAA,CACA,2BAAA,CAKF,0EACE,qBAAA,CACA,sBAAA,CACA,kBAAA,CAGF,iGACE,kBAAA",sourceRoot:""}]),i.locals={label01:"-esm-generic-patient-widgets__obs-graph__label01___nqHbU",conceptLabel:"-esm-generic-patient-widgets__obs-graph__conceptLabel___JcAin",bodyShort01:"-esm-generic-patient-widgets__obs-graph__bodyShort01___MXPMj",graphContainer:"-esm-generic-patient-widgets__obs-graph__graphContainer___peSeT",conceptPickerTabs:"-esm-generic-patient-widgets__obs-graph__conceptPickerTabs___Gk0Ph",lineChartContainer:"-esm-generic-patient-widgets__obs-graph__lineChartContainer___DWcve",verticalTabs:"-esm-generic-patient-widgets__obs-graph__verticalTabs___PGFpw",tab:"-esm-generic-patient-widgets__obs-graph__tab___dw7mi",tablist:"-esm-generic-patient-widgets__obs-graph__tablist___f25Mm"};const s=i},1897:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(272),a=r.n(n),o=r(2609),i=r.n(o)()(a());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-generic-patient-widgets__obs-switchable__widgetContainer___MDvE6{background-color:#fff;border:1px solid #e0e0e0}.-esm-generic-patient-widgets__obs-switchable__headerContainer___Nd3VW{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem}.-esm-generic-patient-widgets__obs-switchable__toggleButtons___ObgOI{width:fit-content;margin:0 .5rem}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg{padding:.5rem;color:#0f62fe;min-height:0px}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--tertiary{border-color:#0f62fe}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--tooltip__trigger:active:not([disabled]){border-color:#0f62fe}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--tertiary:active{border-color:#0f62fe;background-color:#edf5ff;color:#edf5ff}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--tertiary:focus{background-color:#0f62fe;color:#fff}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--tertiary:hover{color:#fff;background-color:#0f62fe}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--ghost{border-color:#a6c8ff}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--ghost:hover{color:#000;background-color:#f4f4f4}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg:first-of-type{border-radius:.25rem 0 0 .25rem}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg:first-of-type.cds--btn--ghost{border-right:0}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg:last-of-type{border-radius:0 .25rem .25rem 0}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg:last-of-type.cds--btn--ghost{border-left:0rem}.-esm-generic-patient-widgets__obs-switchable__widgetContainer___MDvE6{background-color:#fff;position:relative}.-esm-generic-patient-widgets__obs-switchable__headerActionItems___yfiRq{align-items:center;display:flex;flex:1 1 0%;justify-content:end}.-esm-generic-patient-widgets__obs-switchable__backgroundDataFetchingIndicator___V8vgZ{align-items:center;display:flex;flex:1 1 0%;justify-content:end}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/obs-switchable/obs-switchable.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,yEAAA,CACA,2GAAA,CCxDF,uEACE,qBDGc,CCFd,wBAAA,CAGF,uEACE,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,4BAAA,CAGF,qEACE,iBAAA,CACA,cAAA,CAGF,8DACE,aAAA,CACA,aDDe,CCEf,cAAA,CAEA,iFACE,oBDLa,CCQf,2GACE,oBDTa,CCYf,wFACE,oBDba,CCcb,wBAAA,CACA,aAAA,CAGF,uFACE,wBDnBa,CCoBb,UDlCY,CCqCd,uFACE,UDtCY,CCuCZ,wBDzBa,CC4Bf,8EACE,oBAAA,CAGF,oFACE,UAAA,CACA,wBDvDI,CC2DR,4EACE,+BAAA,CAEA,4FACE,cAAA,CAIJ,2EACE,+BAAA,CAEA,2FACE,gBAAA,CAIJ,uEACE,qBDrEc,CCsEd,iBAAA,CAGF,yEACE,kBAAA,CACA,YAAA,CACA,WAAA,CACA,mBAAA,CAGF,uFACE,kBAAA,CACA,YAAA,CACA,WAAA,CACA,mBAAA",sourceRoot:""}]),i.locals={widgetContainer:"-esm-generic-patient-widgets__obs-switchable__widgetContainer___MDvE6",headerContainer:"-esm-generic-patient-widgets__obs-switchable__headerContainer___Nd3VW",toggleButtons:"-esm-generic-patient-widgets__obs-switchable__toggleButtons___ObgOI",toggle:"-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg",headerActionItems:"-esm-generic-patient-widgets__obs-switchable__headerActionItems___yfiRq",backgroundDataFetchingIndicator:"-esm-generic-patient-widgets__obs-switchable__backgroundDataFetchingIndicator___V8vgZ"};const s=i},5136:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(272),a=r.n(n),o=r(2609),i=r.n(o)()(a());i.push([e.id,".-esm-generic-patient-widgets__obs-table__customRow___Kp7z_ tbody{white-space:nowrap}.-esm-generic-patient-widgets__obs-table__tableHeader___i_IBK{width:max-content;max-width:300px}","",{version:3,sources:["webpack://./src/obs-table/obs-table.scss"],names:[],mappings:"AAAA,kEACE,kBAAA,CAGF,8DACE,iBAAA,CACA,eAAA",sourceRoot:""}]),i.locals={customRow:"-esm-generic-patient-widgets__obs-table__customRow___Kp7z_",tableHeader:"-esm-generic-patient-widgets__obs-table__tableHeader___i_IBK"};const s=i},7210:(e,t,r)=>{"use strict";r.r(t),r.d(t,{importTranslation:()=>Y,startupApp:()=>ee,switchableObs:()=>$});var n=r(2870),a={title:{_type:n.Type.String,_description:"Displayed at the top of the widget.",_default:"Vitals"},resultsName:{_type:n.Type.String,_description:"Displayed in messages about this data.",_default:"results"},graphOldestFirst:{_type:n.Type.Boolean,_description:"Show graph values from most oldest to recent",_default:!1},interpretationSlot:{_type:n.Type.String,_description:"Interpretation slot to display bellow the graph in obs graph widget.",_default:""},data:{_type:n.Type.Array,_elements:{concept:{_type:n.Type.ConceptUuid},label:{_type:n.Type.String,_default:null,_description:"The text to display. Defaults to the concept display name."},color:{_type:n.Type.String,_default:"blue",_description:"The color of the line to display in the line graph."},decimalPlaces:{_type:n.Type.Number,_validator:[n.validators.inRange(0,10)]}},_default:[{label:"Height",concept:"5090AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",color:"red"},{label:"Weight",concept:"5089AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",color:"blue"}]},table:{pageSize:{_type:n.Type.Number,_default:5}},showGraphByDefault:{_type:n.Type.Boolean,_description:"Displayed graph by default",_default:!1},encounterTypes:{_type:n.Type.Array,_description:"Encounter types used to filter the requests",_elements:{_type:n.Type.String},_default:[]},dateFormat:{_type:n.Type.String,_description:"Type of display for data",_default:"dateTime"},showEncounterType:{_type:n.Type.Boolean,_description:"Display Encounter type column",_default:!1}},o=r(7900),i=r.n(o),s=r(4924),l=r(3523),c=r(5898),A=r(240),d=r(2821),_=r(3255);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t,r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=(0,n.useConfig)(),i=o.encounterTypes,s=o.data,l=i.length?"&encounter.type=".concat(i.toString()):"",c="".concat(n.fhirBaseUrl,"/Observation?subject:Patient=").concat(e,"&code=").concat(s.map((function(e){return e.concept})).join(","),"&_summary=data&_sort=-date&_count=").concat(100).concat(l);a&&(c+="&_include=Observation:encounter");var A,d=(0,_.ZP)(c,n.openmrsFetch),p=d.data,g=d.error,b=d.isLoading,m=d.isValidating,f=a?null==(A=null==p||null===(t=p.data)||void 0===t?void 0:t.entry)?void 0:A.filter((function(e){var t;return"Encounter"===(null==e||null===(t=e.resource)||void 0===t?void 0:t.resourceType)})).map((function(e){var t,r,n,a;return{reference:"Encounter/".concat(e.resource.id),display:(null===(a=e.resource.type)||void 0===a||null===(n=a[0])||void 0===n||null===(r=n.coding)||void 0===r||null===(t=r[0])||void 0===t?void 0:t.display)||"--"}})):[],h=function(e,t){var r;return(null==e||null===(r=e.filter((function(e){var t;return"Observation"===(null==e||null===(t=e.resource)||void 0===t?void 0:t.resourceType)})))||void 0===r?void 0:r.map((function(e){var r,n,a,o,i=e.resource,s=(a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}({},i),o=null!=(o={conceptUuid:null===(r=i.code.coding.find((function(e){return 36===e.code.length})))||void 0===r?void 0:r.code})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(o)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})),a);return i.hasOwnProperty("valueDateTime")&&(s.dataType="DateTime"),e.resource.hasOwnProperty("valueString")&&(s.dataType="Text"),e.resource.hasOwnProperty("valueQuantity")&&(s.dataType="Number"),e.resource.hasOwnProperty("valueCodeableConcept")&&(s.dataType="Coded"),s.encounter.name=null===(n=t.find((function(e){return e.reference===i.encounter.reference})))||void 0===n?void 0:n.display,s})))||[]}(null==p||null===(r=p.data)||void 0===r?void 0:r.entry,f);return{data:h,error:g,isLoading:b,isValidating:m}}var g=r(2779),b=r.n(g),m=r(5771),f=r(321),h=r.n(f),y=r(1195),C=r.n(y),v=r(3275),w=r.n(v),E=r(7162),D=r.n(E),T=r(2094),O=r.n(T),B=r(757),k=r.n(B),S=r(4512),j={};j.styleTagTransform=k(),j.setAttributes=D(),j.insert=w().bind(null,"head"),j.domAPI=C(),j.insertStyleElement=O(),h()(S.Z,j);const P=S.Z&&S.Z.locals?S.Z.locals:void 0;function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I;!function(e){e.TIME="time",e.LINEAR="linear",e.LOG="log",e.LABELS="labels",e.LABELS_RATIO="labels-ratio"}(I||(I={}));const x=function(e){var t,r,a,c,A=e.patientUuid,d=(0,s.useTranslation)().t,_=(0,n.useConfig)(),u=p(A).data,g=(a=i().useState({label:null===(t=_.data[0])||void 0===t?void 0:t.label,uuid:null===(r=_.data[0])||void 0===r?void 0:r.concept}),c=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}}(a,c)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=g[0],h=g[1],y=(0,o.useMemo)((function(){var e=u.filter((function(e){return e.conceptUuid===f.uuid&&"Number"===e.dataType})).map((function(e){return{group:f.label,key:(0,n.formatDate)(new Date(e.effectiveDateTime),{year:!0,time:!1}),value:e.valueQuantity.value}}));return _.graphOldestFirst&&e.reverse(),e}),[u,_.graphOldestFirst,f.uuid,f.label]),C=Object.fromEntries(_.data.map((function(e){return[e.label,e.color]}))),v={axes:{bottom:{title:"Date",mapsTo:"key",scaleType:"labels"},left:{mapsTo:"value",title:f.label,scaleType:"linear",includeZero:!1}},legend:{enabled:!1},color:{scale:C},height:"400px"};return i().createElement(i().Fragment,null,i().createElement("div",{className:P.graphContainer},i().createElement("div",{className:P.conceptPickerTabs},i().createElement("label",{className:P.conceptLabel,htmlFor:"concept-tab-group"},d("displaying","Displaying")),i().createElement(l.mQc,{id:"concept-tab-group",className:P.verticalTabs,type:"default"},i().createElement(l.tdY,{className:P.tablist,"aria-label":"Obs tabs"},_.data.map((function(e,t){var r,n,a,o=e.concept,s=e.label,c=b()(P.tab,P.bodyLong01,(r={},n=P.selectedTab,a=f.label===s,n in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r));return i().createElement(l.OK9,{key:o,className:c,onClick:function(){return h({label:s,uuid:o})}},s)}))))),i().createElement("div",{className:P.lineChartContainer},i().createElement(m.wW,{data:y.flat(),options:v}))),_.interpretationSlot?i().createElement("div",null,i().createElement(n.ExtensionSlot,{name:_.interpretationSlot,style:{gridTemplateColumns:"1fr"}})):null)};var N=r(5136),G={};G.styleTagTransform=k(),G.setAttributes=D(),G.insert=w().bind(null,"head"),G.domAPI=C(),G.insertStyleElement=O(),h()(N.Z,G);const U=N.Z&&N.Z.locals?N.Z.locals:void 0;function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){z(e,t,r[t])}))}return e}function L(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const H=function(e){var t=e.patientUuid,r=(0,s.useTranslation)().t,a=(0,n.useConfig)(),o=p(t,a.showEncounterType),c=o.data,A=(o.error,o.isLoading,o.isValidating,L(new Set(c.map((function(e){return e.issued})))).sort().map((function(e){return c.filter((function(t){return t.issued===e}))}))),_=[{key:"date",header:r("dateAndTime","Date and time"),isSortable:!0}].concat(L(a.data.map((function(e){return{key:e.concept,header:e.label}}))));a.showEncounterType&&_.splice(1,0,{key:"encounter",header:r("encounterType","Encounter type"),isSortable:!0});var u=i().useMemo((function(){return null==A?void 0:A.map((function(e,t){var r={id:"".concat(t),date:(0,n.formatDatetime)(new Date(e[0].effectiveDateTime),{mode:"wide"}),encounter:e[0].encounter.name},o=!0,i=!1,s=void 0;try{for(var l,c=function(){var e=l.value;switch(e.dataType){case"Text":r[e.conceptUuid]=e.valueString;break;case"Number":var t,o,i,s,c,A=null===(t=a.data.find((function(t){return t.concept===e.conceptUuid})))||void 0===t?void 0:t.decimalPlaces;(null===(o=e.valueQuantity)||void 0===o?void 0:o.value)%1!=0?r[e.conceptUuid]=A>0?null===(i=e.valueQuantity)||void 0===i?void 0:i.value.toFixed(A):null===(s=e.valueQuantity)||void 0===s?void 0:s.value.toFixed(2):r[e.conceptUuid]=null===(c=e.valueQuantity)||void 0===c?void 0:c.value;break;case"Coded":var d,_;r[e.conceptUuid]=null===(_=e.valueCodeableConcept)||void 0===_||null===(d=_.coding[0])||void 0===d?void 0:d.display;break;case"DateTime":"dateTime"===(null==a?void 0:a.dateFormat)?r[e.conceptUuid]=(0,n.formatDatetime)(new Date(e.valueDateTime),{mode:"standard"}):"time"===(null==a?void 0:a.dateFormat)?r[e.conceptUuid]=(0,n.formatTime)(new Date(e.valueDateTime)):"date"===(null==a?void 0:a.dateFormat)?r[e.conceptUuid]=(0,n.formatDate)(new Date(e.valueDateTime),{mode:"standard"}):r[e.conceptUuid]=(0,n.formatDatetime)(new Date(e.valueDateTime),{mode:"standard"})}},A=e[Symbol.iterator]();!(o=(l=A.next()).done);o=!0)c()}catch(e){i=!0,s=e}finally{try{o||null==A.return||A.return()}finally{if(i)throw s}}return r}))}),[a,A]),g=(0,n.usePagination)(u,a.table.pageSize),b=g.results,m=g.goTo,f=g.currentPage;return i().createElement("div",null,i().createElement(l.wQF,{rows:b,headers:_,isSortable:!0,size:"sm",useZebraStyles:!0},(function(e){var t,r,n=e.rows,a=e.headers,o=e.getHeaderProps,s=e.getTableProps;return i().createElement(l.xJi,null,i().createElement(l.iA_,(t=M({},s()),r=null!=(r={className:U.customRow})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t),i().createElement(l.ssF,null,i().createElement(l.SCH,null,a.map((function(e){var t,r;return i().createElement(l.xDH,M({className:U.tableHeader},o({header:e,isSortable:e.isSortable})),null!==(r=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==r?r:e.header)})))),i().createElement(l.RMI,null,n.map((function(e){return i().createElement(l.SCH,{key:e.id},e.cells.map((function(e){var t,r,n;return i().createElement(l.pj1,{key:e.id},null!==(n=null!==(r=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==r?r:e.value)&&void 0!==n?n:"--")})))})))))})),i().createElement(d.PatientChartPagination,{pageNumber:f,totalItems:u.length,currentItems:b.length,pageSize:a.table.pageSize,onPageNumberChange:function(e){var t=e.page;return m(t)}}))};var R=r(1897),W={};W.styleTagTransform=k(),W.setAttributes=D(),W.insert=w().bind(null,"head"),W.domAPI=C(),W.insertStyleElement=O(),h()(R.Z,W);const q=R.Z&&R.Z.locals?R.Z.locals:void 0;function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){J(e,t,r[t])}))}return e}var Y=r(3979),K="@openmrs/esm-generic-patient-widgets-app",X={featureName:"Generic widgets",moduleName:K},$=(0,n.getSyncLifecycle)((function(e){var t,r,a=e.patientUuid,o=(0,s.useTranslation)().t,_=(0,n.useConfig)(),u=(t=i().useState(_.showGraphByDefault),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=u[0],b=u[1],m=p(a),f=m.data,h=m.error,y=m.isLoading,C=m.isValidating,v=f.find((function(e){return"Number"===e.dataType}));return i().createElement(i().Fragment,null,y?i().createElement(l.gqd,{role:"progressbar"}):h?i().createElement(d.ErrorState,{error:h,headerTitle:_.title}):(null==f?void 0:f.length)?i().createElement("div",{className:q.widgetContainer},i().createElement(d.CardHeader,{title:_.title},i().createElement("div",{className:q.backgroundDataFetchingIndicator},i().createElement("span",null,C?i().createElement(l.lSo,null):null)),v?i().createElement("div",{className:q.headerActionItems},i().createElement("div",{className:q.toggleButtons},i().createElement(l.zxk,{className:q.toggle,size:"md",kind:g?"ghost":"tertiary",hasIconOnly:!0,renderIcon:function(e){return i().createElement(c.iA,Q({size:16},e))},iconDescription:o("tableView","Table View"),onClick:function(){return b(!1)}}),i().createElement(l.zxk,{className:q.toggle,size:"md",kind:g?"tertiary":"ghost",hasIconOnly:!0,renderIcon:function(e){return i().createElement(A.eA,Q({size:16},e))},iconDescription:o("chartView","Chart View"),onClick:function(){return b(!0)}}))):null),g&&v?i().createElement(x,{patientUuid:a}):i().createElement(H,{patientUuid:a})):i().createElement(d.EmptyState,{displayText:_.resultsName,headerTitle:_.title}))}),X);function ee(){(0,n.defineExtensionConfigSchema)(K,a)}},3979:(e,t,r)=>{var n={"./am.json":[8788,788],"./ar.json":[4460,460],"./en.json":[3574,574],"./es.json":[8319,319],"./fr.json":[2757,757],"./he.json":[5833,833],"./km.json":[7807,807],"./zh.json":[8271,271],"./zh_CN.json":[1644,644]};function a(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return r.e(t[1]).then((()=>r(a)))}a.keys=()=>Object.keys(n),a.id=3979,e.exports=a}}]);