/*! For license information please see 130.js.LICENSE.txt */
(globalThis.webpackChunk_openmrs_esm_patient_labs_app=globalThis.webpackChunk_openmrs_esm_patient_labs_app||[]).push([[130],{3098:(t,e,n)=>{function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function a(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}System.register(["@openmrs/esm-config","@openmrs/esm-navigation","@openmrs/esm-error-handling","@openmrs/esm-offline"],(function(t,e){var u={},s={},c={},l={};return{setters:[function(t){u.Type=t.Type,u.defineConfigSchema=t.defineConfigSchema,u.getConfig=t.getConfig,u.validators=t.validators},function(t){s.navigate=t.navigate},function(t){c.reportError=t.reportError},function(t){l.getSynchronizationItems=t.getSynchronizationItems}],execute:function(){t(function(){var t={385:function(){System.register([],(function(t,e){return{execute:function(){t(function(){"use strict";var t=function(t,e){var n=u[t];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(e,!0),n.active=!0,n.value;var r=a()((function(){return e}));return u[t]={value:r,active:!0},r},e=function(t,e){var n=u[t];if(!n){var r=a()((function(){return null!=e?e:{}}));return u[t]={value:r,active:!1},r}return n.value},n=function(t,e,n){var r=e(t.getState());return t.subscribe((function(t){var o=e(t);o!==r&&(r=o,n(o))}))},r={d:function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};r.r(o),r.d(o,{createGlobalStore:function(){return t},getGlobalStore:function(){return e},subscribeTo:function(){return n}});var i=function(t){var e,n=new Set,r=function(t,r){var o="function"==typeof t?t(e):t;if(!Object.is(o,e)){var i=e;e=(null!=r?r:"object"!=typeof o)?o:Object.assign({},e,o),n.forEach((function(t){return t(e,i)}))}},o=function(){return e},i={setState:r,getState:o,subscribe:function(t){return n.add(t),function(){return n.delete(t)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,o,i),i},a=function(t){return t?i(t):i},u={};return setTimeout((function(){"development"===window.spaEnv&&(window.stores=u)}),1e3),o}())}}}))},824:function(t){"use strict";t.exports=u},254:function(t){"use strict";t.exports=c},513:function(t){"use strict";t.exports=s},738:function(t){"use strict";t.exports=l}},e={};function f(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,f),o.exports}f.d=function(t,e){for(var n in e)f.o(e,n)&&!f.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},f.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},f.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var p={};return function(){"use strict";var t=function(t,e){function n(){this.constructor=t}se(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},e=function(t){return"function"==typeof t},u=function(t){setTimeout((function(){throw t}),0)},s=function(t){return null!==t&&"object"==typeof t},c=function(t){return t.reduce((function(t,e){return t.concat(i(e,de)?e.errors:e)}),[])},l=function(t){return t},h=function(t){if(t||(t=le.Promise||Promise),!t)throw new Error("no Promise impl found");return t},d=function(t,e,n){var r=g(t,e,n);Ge.length?Ge.forEach((function(t){return t(r)})):setTimeout((function(){throw r}))},v=function(t){if("function"!=typeof t)throw Error(m(28,!1));Ge.push(t)},y=function(t){if("function"!=typeof t)throw Error(m(29,!1));var e=!1;return Ge=Ge.filter((function(n){var r=n===t;return e=e||r,!r})),e},m=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"single-spa minified message #".concat(t,": ").concat(e?e+" ":"","See https://single-spa.js.org/error/?code=").concat(t).concat(r.length?"&arg=".concat(r.join("&arg=")):"")},g=function(t,e,n){var r,o="".concat(E(e)," '").concat(S(e),"' died in status ").concat(e.status,": ");if(i(t,Error)){try{t.message=o+t.message}catch(t){}r=t}else{console.warn(m(30,!1,e.status,S(e)));try{r=Error(o+JSON.stringify(t))}catch(e){r=t}}return r.appOrParcelName=S(e),e.status=n,r},b=function(t){return t.status===Je},w=function(t){try{return t.activeWhen(window.location)}catch(e){return d(e,t,nn),!1}},S=function(t){return t.name},O=function(t){return Boolean(t.unmountThisParcel)},E=function(t){return O(t)?"parcel":"application"},_=function(){for(var t=arguments.length-1;t>0;t--)for(var e in arguments[t])"__proto__"!==e&&(arguments[t-1][e]=arguments[t][e]);return arguments[0]},j=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},x=function(t){return t&&("function"==typeof t||(e=t,Array.isArray(e)&&!j(e,(function(t){return"function"!=typeof t}))));var e},P=function(t,e){var n=t[e]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var r=E(t),o=S(t);return function(t){return n.reduce((function(n,i,a){return n.then((function(){var n=i(t);return k(n)?n:Promise.reject(m(15,!1,r,o,e,a))}))}),Promise.resolve())}},k=function(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch},A=function(t,e){return Promise.resolve().then((function(){return t.status!==ze?t:(t.status=qe,t.bootstrap?F(t,"bootstrap").then(n).catch((function(n){if(e)throw g(n,t,nn);return d(n,t,nn),t})):Promise.resolve().then(n))}));function n(){return t.status=Ze,t}},C=function(t,e){return Promise.resolve().then((function(){var n=function(){return F(t,"unmount").then((function(){t.status=Ze}),(function(n){if(e)throw g(n,t,nn);d(n,t,nn)}))};if(t.status!==Je)return t;t.status=Qe;var r=Object.keys(t.parcels).map((function(e){return t.parcels[e].unmountThisParcel()}));return Promise.all(r).then(n,(function(r){return n().then((function(){var n=Error(r.message);if(e)throw g(n,t,nn);d(n,t,nn)}))})).then((function(){return t}))}))},T=function(t,e){return Promise.resolve().then((function(){return t.status!==Ze?t:(on||(window.dispatchEvent(new Ke("single-spa:before-first-mount")),on=!0),t.status=Ye,F(t,"mount").then((function(){return t.status=Je,an||(window.dispatchEvent(new Ke("single-spa:first-mount")),an=!0),t})).catch((function(n){var r=function(){if(e)throw g(n,t,nn);return d(n,t,nn),t};return t.status=Je,C(t,!0).then(r,r)})))}))},I=function(){return D.apply(sn,arguments)},D=function(t,e){var n=this;if(!t||"object"!=typeof t&&"function"!=typeof t)throw Error(m(2,!1));if(t.name&&"string"!=typeof t.name)throw Error(m(3,!1,a(t.name)));var r=un++,o=t.name||"parcel-".concat(r);if("object"!=typeof e)throw Error(m(4,!1,o,void 0===e?"undefined":a(e)));if(!e.domElement)throw Error(m(5,!1,o));var i,u="function"==typeof t,s=u?t:function(){return Promise.resolve(t)},c={id:r,parcels:{},status:u?$e:ze,customProps:e,parentName:S(n),unmountThisParcel:function(){return d.then((function(){if(c.status!==Je)throw Error(m(6,!1,o,c.status));return C(c,!0)})).then((function(t){return c.parentName&&delete n.parcels[c.id],t})).then((function(t){return f(t),t})).catch((function(t){throw c.status=nn,p(t),t}))}};n.parcels[r]=c;var l=s();if(!l||"function"!=typeof l.then)throw Error(m(7,!1));l=l.then((function(t){if(!t)throw Error(m(8,!1));if(o=t.name||"parcel-".concat(r),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!x(t.bootstrap))throw Error(m(9,!1,o));if(!x(t.mount))throw Error(m(10,!1,o));if(!x(t.unmount))throw Error(m(11,!1,o));if(t.update&&!x(t.update))throw Error(m(12,!1,o));var e=P(t,"bootstrap"),n=P(t,"mount"),a=P(t,"unmount");c.status=ze,c.name=o,c.bootstrap=e,c.mount=n,c.unmount=a,c.timeouts=H(t.timeouts),t.update&&(c.update=P(t,"update"),i.update=function(t){return c.customProps=t,N((e=c,Promise.resolve().then((function(){if(e.status!==Je)throw Error(m(32,!1,S(e)));return e.status=Xe,F(e,"update").then((function(){return e.status=Je,e})).catch((function(t){throw g(t,e,nn)}))}))));var e})}));var f,p,h=l.then((function(){return A(c,!0)})),d=h.then((function(){return T(c,!0)})),v=new Promise((function(t,e){f=t,p=e}));return i={mount:function(){return N(Promise.resolve().then((function(){if(c.status!==Ze)throw Error(m(13,!1,o,c.status));return n.parcels[r]=c,T(c)})))},unmount:function(){return N(c.unmountThisParcel())},getStatus:function(){return c.status},loadPromise:N(l),bootstrapPromise:N(h),mountPromise:N(d),unmountPromise:N(v)}},N=function(t){return t.then((function(){return null}))},R=function(t){var e=S(t),n="function"==typeof t.customProps?t.customProps(e,window.location):t.customProps;("object"!=typeof n||null===n||Array.isArray(n))&&(n={},console.warn(m(40,!1),e,n));var r=_({},n,{name:e,mountParcel:D.bind(t),singleSpa:He});return O(t)&&(r.unmountSelf=t.unmountThisParcel),r},L=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(m(16,!1));cn.bootstrap={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},M=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(m(17,!1));cn.mount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},U=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(m(18,!1));cn.unmount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},B=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(m(19,!1));cn.unload={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},F=function(t,e){var n=t.timeouts[e],r=n.warningMillis,o=E(t);return new Promise((function(i,a){var u=!1,s=!1;t[e](R(t)).then((function(t){u=!0,i(t)})).catch((function(t){u=!0,a(t)})),setTimeout((function(){return l(1)}),r),setTimeout((function(){return l(!0)}),n.millis);var c=m(31,!1,e,o,S(t),n.millis);function l(t){if(!u)if(!0===t)s=!0,n.dieOnTimeout?a(Error(c)):console.error(c);else if(!s){var e=t,o=e*r;console.warn(c),o+r<n.millis&&setTimeout((function(){return l(e+1)}),r)}}}))},H=function(t){var e={};for(var n in cn)e[n]=_({},cn[n],t&&t[n]||{});return e},V=function(t){return Promise.resolve().then((function(){return t.loadPromise?t.loadPromise:t.status!==We&&t.status!==en?t:(t.status=$e,t.loadPromise=Promise.resolve().then((function(){var r=t.loadApp(R(t));if(!k(r))throw n=!0,Error(m(33,!1,S(t)));return r.then((function(n){var r;t.loadErrorTime=null,"object"!=typeof(e=n)&&(r=34),Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!x(e.bootstrap)&&(r=35),x(e.mount)||(r=36),x(e.unmount)||(r=37);var o=E(e);if(r){var i;try{i=JSON.stringify(e)}catch(t){}return console.error(m(r,!1,o,S(t),i),e),d(void 0,t,nn),t}return e.devtools&&e.devtools.overlays&&(t.devtools.overlays=_({},t.devtools.overlays,e.devtools.overlays)),t.status=ze,t.bootstrap=P(e,"bootstrap"),t.mount=P(e,"mount"),t.unmount=P(e,"unmount"),t.unload=P(e,"unload"),t.timeouts=H(e.timeouts),delete t.loadPromise,t}))})).catch((function(e){var r;return delete t.loadPromise,n?r=nn:(r=en,t.loadErrorTime=(new Date).getTime()),d(e,t,r),t})));var e,n}))},K=function(t){var e;if("string"==typeof t)e=t;else if(this&&this.href)e=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error(m(14,!1));e=t.currentTarget.href,t.preventDefault()}var n=q(window.location.href),r=q(e);0===e.indexOf("#")?window.location.hash=r.hash:n.host!==r.host&&r.host?window.location.href=e:r.pathname===n.pathname&&r.search===n.search?window.location.hash=r.hash:window.history.pushState(null,null,e)},G=function(t){var e=this;if(t){var n=t[0].type;pn.indexOf(n)>=0&&fn[n].forEach((function(n){try{n.apply(e,t)}catch(t){setTimeout((function(){throw t}))}}))}},W=function(){On([],arguments)},$=function(t,e){return function(){var n=window.location.href,r=t.apply(this,arguments),o=window.location.href;return Fe&&n===o||window.dispatchEvent(function(t,e){var n;try{n=new PopStateEvent("popstate",{state:t})}catch(e){(n=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,t)}return n.singleSpa=!0,n.singleSpaTrigger=e,n}(window.history.state,e)),r}},z=function(t){if(dn)throw Error(m(43,!1));Fe=!t||!t.hasOwnProperty("urlRerouteOnly")||t.urlRerouteOnly,dn=!0,hn=window.history.replaceState,window.addEventListener("hashchange",W),window.addEventListener("popstate",W);var e=window.addEventListener,n=window.removeEventListener;window.addEventListener=function(t,n){if(!("function"==typeof n&&pn.indexOf(t)>=0)||j(fn[t],(function(t){return t===n})))return e.apply(this,arguments);fn[t].push(n)},window.removeEventListener=function(t,e){if(!("function"==typeof e&&pn.indexOf(t)>=0))return n.apply(this,arguments);fn[t]=fn[t].filter((function(t){return t!==e}))},window.history.pushState=$(window.history.pushState,"pushState"),window.history.replaceState=$(hn,"replaceState")},q=function(t){var e=document.createElement("a");return e.href=t,e},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!vn){var e=t.fn.on,n=t.fn.off;t.fn.on=function(t,n){return Y.call(this,e,window.addEventListener,t,n,arguments)},t.fn.off=function(t,e){return Y.call(this,n,window.removeEventListener,t,e,arguments)},vn=!0}},Y=function(t,e,n,r,o){return"string"!=typeof n?t.apply(this,o):(n.split(/\s+/).forEach((function(t){pn.indexOf(t)>=0&&(e(t,r),n=n.replace(t,""))})),""===n.trim()?this:t.apply(this,o))},J=function(t){return Promise.resolve().then((function(){var e=yn[S(t)];if(!e)return t;if(t.status===We)return X(t,e),t;if(t.status===tn)return e.promise.then((function(){return t}));if(t.status!==Ze&&t.status!==en)return t;var n=t.status===en?Promise.resolve():F(t,"unload");return t.status=tn,n.then((function(){return X(t,e),t})).catch((function(n){return function(t,e,n){delete yn[S(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,d(n,t,nn),e.reject(n)}(t,e,n),t}))}))},X=function(t,e){delete yn[S(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=We,e.resolve()},Q=function(t,e,n,r){yn[S(t)]={app:t,resolve:n,reject:r},Object.defineProperty(yn[S(t)],"promise",{get:e})},tt=function(t){return yn[t]},et=function(){return mn.filter(b).map(S)},nt=function(){return mn.map(S)},rt=function(t){var e=j(mn,(function(e){return S(e)===t}));return e?e.status:null},ot=function(t,e,n,r){var o=function(t,e,n,r){var o,i={name:null,loadApp:null,activeWhen:null,customProps:null};return"object"==typeof t?(function(t){if(Array.isArray(t)||null===t)throw Error(m(39,!1));var e=["name","app","activeWhen","customProps"],n=Object.keys(t).reduce((function(t,n){return e.indexOf(n)>=0?t:t.concat(n)}),[]);if(0!==n.length)throw Error(m(38,!1,e.join(", "),n.join(", ")));if("string"!=typeof t.name||0===t.name.length)throw Error(m(20,!1));if("object"!=typeof t.app&&"function"!=typeof t.app)throw Error(m(20,!1));var r=function(t){return"string"==typeof t||"function"==typeof t};if(!(r(t.activeWhen)||Array.isArray(t.activeWhen)&&t.activeWhen.every(r)))throw Error(m(24,!1));if(!ct(t.customProps))throw Error(m(22,!1))}(t),i.name=t.name,i.loadApp=t.app,i.activeWhen=t.activeWhen,i.customProps=t.customProps):(function(t,e,n,r){if("string"!=typeof t||0===t.length)throw Error(m(20,!1));if(!e)throw Error(m(23,!1));if("function"!=typeof n)throw Error(m(24,!1));if(!ct(r))throw Error(m(22,!1))}(t,e,n,r),i.name=t,i.loadApp=e,i.activeWhen=n,i.customProps=r),i.loadApp="function"!=typeof(o=i.loadApp)?function(){return Promise.resolve(o)}:o,i.customProps=function(t){return t||{}}(i.customProps),i.activeWhen=function(t){var e=Array.isArray(t)?t:[t];return e=e.map((function(t){return"function"==typeof t?t:lt(t)})),function(t){return e.some((function(e){return e(t)}))}}(i.activeWhen),i}(t,e,n,r);if(dt()||gn||(gn=!0,setTimeout((function(){dt()||console.warn(m(1,!1))}),5e3)),-1!==nt().indexOf(o.name))throw Error(m(21,!1,o.name));mn.push(_({loadErrorTime:null,status:We,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},o)),ln&&(Z(),On())},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;return mn.filter((function(e){return e.activeWhen(t)})).map(S)},at=function(t){if(0===mn.filter((function(e){return S(e)===t})).length)throw Error(m(25,!1,t));return(ln?ut(t,{waitForUnmount:!1}):Promise.resolve()).then((function(){var e=mn.map(S).indexOf(t);mn.splice(e,1)}))},ut=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof t)throw Error(m(26,!1));var n=j(mn,(function(e){return S(e)===t}));if(!n)throw Error(m(27,!1,t));var r,o=tt(S(n));if(e&&e.waitForUnmount){if(o)return o.promise;var i=new Promise((function(t,e){Q(n,(function(){return i}),t,e)}));return i}return o?(r=o.promise,st(n,o.resolve,o.reject)):r=new Promise((function(t,e){Q(n,(function(){return r}),t,e),st(n,t,e)})),r},st=function(t,e,n){Promise.resolve().then((function(){if(j(it(),(function(e){return e===S(t)})))return ft()})).then((function(){return C(t).then(J).then((function(){e(),setTimeout((function(){On()}))}))})).catch(n)},ct=function(t){return!t||"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},lt=function(t,e){var n=function(t,e){var n=0,r=!1,o="^";"/"!==t[0]&&(t="/"+t);for(var i=0;i<t.length;i++){var a=t[i];(!r&&":"===a||r&&"/"===a)&&u(i)}return u(t.length),new RegExp(o,"i");function u(i){var a=t.slice(n,i).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(o+=r?"[^/]+/?":a,i===t.length)if(r)e&&(o+="$");else{var u=e?"":".*";o="/"===o.charAt(o.length-1)?"".concat(o).concat(u,"$"):"".concat(o,"(/").concat(u,")?(#.*)?$")}r=!r,n=i}}(t,e);return function(t){var e=t.origin;e||(e="".concat(t.protocol,"//").concat(t.host));var r=t.href.replace(e,"").replace(t.search,"").split("?")[0];return n.test(r)}},ft=function(){return On()},pt=function(t,e){return w(t)?A(t).then((function(t){return e.then((function(){return w(t)?T(t):t}))})):e.then((function(){return t}))},ht=function(t){En=!0,ln&&(z(t),On())},dt=function(){return En},vt=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},yt=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},mt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},gt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},bt=function(t){return t&&t.startsWith("http")?t:("/"!==t[0]&&(t="/"+t),window.openmrsBase+t)},wt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof t)throw Error("The first argument to @openmrs/api's openmrsFetch function must be a url string");if("object"!=typeof e)throw Error("The second argument to @openmrs/api's openmrsFetch function must be a plain object.");if(!window.openmrsBase)throw Error("@openmrs/api is running in a browser that doesn't have window.openmrsBase, which is provided by openmrs-module-spa's HTML file.");var n=bt(t);if(e.headers||(e.headers={}),Le(e.body)&&(e.body=JSON.stringify(e.body)),void 0===e.headers.Accept&&(e.headers.Accept="application/json"),null===e.headers.Accept&&delete e.headers.Accept,t.startsWith(Cn)&&void 0===e.headers["Disable-WWW-Authenticate"]&&(e.headers["Disable-WWW-Authenticate"]="true"),t.startsWith(Tn)){var r=new URL(n,window.location.toString());r.searchParams.has("_summary")||(r.searchParams.set("_summary","data"),n=r.toString())}var o,i,a=Error();return window.fetch(n,e).then((o=function(t){var e,r;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(o){switch(o.label){case 0:return(e=t).ok?204===e.status?(e.data=null,[2,e]):[2,e.clone().text().then((function(t){try{t&&(e.data=JSON.parse(t))}catch(t){}return e}))]:[3,1];case 1:return[4,(0,Me.getConfig)("@openmrs/esm-api")];case 2:return r=o.sent().redirectAuthFailure,n===bt(In)&&403===e.status||r.enabled&&r.errors.includes(e.status)?(sessionStorage.removeItem(jn),(0,Ue.navigate)({to:r.url}),[2,r.resolvePromise?Promise.resolve():new Promise((function(){}))]):[2,e.clone().text().then((function(t){var r=t;try{r=JSON.parse(t)}catch(t){}throw new Dn(n,e,r,a)}),(function(t){throw new Dn(n,e,null,a)}))];case 3:return[2]}}))},i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){yt(i,n,r,a,u,"next",t)}function u(t){yt(i,n,r,a,u,"throw",t)}a(void 0)}))},function(t){return i.apply(this,arguments)}))},St=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof e)throw Error("The second argument to openmrsObservableFetch must be either omitted or an object");var n=new AbortController;return e.signal=n.signal,new we((function(r){var o=!1;return wt(t,e).then((function(t){o=!0,r.next(t),r.complete()}),(function(t){o=!0,r.error(t)})),function(){o||n.abort()}}))},Ot=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},Et=function(t,e){return wt("".concat(Nn,"/").concat(t),{signal:e.signal})},_t=function(t,e,n){return wt("".concat(Nn,"?patient=").concat(t,"&includeEncounterless=").concat(e),{signal:n.signal})},jt=function(t,e){return Rn.apply(this,arguments)},xt=function(t,e){return wt("".concat(Nn,"/").concat(t),{method:"DELETE",signal:e.signal})},Pt=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},kt=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Pt(i,r,o,a,u,"next",t)}function u(t){Pt(i,r,o,a,u,"throw",t)}a(void 0)}))}},At=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeAuthStatus:!0};return(Bn<Date.now()-6e4||!Un.getState().loaded)&&Dt(),new we((function(e){var n=function(n){var r;n.loaded&&(t.includeAuthStatus?e.next(n.session):e.next(null===(r=n.session)||void 0===r?void 0:r.user))};return n(Un.getState()),Un.subscribe(n)}))},Tt=function(){return(Bn<Date.now()-6e4||!Un.getState().loaded)&&Dt(),Un},It=function(t){var e,n,r,o=null!==(r=null==t||null===(e=t.user)||void 0===e||null===(n=e.userProperties)||void 0===n?void 0:n.defaultLocale)&&void 0!==r?r:t.locale,i=document.documentElement.getAttribute("lang");(function(t){if(void 0===t||"string"!=typeof t)return!1;try{new Intl.Locale(t)}catch(t){return!1}return!0})(o)&&o!==i&&document.documentElement.setAttribute("lang",o)},Dt=function(t,e){Bn=Date.now();var n={};return t&&e&&(n.Authorization="Basic ".concat(window.btoa("".concat(t,":").concat(e)))),Ft(wt(In,{headers:n}))},Nt=function(){Un.setState({loaded:!0,session:{authenticated:!1,sessionId:""}})},Rt=function(t,e){return void 0===e?Boolean(t):!Boolean(t)||function(t,e){return"string"==typeof t?!Mn(e.privileges.find((function(e){return t===e.display}))):Array.isArray(t)?t.every((function(t){return!Mn(e.privileges.find((function(e){return t===e.display})))})):(Mn(t)||console.error('Could not understand privileges "'.concat(t,'"')),!0)}(t,e)||function(t){return!Mn(t.roles.find((function(t){return"System Developer"===t.display})))}(e)},Lt=function(){var t,e;return new Promise((function(n){var r=function(r){r.loaded&&r.session.user&&(t=r.session.user,n(r.session.user),e&&e())};r(Un.getState()),t||(e=Un.subscribe(r))}))},Mt=function(){return new Promise((function(t,e){Ct().subscribe((function(e){t(e.sessionLocation)}),e).unsubscribe()}))},Ut=function(t,e){return Fn.apply(this,arguments)},Bt=function(t,e,n){return Hn.apply(this,arguments)},Ft=function(t){return new Promise((function(e,n){t.then((function(t){var r;"object"==typeof(null==t?void 0:t.data)?(r={loaded:!0,session:t.data},Un.setState(r),e(r)):(r={loaded:!1,session:null},Un.setState(r),n(r))})).catch((function(t){(0,Ln.reportError)("Failed to fetch new session information: ".concat(t));var e={loaded:!1,session:null};Un.setState(e),n(e)}))}))},Ht=function(){(0,Me.defineConfigSchema)("@openmrs/esm-api",{redirectAuthFailure:{enabled:{_type:Me.Type.Boolean,_default:!0,_description:"Whether to redirect logged-out users to `redirectAuthFailure.url`"},url:{_type:Me.Type.String,_default:"${openmrsSpaBase}/login",_validators:[Me.validators.isUrl]},errors:{_type:Me.Type.Array,_default:[401],_elements:{_type:Me.Type.Number,_validators:[Me.validators.inRange(100,600)]},_description:"The HTTP error codes for which users will be redirected"},resolvePromise:{_type:Me.Type.Boolean,_default:!1,_description:"Changes how requests that fail authentication are handled. Try messing with this if redirects to the login page aren't working correctly."}}}),Dt()},Vt=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},Kt=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},Gt=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Kt(i,r,o,a,u,"next",t)}function u(t){Kt(i,r,o,a,u,"throw",t)}a(void 0)}))}},Wt=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},$t=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},zt=function(t,e){return Kn.apply(this,arguments)},qt=function(t){return Gn.apply(this,arguments)},Zt=function(t){return function(e){return 0===t?Xn:e.lift(new Qn(t))}},Yt=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new er(t,e))}},Jt=function(){return(0,Be.getGlobalStore)("visit",or)},Xt=function(t,e){Jt().setState({patientUuid:t,manuallySetVisitUuid:e})},Qt=function(t,e,n){var r=null!=n?n:rr;return St("".concat(Cn,"/visit?patient=").concat(t,"&v=").concat(r),{signal:e.signal,method:"GET",headers:{"Content-type":"application/json"}}).pipe(Zt(1)).pipe(Yt((function(t){return t})))},te=function(t,e){return St("".concat(Cn,"/visit"),{signal:e.signal,method:"POST",headers:{"Content-type":"application/json"},body:t})},ee=function(t,e,n){return St("".concat(Cn,"/visit/").concat(t),{signal:n.signal,method:"POST",headers:{"Content-type":"application/json"},body:e})},ne=function(t){return{uuid:t.uuid,display:t.display,name:t.name}},re=function(){return St("".concat(Cn,"/visittype")).pipe(Yt((function(t){return t.data.results.map(ne)}))).pipe(Zt(1))},oe=function(t){return{uuid:t.uuid,display:t.display}},ie=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return St("".concat(Cn,"/location")+(t?"?tag="+t:"")).pipe(Yt((function(t){return t.data.results.map(oe)}))).pipe(Zt(1))};f.r(p),f.d(p,{OpenmrsFetchError:function(){return Dn},VisitMode:function(){return ir},VisitStatus:function(){return ar},attachmentUrl:function(){return Nn},backendDependencies:function(){return sr},clearCurrentUser:function(){return Nt},createAttachment:function(){return jt},defaultVisitCustomRepresentation:function(){return rr},deleteAttachmentPermanently:function(){return xt},fetchCurrentPatient:function(){return zt},fhirBaseUrl:function(){return Tn},getAttachmentByUuid:function(){return Et},getAttachments:function(){return _t},getCurrentUser:function(){return Ct},getLocations:function(){return ie},getLoggedInUser:function(){return Lt},getSessionLocation:function(){return Mt},getSessionStore:function(){return Tt},getStartedVisit:function(){return ur},getVisitStore:function(){return Jt},getVisitTypes:function(){return re},getVisitsForPatient:function(){return Qt},makeUrl:function(){return bt},openmrsFetch:function(){return wt},openmrsObservableFetch:function(){return St},refetchCurrentUser:function(){return Dt},restBaseUrl:function(){return Cn},saveVisit:function(){return te},sessionEndpoint:function(){return In},setCurrentVisit:function(){return Xt},setSessionLocation:function(){return Ut},setUserLanguage:function(){return It},setUserProperties:function(){return Bt},setupApiModule:function(){return Ht},toLocationObject:function(){return oe},toVisitTypeObject:function(){return ne},updateVisit:function(){return ee},userHasAccess:function(){return Rt}});var ae,ue,se=function(t,e){return se=Object.setPrototypeOf||i({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},se(t,e)},ce=!1,le={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,ce=t},get useDeprecatedSynchronousErrorHandling(){return ce}},fe={closed:!0,next:function(t){},error:function(t){if(le.useDeprecatedSynchronousErrorHandling)throw t;u(t)},complete:function(){}},pe=Array.isArray||function(t){return t&&"number"==typeof t.length},he=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),de=he,ve=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var n;if(!this.closed){var r=this,o=r._parentOrParents,a=r._ctorUnsubscribe,u=r._unsubscribe,l=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i(o,t))o.remove(this);else if(null!==o)for(var f=0;f<o.length;++f)o[f].remove(this);if(e(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(t){n=i(t,de)?c(t.errors):[t]}}if(pe(l)){f=-1;for(var p=l.length;++f<p;){var h=l[f];if(s(h))try{h.unsubscribe()}catch(t){n=n||[],i(t,de)?n=n.concat(c(t.errors)):n.push(t)}}}if(n)throw new de(n)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(void 0===e?"undefined":a(e)){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!i(n,t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(i(o,t)){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var u=this._subscriptions;return null===u?this._subscriptions=[n]:u.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}(),ye="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),me=function(e){function n(t,r,o){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=fe;break;case 1:if(!t){a.destination=fe;break}if("object"==typeof t){i(t,n)?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(a)):(a.syncErrorThrowable=!0,a.destination=new ge(a,t));break}default:a.syncErrorThrowable=!0,a.destination=new ge(a,t,r,o)}return a}return t(n,e),n.prototype[ye]=function(){return this},n.create=function(t,e,r){var o=new n(t,e,r);return o.syncErrorThrowable=!1,o},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},n}(ve),ge=function(n){function r(t,r,o,i){var a,u=n.call(this)||this;u._parentSubscriber=t;var s=u;return e(r)?a=r:r&&(a=r.next,o=r.error,i=r.complete,r!==fe&&(e((s=Object.create(r)).unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=a,u._error=o,u._complete=i,u}return t(r,n),r.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;le.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=le.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):u(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;u(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};le.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),le.useDeprecatedSynchronousErrorHandling)throw t;u(t)}},r.prototype.__tryOrSetError=function(t,e,n){if(!le.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return le.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(u(e),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(me),be="function"==typeof Symbol&&Symbol.observable||"@@observable",we=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(i(t,me))return t;if(t[ye])return t[ye]()}return t||e||n?new me(t,e,n):new me(fe)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||le.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),le.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){le.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&i(r,me)?r:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=h(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[be]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:(0===(n=t).length?l:1===n.length?n[0]:function(t){return n.reduce((function(t,e){return e(t)}),t)})(this);var n},t.prototype.toPromise=function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}(),Se="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Oe="object"==typeof self&&self&&self.Object===Object&&self,Ee=(Se||Oe||Function("return this")()).Symbol,_e=Object.prototype,je=_e.hasOwnProperty,xe=_e.toString,Pe=Ee?Ee.toStringTag:void 0,ke=Object.prototype.toString,Ae=Ee?Ee.toStringTag:void 0,Ce=(ae=Object.getPrototypeOf,ue=Object,function(t){return ae(ue(t))}),Te=Function.prototype,Ie=Object.prototype,De=Te.toString,Ne=Ie.hasOwnProperty,Re=De.call(Object),Le=function(t){if(!function(t){return null!=t&&"object"==typeof t}(t)||"[object Object]"!=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ae&&Ae in Object(t)?function(t){var e=je.call(t,Pe),n=t[Pe];try{t[Pe]=void 0;var r=!0}catch(t){}var o=xe.call(t);return r&&(e?t[Pe]=n:delete t[Pe]),o}(t):function(t){return ke.call(t)}(t)}(t))return!1;var e=Ce(t);if(null===e)return!0;var n=Ne.call(e,"constructor")&&e.constructor;return"function"==typeof n&&i(n,n)&&De.call(n)==Re},Me=f(824),Ue=f(513),Be=f(385);(0,Be.createGlobalStore)("breadcrumbs",[]);var Fe,He=Object.freeze({__proto__:null,get start(){return ht},get ensureJQuerySupport(){return Z},get setBootstrapMaxTime(){return L},get setMountMaxTime(){return M},get setUnmountMaxTime(){return U},get setUnloadMaxTime(){return B},get registerApplication(){return ot},get unregisterApplication(){return at},get getMountedApps(){return et},get getAppStatus(){return rt},get unloadApplication(){return ut},get checkActivityFunctions(){return it},get getAppNames(){return nt},get pathToActiveWhen(){return lt},get navigateToUrl(){return K},get patchHistoryApi(){return z},get triggerAppChange(){return ft},get addErrorHandler(){return v},get removeErrorHandler(){return y},get mountRootParcel(){return I},get NOT_LOADED(){return We},get LOADING_SOURCE_CODE(){return $e},get NOT_BOOTSTRAPPED(){return ze},get BOOTSTRAPPING(){return qe},get NOT_MOUNTED(){return Ze},get MOUNTING(){return Ye},get UPDATING(){return Xe},get LOAD_ERROR(){return en},get MOUNTED(){return Je},get UNLOADING(){return tn},get UNMOUNTING(){return Qe},get SKIP_BECAUSE_BROKEN(){return nn}}),Ve=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).CustomEvent,Ke=function(){try{var t=new Ve("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?Ve:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n},Ge=[],We="NOT_LOADED",$e="LOADING_SOURCE_CODE",ze="NOT_BOOTSTRAPPED",qe="BOOTSTRAPPING",Ze="NOT_MOUNTED",Ye="MOUNTING",Je="MOUNTED",Xe="UPDATING",Qe="UNMOUNTING",tn="UNLOADING",en="LOAD_ERROR",nn="SKIP_BECAUSE_BROKEN",rn=[],on=!1,an=!1,un=0,sn={parcels:{}},cn={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:1e3},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},update:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3}},ln="undefined"!=typeof window,fn={hashchange:[],popstate:[]},pn=["hashchange","popstate"],hn=null,dn=!1;ln&&(window.singleSpaNavigate?console.warn(m(41,!1)):window.singleSpaNavigate=K);var vn=!1,yn={},mn=[],gn=!1,bn=!1,wn=[],Sn=ln&&window.location.href;function On(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bn)return new Promise((function(t,n){wn.push({resolve:t,reject:n,eventArguments:e})}));var r,i=function(){var t=[],e=[],n=[],r=[],o=(new Date).getTime();return mn.forEach((function(i){var a=i.status!==nn&&w(i);switch(i.status){case en:a&&o-i.loadErrorTime>=200&&n.push(i);break;case We:case $e:a&&n.push(i);break;case ze:case Ze:!a&&tt(S(i))?t.push(i):a&&r.push(i);break;case Je:a||e.push(i)}})),{appsToUnload:t,appsToUnmount:e,appsToLoad:n,appsToMount:r}}(),a=i.appsToUnload,u=i.appsToUnmount,s=i.appsToLoad,c=i.appsToMount,l=[],f=Sn,p=Sn=window.location.href;return dt()?(bn=!0,r=a.concat(s,u,c),Promise.resolve().then((function(){return g(0===r.length?"before-no-app-change":"before-app-change",y(!0)),g("before-routing-event",y(!0,{cancelNavigation:h})),Promise.all(l).then((function(n){if(n.some((function(t){return t})))return hn.call(window.history,history.state,"",f.substring(location.origin.length)),Sn=location.href,bn=!1,On(t,e,!0);var r=a.map(J),o=u.map(C).map((function(t){return t.then(J)})).concat(r),i=Promise.all(o);i.then((function(){g("before-mount-routing-event",y(!0))}),(function(t){throw t}));var l=s.map((function(t){return V(t).then((function(t){return pt(t,i)}))})),p=c.filter((function(t){return s.indexOf(t)<0})).map((function(t){return pt(t,i)}));return i.catch((function(t){throw v(),t})).then((function(){return v(),Promise.all(l.concat(p)).catch((function(e){throw t.forEach((function(t){return t.reject(e)})),e})).then(d).then((function(){}),(function(t){throw t}))}))}))}))):(r=s,Promise.resolve().then((function(){var t=s.map(V);return Promise.all(t).then(v).then((function(){return[]})).catch((function(t){throw v(),t})).finally((function(){}))})));function h(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="function"==typeof(null==t?void 0:t.then)?t:Promise.resolve(t);l.push(e.catch((function(t){return console.warn(Error(m(42,!1))),console.warn(t),!1})))}function d(){var e=et();t.forEach((function(t){return t.resolve(e)}));try{g(0===r.length?"no-app-change":"app-change",y()),g("routing-event",y())}catch(t){setTimeout((function(){throw t}))}if(bn=!1,wn.length>0){var n=wn;wn=[],On(n)}return e}function v(){n||(t.forEach((function(t){G(t.eventArguments)})),G(e))}function y(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,l={},h=(o(t={},Je,[]),o(t,Ze,[]),o(t,We,[]),o(t,nn,[]),t);n?(s.concat(c).forEach((function(t,e){v(t,Je)})),a.forEach((function(t){v(t,We)})),u.forEach((function(t){v(t,Ze)}))):r.forEach((function(t){v(t)}));var d={detail:{newAppStatuses:l,appsByNewStatus:h,totalAppChanges:r.length,originalEvent:null==e?void 0:e[0],oldUrl:f,newUrl:p}};return i&&_(d.detail,i),d;function v(t,e){var n=S(t);e=e||rt(n),l[n]=e,(h[e]=h[e]||[]).push(n)}}function g(t,e){n||window.dispatchEvent(new Ke("single-spa:".concat(t),e))}}var En=!1,_n={getRawAppData:function(){return function(t){if(Array.isArray(t))return r(t)}(t=mn)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t},reroute:On,NOT_LOADED:We,toLoadPromise:V,toBootstrapPromise:A,unregisterApplication:at,getProfilerData:function(){return rn}};ln&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=_n);var jn="openmrs:history";function xn(t,e,n){return xn=gt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&kn(o,n.prototype),o},xn.apply(null,arguments)}function Pn(t){return Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pn(t)}function kn(t,e){return kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},kn(t,e)}function An(t){var e="function"==typeof Map?new Map:void 0;return An=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return xn(t,arguments,Pn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),kn(r,t)},An(t)}var Cn="/ws/rest/v1",Tn="/ws/fhir2/R4",In="".concat(Cn,"/session"),Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(o,t);var e,n,r=(e=o,n=gt(),function(){var t,r=Pn(e);if(n){var o=Pn(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){return!e||"object"!=((n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":a(n))&&"function"!=typeof e?vt(t):e;var n}(this,t)});function o(t,e,n,a){var u;return function(t,e){if(!i(t,e))throw new TypeError("Cannot call a class as a function")}(this,o),mt(vt(u=r.call(this)),"response",void 0),mt(vt(u),"responseBody",void 0),u.message="Server responded with ".concat(e.status," (").concat(e.statusText,") for url ").concat(t,". Check err.responseBody or network tab in dev tools for more info"),a.message=u.message,u.responseBody=n,u.response=e,u.stack="Stacktrace for outgoing request:\n".concat(a.stack,"\nStacktrace for incoming response:\n").concat(u.stack),u}return o}(An(Error)),Nn="".concat(Cn,"/attachment");function Rn(){var t;return t=function(t,e){var n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){return(n=new FormData).append("fileCaption",e.fileDescription),n.append("patient",t),e.file?n.append("file",e.file):(n.append("file",new File([""],e.fileName),e.fileName),n.append("base64Content",e.base64Content)),[2,wt("".concat(Nn),{method:"POST",body:n})]}))},Rn=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ot(i,r,o,a,u,"next",t)}function u(t){Ot(i,r,o,a,u,"throw",t)}a(void 0)}))},Rn.apply(this,arguments)}var Ln=f(254),Mn=function(t){return void 0===t},Un=(0,Be.createGlobalStore)("session",{loaded:!1,session:null}),Bn=0;function Fn(){return(Fn=kt((function(t,e){return At(this,(function(n){return[2,Ft(wt(In,{method:"POST",body:{sessionLocation:t},headers:{"Content-Type":"application/json"},signal:e.signal}))]}))}))).apply(this,arguments)}function Hn(){return(Hn=kt((function(t,e,n){return At(this,(function(r){switch(r.label){case 0:return n||(n=new AbortController),[4,wt("".concat(Cn,"/user/").concat(t),{method:"POST",body:{userProperties:e},headers:{"Content-Type":"application/json"},signal:n.signal})];case 1:return r.sent(),[2,Dt()]}}))}))).apply(this,arguments)}Un.subscribe((function(t){return t.session&&It(t.session)}));var Vn=f(738);function Kn(){return Kn=Gt((function(t,e){var n,r,o,i,a,u=arguments;return $t(this,(function(s){switch(s.label){case 0:return n=!(u.length>2&&void 0!==u[2])||u[2],t?(r=null,[4,Promise.all([wt("".concat(Tn,"/Patient/").concat(t),e).catch((function(t){return r=t})),n?qt(t):Promise.resolve(null)])]):[3,2];case 1:if(o=Wt.apply(void 0,[s.sent(),2]),i=o[0],a=o[1],i.ok)return[2,i.data];if(a)return[2,a];if(r)throw r;s.label=2;case 2:return[2,null]}}))})),Kn.apply(this,arguments)}function Gn(){return(Gn=Gt((function(t){var e,n,r;return $t(this,(function(o){switch(o.label){case 0:return[4,(0,Vn.getSynchronizationItems)("patient-registration")];case 1:return e=o.sent(),n=e.find((function(e){return e.fhirPatient.id===t})),[2,null!==(r=null==n?void 0:n.fhirPatient)&&void 0!==r?r:null]}}))}))).apply(this,arguments)}var Wn=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),$n=function(e){function n(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return t(n,e),n.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},n}(ve),zn=function(e){function n(t){var n=e.call(this,t)||this;return n.destination=t,n}return t(n,e),n}(me),qn=function(e){function n(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return t(n,e),n.prototype[ye]=function(){return new zn(this)},n.prototype.lift=function(t){var e=new Zn(this,this);return e.operator=t,e},n.prototype.next=function(t){if(this.closed)throw new Wn;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},n.prototype.error=function(t){if(this.closed)throw new Wn;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},n.prototype.complete=function(){if(this.closed)throw new Wn;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},n.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},n.prototype._trySubscribe=function(t){if(this.closed)throw new Wn;return e.prototype._trySubscribe.call(this,t)},n.prototype._subscribe=function(t){if(this.closed)throw new Wn;return this.hasError?(t.error(this.thrownError),ve.EMPTY):this.isStopped?(t.complete(),ve.EMPTY):(this.observers.push(t),new $n(this,t))},n.prototype.asObservable=function(){var t=new we;return t.source=this,t},n.create=function(t,e){return new Zn(t,e)},n}(we),Zn=function(e){function n(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return t(n,e),n.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},n.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},n.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},n.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):ve.EMPTY},n}(qn),Yn=function(e){function n(t){var n=e.call(this)||this;return n._value=t,n}return t(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Wn;return this._value},n.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},n}(qn),Jn=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Xn=new we((function(t){return t.complete()})),Qn=function(){function t(t){if(this.total=t,this.total<0)throw new Jn}return t.prototype.call=function(t,e){return e.subscribe(new tr(t,this.total))},t}(),tr=function(e){function n(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return t(n,e),n.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},n}(me),er=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new nr(t,this.project,this.thisArg))},t}(),nr=function(e){function n(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return t(n,e),n.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(me),rr="custom:(uuid,encounters:(uuid,encounterDatetime,form:(uuid,name),location:ref,encounterType:ref,encounterProviders:(uuid,display,provider:(uuid,display))),patient:(uuid,uuid),visitType:(uuid,name,display),attributes:(uuid,display,attributeType:(name,datatypeClassname,uuid),value),location:(uuid,name,display),startDatetime,stopDatetime)",or=function(){try{return JSON.parse(localStorage.getItem("openmrs:visitStoreState")||"null")}catch(t){return null}}()||{patientUuid:null,manuallySetVisitUuid:null};Jt().subscribe((function(t){var e;e=t,localStorage.setItem("openmrs:visitStoreState",JSON.stringify(e))}));var ir,ar,ur=new Yn(null);!function(t){t.NEWVISIT="startVisit",t.EDITVISIT="editVisit",t.LOADING="loadingVisit"}(ir||(ir={})),function(t){t.NOTSTARTED="notStarted",t.ONGOING="ongoing"}(ar||(ar={}));var sr={"webservices.rest":"2.24.0",fhir2:"1.0.0-SNAPSHOT"}}(),p}())}}}))},9947:()=>{function t(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}System.register(["@openmrs/esm-state"],(function(e,n){var r={};return{setters:[function(t){r.createGlobalStore=t.createGlobalStore,r.getGlobalStore=t.getGlobalStore}],execute:function(){e(function(){"use strict";var e={685:function(t){t.exports=r}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return function(){var e=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]},n=function(t){return function n(r){return 0===arguments.length||e(r)?n:t.apply(this,arguments)}},r=function(t){return function r(o,i){switch(arguments.length){case 0:return r;case 1:return e(o)?r:n((function(e){return t(o,e)}));default:return e(o)&&e(i)?r:e(o)?n((function(e){return t(e,i)})):e(i)?n((function(e){return t(o,e)})):t(o,i)}}},a=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n},u=function(t,e,n){for(var r=0,o=n.length;r<o;){if(t(e,n[r]))return!0;r+=1}return!1},s=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)},c=function(t,e,n,r){var o=a(t);function i(t,e){return ft(t,e,n.slice(),r.slice())}return!u((function(t,e){return!u(i,e,t)}),a(e),o)},l=function(t){return function o(i,a,u){switch(arguments.length){case 0:return o;case 1:return e(i)?o:r((function(e,n){return t(i,e,n)}));case 2:return e(i)&&e(a)?o:e(i)?r((function(e,n){return t(e,a,n)})):e(a)?r((function(e,n){return t(i,e,n)})):n((function(e){return t(i,a,e)}));default:return e(i)&&e(a)&&e(u)?o:e(i)&&e(a)?r((function(e,n){return t(e,n,u)})):e(i)&&e(u)?r((function(e,n){return t(e,a,n)})):e(a)&&e(u)?r((function(e,n){return t(i,e,n)})):e(i)?n((function(e){return t(e,a,u)})):e(a)?n((function(e){return t(i,e,u)})):e(u)?n((function(e){return t(i,a,e)})):t(i,a,u)}}},f=function(t){return"[object Object]"===Object.prototype.toString.call(t)},p=function(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)},h=function(t,e,n,r){return t["@@transducer/result"](n[r](_t(t["@@transducer/step"],t),e))},d=function(t,e){return function(n){if(!t(n))return"function"==typeof e?e(n):e}},v=function(t){return(0,Dt.getGlobalStore)("config-module-".concat(t),{config:null,loaded:!1,translationOverridesLoaded:!1})},y=function(){return(0,Dt.getGlobalStore)("config-extension-slots",{slots:{}})},m=function(t){return g(y().getState(),t)},g=function(t,e){var n=t.slots[e];return null!=n?n:{loaded:!1,config:{}}},b=function(){return(0,Dt.getGlobalStore)("config-extensions",{configs:{}})},w=function(t,e){var n=Object.assign({},S(b().getState(),t,e));return n.config=yt(["Display conditions","Translation overrides"],n.config),n},S=function(t,e,n){var r,o=null===(r=t.configs[e])||void 0===r?void 0:r[n];return null!=o?o:{loaded:!1,config:null}},O=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},E=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},_=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){E(t,e,n[e])}))}return t},j=function(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t},x=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||k(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},P=function(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||k(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},k=function(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}},A=function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(t.schemas)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=v(u);if(t.moduleLoaded[u]){var c=G(u,t,e);s.setState({translationOverridesLoaded:!0,loaded:!0,config:c})}else{var l=W(u,t,e);s.setState({translationOverridesLoaded:!0,loaded:!1,config:l})}}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},C=function(t,e){var n,r,o=(n=z(K(t,e)),function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(t)[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=x(o.value,2),u=a[0],s=a[1],c=!0,l=!1,f=void 0;try{for(var p,h=Object.entries(s)[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var d=x(p.value,2),v=d[0];V(d[1],u,v)}}catch(t){l=!0,f=t}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}(r=Object.keys(n).reduce((function(t,e){var r,o;return(null===(r=n[e])||void 0===r?void 0:r.extensionSlots)&&(t[e]=null===(o=n[e])||void 0===o?void 0:o.extensionSlots),t}),{})),Object.keys(r).reduce((function(t,e){return _({},t,r[e])}),{})),i=Object.fromEntries(Object.entries(o).map((function(t){var e=x(t,2);return[e[0],{loaded:!0,config:e[1]}]}))),a=y(),u=a.getState(),s={slots:_({},u.slots,i)};pt(u,s)||a.setState(s)},T=function(t,e){var n=function(t,e){var n=Ut(bt(t.schemas)),r=P(t.providedConfigs.map((function(t){return[t.config,t.source]}))).concat([[e.config,"temporary config"]]),o=!0,i=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=x(u.value,2);n=z([n,Bt(c[0],c[1])])}}catch(t){i=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e);Mt.setState({config:n})},I=function(t,e,n){var r={},o=!0,i=!1,a=void 0;try{for(var u,s=e.mountedExtensions[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,l=H(c.slotModuleName,c.extensionModuleName,c.slotName,c.extensionId,t,n);r[c.slotName]=j(_({},r[c.slotName]),E({},c.extensionId,{config:l,loaded:!0}))}}catch(t){i=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}b().setState({configs:r})},D=function(t,e){Ft(t,e);var n=vt(e,$t),r=Nt.getState();Nt.setState({schemas:j(_({},r.schemas),E({},t,n)),moduleLoaded:j(_({},r.moduleLoaded),E({},t,!0))})},N=function(t){var e=Nt.getState();Nt.setState({schemas:j(_({},e.schemas),E({},t,$t))})},R=function(t){var e=Nt.getState();Nt.setState({schemas:j(_({},e.schemas),E({},t,Wt))})},L=function(t,e){Ft(t,e);var n=vt(e,$t),r=Nt.getState();r.schemas[t]&&console.error("Config schema for extension ".concat(t," already exists. If there are multiple extensions with this same name, one will probably crash.")),Nt.setState({schemas:j(_({},r.schemas),E({},t,n))})},M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"provided",n=Nt.getState();Nt.setState({providedConfigs:P(n.providedConfigs).concat([{source:e,config:t}])})},U=function(t){return new Promise((function(e){var n=function(t){if(t.loaded&&t.config){var n=yt(["Display conditions","Translation overrides"],t.config);e(n),o&&o()}},r=v(t);n(r.getState());var o=r.subscribe(n)}))},B=function(t){return new Promise((function(e){var n=function(t){if(t.translationOverridesLoaded&&t.config){var n,r=null!==(n=t.config["Translation overrides"])&&void 0!==n?n:{};e(r),o&&o()}},r=v(t);n(r.getState());var o=r.subscribe(n)}))},F=function(t,e,n){q(t,e,n);var r=Kt(t,e);return Vt(t,r,n),r},H=function(t,e,n,r,o,i){var a,u,s,c,l=function(t){return x(t.split("#"),1)[0]}(r),f=o.schemas[l],p=f?l:e,h=K(o,i),d=$(t,h),v=null!==(c=null==d||null===(a=d.extensionSlots)||void 0===a||null===(u=a[n])||void 0===u||null===(s=u.configure)||void 0===s?void 0:s[r])&&void 0!==c?c:{},y=z([$(p,h),v]),m=null!=f?f:o.schemas[e];q(m,y,p);var g=Kt(m,y);return Vt(m,g,p),delete g.extensionSlots,g},V=function(t,e,n){var r="".concat(e,".extensionSlots.").concat(n),o="Extension slot config '".concat(r,"'"),i=Object.keys(t).filter((function(t){return!["add","remove","order","configure"].includes(t)}));i.length&&Q(r,o+"' contains invalid keys '".concat(i.join("', '"),"'")),t.add&&(Array.isArray(t.add)&&t.add.every((function(t){return"string"==typeof t}))||Q(r,o+".add' is invalid. Must be an array of strings (extension IDs)")),t.remove&&(Array.isArray(t.remove)&&t.remove.every((function(t){return"string"==typeof t}))||Q(r,o+".remove' is invalid. Must be an array of strings (extension IDs)")),t.order&&(Array.isArray(t.order)&&t.order.every((function(t){return"string"==typeof t}))||Q(r,o+".order' is invalid. Must be an array of strings (extension IDs)")),t.configure&&(X(t.configure)||Q(r,o+".configure' is invalid. Must be an object with extension IDs for keys"))},K=function(t,e){return P(t.providedConfigs.map((function(t){return t.config}))).concat([e.config])},G=function(t,e,n){var r=e.schemas[t],o=$(t,K(e,n));q(r,o,t);var i=Kt(r,o);return Vt(r,i,t),delete i.extensionSlots,i},W=function(t,e,n){var r=$(t,K(e,n)),o=Kt($t,r);return Vt($t,o,t),delete o.extensionSlots,o},$=function(t,e){return z(e.map((function(e){return e[t]})).filter((function(t){return!!t})))},z=function(t){return xt(vt)({},t)},q=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=e[s],l=n+"."+s,f=t[s];t.hasOwnProperty(s)?Ht(f,c,l):"extensionSlots"===s&&""!==n||Q(l,"Unknown config key '".concat(l,"' provided. Ignoring."))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}},Z=function(t,e,n){e&&Y(t,[{Array:Pt,Boolean:kt,ConceptUuid:It,Number:At,Object:Tt,String:Ct,UUID:It,PersonAttributeTypeUuid:It,PatientIdentifierTypeUuid:It}[e]],n)},Y=function(t,e,n){if(e)try{var r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=(0,a.value)(n);"string"==typeof s&&Q(t,"object"==typeof n?"Invalid configuration for ".concat(t,": ").concat(s):"Invalid configuration value ".concat(n," for ").concat(t,": ").concat(s))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}catch(e){console.error('Skipping invalid validator at "'.concat(t,'". Encountered error\n\t').concat(e))}},J=function(t){return!!t&&Object.keys(t).filter((function(t){return!["_default","_validators"].includes(t)})).length>0},X=function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t},Q=function(t,e){var n="".concat(t,":::").concat(e);Gt.has(n)||(console.error(e),Gt.add(n))},tt=function(t){t?Gt.forEach((function(e){e.startsWith(t)&&Gt.delete(e)})):Gt.clear()};o.r(i),o.d(i,{Type:function(){return gt},clearConfigErrors:function(){return tt},configExtensionStore:function(){return Lt},configInternalStore:function(){return Nt},defineConfigSchema:function(){return D},defineExtensionConfigSchema:function(){return L},getConfig:function(){return U},getConfigStore:function(){return v},getExtensionConfig:function(){return w},getExtensionConfigFromStore:function(){return S},getExtensionSlotConfig:function(){return m},getExtensionSlotConfigFromStore:function(){return g},getExtensionSlotsConfigStore:function(){return y},getExtensionsConfigStore:function(){return b},getTranslationOverrides:function(){return B},implementerToolsConfigStore:function(){return Mt},inRange:function(){return zt},isUrl:function(){return Zt},isUrlWithTemplateParameters:function(){return qt},oneOf:function(){return Yt},processConfig:function(){return F},provide:function(){return M},registerModuleWithConfigSystem:function(){return N},registerTranslationNamespace:function(){return R},temporaryConfigStore:function(){return Rt},validator:function(){return d},validators:function(){return Jt}});var et="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},nt=Object.prototype.toString,rt=function(){return"[object Arguments]"===nt.call(arguments)?function(t){return"[object Arguments]"===nt.call(t)}:function(t){return s("callee",t)}}(),ot=rt,it=!{toString:null}.propertyIsEnumerable("toString"),at=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ut=function(){return arguments.propertyIsEnumerable("length")}(),st=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},ct="function"!=typeof Object.keys||ut?n((function(t){if(Object(t)!==t)return[];var e,n,r=[],o=ut&&ot(t);for(e in t)!s(e,t)||o&&"length"===e||(r[r.length]=e);if(it)for(n=at.length-1;n>=0;)s(e=at[n],t)&&!st(r,e)&&(r[r.length]=e),n-=1;return r})):n((function(t){return Object(t)!==t?[]:Object.keys(t)})),lt=n((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function ft(e,n,r,o){if(et(e,n))return!0;var i,a,u=lt(e);if(u!==lt(n))return!1;if(null==e||null==n)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof n.equals)return"function"==typeof e.equals&&e.equals(n)&&"function"==typeof n.equals&&n.equals(e);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(i=e.constructor,null==(a=String(i).match(/^function (\w*)/))?"":a[1]))return e===n;break;case"Boolean":case"Number":case"String":if((void 0===e?"undefined":t(e))!=(void 0===n?"undefined":t(n))||!et(e.valueOf(),n.valueOf()))return!1;break;case"Date":if(!et(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(e.source!==n.source||e.global!==n.global||e.ignoreCase!==n.ignoreCase||e.multiline!==n.multiline||e.sticky!==n.sticky||e.unicode!==n.unicode)return!1}for(var l=r.length-1;l>=0;){if(r[l]===e)return o[l]===n;l-=1}switch(u){case"Map":return e.size===n.size&&c(e.entries(),n.entries(),r.concat([e]),o.concat([n]));case"Set":return e.size===n.size&&c(e.values(),n.values(),r.concat([e]),o.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var f=ct(e);if(f.length!==ct(n).length)return!1;var p=r.concat([e]),h=o.concat([n]);for(l=f.length-1;l>=0;){var d=f[l];if(!s(d,n)||!ft(n[d],e[d],p,h))return!1;l-=1}return!0}var pt=r((function(t,e){return ft(t,e,[],[])})),ht=l((function(t,e,n){var r,o={};for(r in e)s(r,e)&&(o[r]=s(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)s(r,n)&&!s(r,o)&&(o[r]=n[r]);return o})),dt=l((function t(e,n,r){return ht((function(n,r,o){return f(r)&&f(o)?t(e,r,o):e(n,r,o)}),n,r)})),vt=r((function(t,e){return dt((function(t,e,n){return n}),t,e)})),yt=r((function(t,e){for(var n={},r={},o=0,i=t.length;o<i;)r[t[o]]=1,o+=1;for(var a in e)r.hasOwnProperty(a)||(n[a]=e[a]);return n}));function mt(t,e,n,r){var o,i=function(o){for(var i=e.length,a=0;a<i;){if(t===e[a])return n[a];a+=1}for(var u in e[a+1]=t,n[a+1]=o,t)o[u]=r?mt(t[u],e,n,!0):t[u];return o};switch(lt(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return o=t,new RegExp(o.source,(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.sticky?"y":"")+(o.unicode?"u":""));default:return t}}var gt,bt=n((function(t){return null!=t&&"function"==typeof t.clone?t.clone():mt(t,[],[],!0)})),wt=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},St=n((function(t){return!!wt(t)||!!t&&"object"==typeof t&&!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1))})),Ot=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}(),Et=r((function(t,e){return function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,a){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,a,u){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,a,u,s){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,a,u,s,c){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,a,u,s,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(t.length,(function(){return t.apply(e,arguments)}))})),_t=Et,jt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",xt=l((function(t,e,n){if("function"==typeof t&&(t=function(t){return new Ot(t)}(t)),St(n))return function(t,e,n){for(var r=0,o=n.length;r<o;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return h(t,e,n,"fantasy-land/reduce");if(null!=n[jt])return p(t,e,n[jt]());if("function"==typeof n.next)return p(t,e,n);if("function"==typeof n.reduce)return h(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}));!function(t){t.Array="Array",t.Boolean="Boolean",t.ConceptUuid="ConceptUuid",t.Number="Number",t.Object="Object",t.String="String",t.UUID="UUID",t.PersonAttributeTypeUuid="PersonAttributeTypeUuid",t.PatientIdentifierTypeUuid="PatientIdentifierTypeUuid"}(gt||(gt={}));var Pt=d((function(t){return Array.isArray(t)}),"must be an array"),kt=d((function(t){return"boolean"==typeof t}),"must be a boolean"),At=d((function(t){return"number"==typeof t}),"must be a number"),Ct=d((function(t){return"string"==typeof t}),"must be a string"),Tt=d((function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t}),"must be an object (not an array or null)"),It=d((function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)||/^[0-9a-f]{36}$/i.test(t)}),"must be a valid UUID or a 36-character hexadecimal string"),Dt=o(685),Nt=(0,Dt.createGlobalStore)("config-internal",{providedConfigs:[],schemas:{},moduleLoaded:{}}),Rt=(0,Dt.createGlobalStore)("temporary-config",{config:function(){try{return JSON.parse(localStorage.getItem("openmrs:temporaryConfig")||"{}")}catch(t){return{}}}()});Rt.subscribe((function(t){var e;e=t.config,localStorage.setItem("openmrs:temporaryConfig",JSON.stringify(e))}));var Lt=(0,Dt.createGlobalStore)("config-store-of-extension-state",{mountedExtensions:[]}),Mt=(0,Dt.createGlobalStore)("config-implementer-tools",{config:{}});function Ut(t){return t.hasOwnProperty("_default")?j(_({},t),{_value:t._default,_source:"default"}):X(t)?Object.keys(t).reduce((function(e,n){return e[n]=Ut(t[n]),e}),{}):{}}function Bt(t,e){return X(t)?Object.keys(t).reduce((function(n,r){return n[r]=Bt(t[r],e),n}),{}):{_value:t,_source:e}}function Ft(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="Please verify that you are running the latest version and, if so, alert the maintainer.",o=!0,i=!1,a=void 0;try{for(var u,s=function(){var o=u.value,i=n+(n&&".")+o,a=e[o];if("Display conditions"===i&&console.error("".concat(t,' declares a configuration option called "Display conditions"; the "Display conditions" option is a reserved name. ').concat(r)),"Translation overrides"===i&&console.error("".concat(t,' declares a configuration option called "Translation overrides"; the "Translation overrides" option is a reserved name. ').concat(r)),!X(a))return console.error("".concat(t," has bad config schema definition for key '").concat(i,"'. ").concat(r)),"continue";a.hasOwnProperty("_default")||Ft(t,a,i);var s=a._elements;if(J(s)&&Ft(t,s,i+"._elements"),a._validators){var c=!0,l=!1,f=void 0;try{for(var p,h=a._validators[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var d=p.value;"function"!=typeof d&&console.error("".concat(t," has invalid validator for key '").concat(i,"' ").concat(r,".")+"\n\nIf you're the maintainer: validators must be functions that return either "+"undefined or an error string. Received ".concat(d,"."))}}catch(t){l=!0,f=t}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}}var v=a._type;v&&!Object.values(gt).includes(v)&&console.error("".concat(t," has invalid type for key '").concat(i,"' ").concat(r,".")+"\n\nIf you're the maintainer: the allowed types are ".concat(Object.values(gt).join(", "),". ")+"Received '".concat(v,"'")),Object.keys(a).every((function(t){return["_description","_validators","_elements","_type"].includes(t)}))&&!n.includes("._elements")&&console.error("".concat(t," has bad config schema definition for key '").concat(i,"'. ").concat(r,".")+"\n\nIf you're the maintainer: all config elements must have a default. "+"Received ".concat(JSON.stringify(a))),s&&v&&![gt.Array,gt.Object].includes(v)&&console.error("".concat(t," has bad config schema definition for key '").concat(i,"'. ").concat(r,".")+"\n\nIf you're the maintainer: the 'elements' key only works with '_type' equal to 'Array' or 'Object'. "+"Received ".concat(JSON.stringify(v)))},c=Object.keys(e).filter((function(t){return!t.startsWith("_")}))[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)s()}catch(t){i=!0,a=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}function Ht(t,e,n){Z(n,t._type,e),X(e)?t._type===gt.Object?function(t,e,n){if(t._elements){var r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=e[s];q(t._elements,c,"".concat(n,".").concat(s))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}}(t,e,n):t.hasOwnProperty("_default")||q(t,e,n):t._type===gt.Array&&function(t,e,n){if(J(t._elements))for(var r=0;r<e.length;r++)Ht(t._elements,e[r],"".concat(n,"[").concat(r,"]"));for(var o=0;o<e.length;o++){var i;Z("".concat(n,"[").concat(o,"]"),null===(i=t._elements)||void 0===i?void 0:i._type,e[o])}}(t,e,n)}function Vt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t)if(e!==t._default&&Y(n,t._validators,e),X(e)){var r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=e[s],l=n+"."+s,f=t[s];t._type===gt.Object&&t._elements?Vt(t._elements,c,l):Vt(f,c,l)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}else if(Array.isArray(e)&&t._elements)for(var p=0;p<e.length;p++)Vt(t._elements,e[p],"".concat(n,"[").concat(p,"]"))}A(Nt.getState(),Rt.getState()),Nt.subscribe((function(t){return A(t,Rt.getState())})),Rt.subscribe((function(t){return A(Nt.getState(),t)})),T(Nt.getState(),Rt.getState()),Nt.subscribe((function(t){return T(t,Rt.getState())})),Rt.subscribe((function(t){return T(Nt.getState(),t)})),C(Nt.getState(),Rt.getState()),Nt.subscribe((function(t){return C(t,Rt.getState())})),Rt.subscribe((function(t){return C(Nt.getState(),t)})),I(Nt.getState(),Lt.getState(),Rt.getState()),Nt.subscribe((function(t){I(t,Lt.getState(),Rt.getState())})),Lt.subscribe((function(t){I(Nt.getState(),t,Rt.getState())})),Rt.subscribe((function(t){I(Nt.getState(),Lt.getState(),t)}));var Kt=function(t,e){var n=bt(e);if(!t)return n;var r=!0,o=!1,i=void 0;try{for(var a,u=function(){var e=a.value,r=n[e],o=t[e];if(o&&o.hasOwnProperty("_default")){n.hasOwnProperty(e)||(n[e]=o._default);var i=o._elements;if(r&&J(i))if(o._type===gt.Array&&Array.isArray(r)){var u=r.map((function(t){return Kt(i,t)}));n[e]=u}else if(o._type===gt.Object){var s=!0,c=!1,l=void 0;try{for(var f,p=Object.keys(r)[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var h=f.value;r[h]=Kt(i,r[h])}}catch(t){c=!0,l=t}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}else if(X(o)){var d=n.hasOwnProperty(e)?r:{};X(d)&&(n[e]=Kt(o,d))}},s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)u()}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},Gt=new Set,Wt={"Translation overrides":{_description:"Per-language overrides for frontend translations should be keyed by language code and each language dictionary contains the translation key and the display value",_type:gt.Object,_default:{},_validators:[d((function(t){return Object.keys(t).every((function(t){return/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(t)}))}),(function(t){var e=Object.keys(t).filter((function(t){return!/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(t)}));return"The 'Translation overrides' object should have language codes for keys. Language codes must be in the form of a two-to-three letter language code optionally followed by a hyphen and a two-to-three letter country code. The following keys do not conform: ".concat(e.join(", "),".")}))]}},$t=_({"Display conditions":{privileges:{_description:"The privilege(s) the user must have to use this extension",_type:gt.Array,_default:[]}}},Wt),zt=function(t,e){return d((function(n){return t<=n&&n<=e}),"must be between ".concat(t," and ").concat(e))},qt=function(t){var e=t.concat(["openmrsBase","openmrsSpaBase"]);return d((function(t){if(!t||"string"!=typeof t)return!1;for(var n=/\${(.*?)}/g,r=n.exec(t);r;){if(!e.includes(r[1]))return!1;r=n.exec(t)}return!0}),"Should be a URL or path. The allowed template parameters are "+e.map((function(t){return"${"+t+"}"})).join(", "))},Zt=qt([]),Yt=function(t){return d((function(e){return t.includes(e)}),"Must be one of the following: '".concat(t.join("', '"),"'."))},Jt={inRange:zt,isUrl:Zt,isUrlWithTemplateParameters:qt,oneOf:Yt}}(),i}())}}}))},8461:()=>{System.register(["@openmrs/esm-globals"],(function(t,e){var n={};return{setters:[function(t){n.dispatchToastShown=t.dispatchToastShown}],execute:function(){t(function(){"use strict";var t={728:function(t){t.exports=n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){r.S={};var t={},e={};r.I=function(n,o){o||(o=[]);var i=e[n];if(i||(i=e[n]={}),!(o.indexOf(i)>=0)){if(o.push(i),t[n])return t[n];r.o(r.S,n)||(r.S[n]={}),r.S[n];var a=[];return t[n]=a.length?Promise.all(a).then((function(){return t[n]=1})):1}}}();var o={};return function(){var t=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},e=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function u(e){t(a,o,i,u,s,"next",e)}function s(e){t(a,o,i,u,s,"throw",e)}u(void 0)}))}},n=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=function(t){return t.replace(/[\/\-@]/g,"_")},a=function(t){return l.apply(this,arguments)},u=function(t,e){return f.apply(this,arguments)},s=function(){return p.apply(this,arguments)};r.r(o),r.d(o,{getCurrentImportMap:function(){return s},importDynamic:function(){return a},preloadImport:function(){return u},slugify:function(){return i}});var c=r(728);function l(){return l=e((function(t){var e,o,a,s,c,l,f,p,h,d,v=arguments;return n(this,(function(n){switch(n.label){case 0:return e=v.length>1&&void 0!==v[1]?v[1]:"./start",a=!(null==(o=v.length>2?v[2]:void 0)?void 0:o.maxLoadingTime)||o.maxLoadingTime<=0?6e5:o.maxLoadingTime,s=void 0,[4,Promise.race([u(t,null==o?void 0:o.importMap),new Promise((function(e,n){s=setTimeout((function(){var e;n(new Error("Could not resolve requested script, ".concat(t,", within ").concat((e=a)<1e3?"".concat(e," milliseconds"):e<6e4?"".concat(Math.floor(e/1e3)," seconds"):e<36e5?"".concat(Math.floor(e/6e4)," minutes"):e<864e5?"".concat(Math.floor(e/36e5)," hours"):"".concat(Math.floor(e/864e5)," days"),".")))}),a)}))])];case 1:if(n.sent(),s&&clearTimeout(s),c=i(t),"object"!=typeof(y=l=window[c])||null===y||!("init"in y)||"function"!=typeof y.init||!("get"in y)||"function"!=typeof y.get)throw f="The global variable ".concat(c," does not refer to a federated module"),console.error(f),new Error(f);return l.init(r.S.default),[4,l.get(e)];case 2:if(p=n.sent(),"object"!=typeof(h=p())||null===h)throw d="Container for ".concat(t," did not return an ESM module as expected"),console.error(d),new Error(d);return[2,h]}var y}))})),l.apply(this,arguments)}function f(){return(f=e((function(t,e){var r,o,a,u,l,f,p,d;return n(this,(function(n){switch(n.label){case 0:if("string"!=typeof t||0===t.trim().length)throw r="Attempted to call importDynamic() without supplying a package to load",console.error(r),new Error(r);return o=i(t),window[o]?[3,7]:null==e?[3,1]:(u=e,[3,3]);case 1:return[4,s()];case 2:u=n.sent(),n.label=3;case 3:if(!(a=u).imports.hasOwnProperty(t))throw l="Could not find the package ".concat(t," defined in the current importmap"),console.error(l),new Error(l);(f=a.imports[t]).startsWith("./")&&(f=window.spaBase+f.substring(1)),p=!!window.localStorage.getItem("import-map-override:".concat(t)),n.label=4;case 4:return n.trys.push([4,6,,7]),[4,new Promise((function(t,e){!function(t,e,n){var r=document.head.querySelector('script[src="'.concat(t,'"]')),o=window[h];if(o||(o=window[h]=new Set([])),r){var i,a,u;o.has(t)?(u=function(){i&&r.removeEventListener("load",i),a&&r.removeEventListener("error",a)},i=function(){u(),e(null)},a=function(t){u(),n(t.message)},r.addEventListener("load",i),r.addEventListener("error",a)):(console.warn("Script at ".concat(t," already loaded. Not loading it again.")),e(null))}else{o.add(t);var s=document.createElement("script");s.src=t,s.type="text/javascript",s.async=!0;var c,l,f,p=setTimeout((function(){console.error("The script at ".concat(t," did not load within 5 seconds. This may indicate an issue with the imports in the script's entry-point file or with the script's bundler configuration."))}),5e3);f=function(){clearTimeout(p),o.delete(t),c&&s.removeEventListener("load",c),l&&s.removeEventListener("error",l)},c=function(){f(),e(null)},l=function(e){f();var r,o="Failed to load script from ".concat(t);console.error(o,e),n(null!==(r=e.message)&&void 0!==r?r:o)},s.addEventListener("load",c),s.addEventListener("error",l),document.head.appendChild(s)}}(f,t,e)}))];case 5:return[2,n.sent()];case 6:return d=n.sent(),p&&(0,c.dispatchToastShown)({kind:"error",title:"Error loading script",description:"Failed to load overridden script from ".concat(f,". Click below to reset all overrides."),actionButtonLabel:"Reload",onActionButtonClick:function(){window.importMapOverrides.resetOverrides(),window.location.reload()}}),[2,Promise.reject(d)];case 7:return[2,Promise.resolve()]}}))}))).apply(this,arguments)}function p(){return(p=e((function(){return n(this,(function(t){return[2,window.importMapOverrides.getCurrentPageMap()]}))}))).apply(this,arguments)}var h=Symbol("__openmrs_script_loading")}(),o}())}}}))},3371:()=>{System.register(["@openmrs/esm-globals"],(function(t,e){var n={};return{setters:[function(t){n.dispatchToastShown=t.dispatchToastShown}],execute:function(){t(function(){"use strict";var t={728:function(t){t.exports=n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return function(){var t=function(t){var e=n(t);setTimeout((function(){throw e}))},e=function(){var e=Error();return function(r){n(r).stack+="\nAsync stacktrace:\n".concat(e.stack),t(r)}},n=function(t){var e,n,r,o,i;if(n=t,null!=(r=Error)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):(o=n,null!=(i=r)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](o):o instanceof i))return t;if(null===t)return Error("'null' was thrown as an error");if("object"==typeof t){try{e="Object thrown as error: ".concat(JSON.stringify(t))}catch(n){e="Object thrown as error with the following properties: ".concat(Object.keys(t))}return Error(e)}return void 0===t?Error("'undefined' was thrown as an error"):Error(t.toString())};r.r(o),r.d(o,{createErrorHandler:function(){return e},reportError:function(){return t}});var i=r(728);window.onerror=function(t){return console.error("Unexpected error: ",t),(0,i.dispatchToastShown)({description:null!=t?t:"Oops! An unexpected error occurred.",kind:"error",title:"Error"}),!1},window.onunhandledrejection=function(t){var e;console.error("Unhandled rejection: ",t.reason),(0,i.dispatchToastShown)({description:null!==(e=t.reason)&&void 0!==e?e:"Oops! An unhandled promise rejection occurred.",kind:"error",title:"Error"})}}(),o}())}}}))},5450:(t,e,n)=>{function r(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function o(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}t=n.nmd(t),System.register(["@openmrs/esm-config","@openmrs/esm-state","@openmrs/esm-api","@openmrs/esm-feature-flags","single-spa"],(function(i,a){var u={},s={},c={},l={},f={};return{setters:[function(t){u.configExtensionStore=t.configExtensionStore,u.getExtensionConfigFromStore=t.getExtensionConfigFromStore,u.getExtensionSlotConfig=t.getExtensionSlotConfig,u.getExtensionSlotConfigFromStore=t.getExtensionSlotConfigFromStore,u.getExtensionSlotsConfigStore=t.getExtensionSlotsConfigStore,u.getExtensionsConfigStore=t.getExtensionsConfigStore},function(t){s.createGlobalStore=t.createGlobalStore,s.getGlobalStore=t.getGlobalStore},function(t){c.getSessionStore=t.getSessionStore,c.userHasAccess=t.userHasAccess},function(t){l.featureFlagsStore=t.featureFlagsStore},function(t){f.mountRootParcel=t.mountRootParcel}],execute:function(){i(function(){"use strict";var i={766:function(t){t.exports=c},824:function(t){t.exports=u},708:function(t){t.exports=l},685:function(t){t.exports=s},645:function(t){t.exports=f}},a={};function p(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={exports:{}};return i[t](n,n.exports,p),n.exports}p.d=function(t,e){for(var n in e)p.o(e,n)&&!p.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},p.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var h={};return function(){var i=function(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}},a=function(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}},u=function(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}},s=function(t){var e=this.__data__=new W(t);this.size=e.size},c=function(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ot;++e<n;)this.add(t[e])},l=function(t){var e=Re.getState(),n=t(e);n!==e&&Re.setState(n)},f=function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=Object.values(t.extensions)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=!0,c=!1,l=void 0;try{for(var f,p=u.instances[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var h=f.value;e.push({slotModuleName:h.slotModuleName,extensionModuleName:u.moduleName,slotName:h.slotName,extensionId:h.id})}}catch(t){c=!0,l=t}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}Ie(De.configExtensionStore.getState().mountedExtensions,e)||De.configExtensionStore.setState({mountedExtensions:e})},d=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},v=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},y=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){v(t,e,n[e])}))}return t},m=function(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t},g=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||w(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},b=function(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||w(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},w=function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}},S=function(t,e,n){var r={},o=!0,i=!1,a=void 0;try{for(var u,s=Object.entries(t.slots)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=g(u.value,2),l=c[0],f=c[1],p=T(l,t,(0,De.getExtensionSlotConfigFromStore)(e,f.name).config,n);r[l]={moduleName:f.moduleName,assignedExtensions:p}}}catch(t){i=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}Ie(Ve.getState().slots,r)||Ve.setState({slots:r})},O=function(t,e){return{moduleName:e,name:t,attachedIds:[],config:null}},E=function(t){return g(t.split("#"),1)[0]},_=function(t,e){var n=E(e);return t.extensions[n]},j=function(t){return _(He.getState(),t)},x=function(t,e){l((function(n){var r=n.slots[t];return m(y({},n),r?{slots:m(y({},n.slots),v({},t,m(y({},r),{attachedIds:b(r.attachedIds).concat([e])})))}:{slots:m(y({},n.slots),v({},t,m(y({},O(t)),{attachedIds:[e]})))})}))},P=function(t,e){l((function(n){var r=n.slots[t];return r&&r.attachedIds.includes(e)?m(y({},n),{slots:m(y({},n.slots),v({},t,m(y({},r),{attachedIds:r.attachedIds.filter((function(t){return t!==e}))})))}):n}))},k=function(t){l((function(e){var n=e.slots[t];return n?m(y({},e),{slots:m(y({},e.slots),v({},t,m(y({},n),{attachedIds:[]})))}):e}))},A=function(t,e,n,r){var o=e.indexOf(t);if(-1!==o)return o;if(void 0!==n)return 1e3+n;var i=r.indexOf(t);return-1!==i?2e3+i:-1},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null!=e?e:navigator.onLine,o=null!=n?n:Object.entries(Be.featureFlagsStore.getState().flags).filter((function(t){return g(t,2)[1].enabled})).map((function(t){return g(t,1)[0]}));return t.filter((function(t){return N(r,t.online,t.offline)})).filter((function(t){return void 0===t.featureFlag||(null==o?void 0:o.includes(t.featureFlag))}))},T=function(t,e,n,r){var o=function(t,e){var n=t.add||[],r=t.remove||[],o=t.order||[],i=He.getState().extensions;return b(e).concat(b(n)).filter((function(t){return!r.includes(t)})).sort((function(t,n){var r,a,u=A(t,o,null===(r=i[E(t)])||void 0===r?void 0:r.order,e),s=A(n,o,null===(a=i[E(n)])||void 0===a?void 0:a.order,e);return-1===s?-1:-1===u?1:u-s}))}(n,e.slots[t].attachedIds),i=[],a=void 0,u=!0,s=!1,c=void 0;try{for(var l,f=o[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var p=l.value,h=(0,De.getExtensionConfigFromStore)(r,t,p).config,d=E(p),v=e.extensions[d];if(v){var y,m,g,w,S,O,_,j,x,P=null!==(S=null!==(w=null==h||null===(y=h["Display conditions"])||void 0===y?void 0:y.privileges)&&void 0!==w?w:v.privileges)&&void 0!==S?S:[];if(P&&("string"==typeof P||Array.isArray(P)&&P.length>0)){var k;if(Fe(a)&&(a=null===(k=(0,Ue.getSessionStore)().getState().session)||void 0===k?void 0:k.user),!a)continue;if(!(0,Ue.userHasAccess)(P,a))continue}i.push({id:p,name:d,moduleName:v.moduleName,config:h,featureFlag:v.featureFlag,meta:v.meta,online:null===(_=null!==(O=null==h||null===(m=h["Display conditions"])||void 0===m?void 0:m.online)&&void 0!==O?O:v.online)||void 0===_||_,offline:null!==(x=null!==(j=null==h||null===(g=h["Display conditions"])||void 0===g?void 0:g.offline)&&void 0!==j?j:v.offline)&&void 0!==x&&x})}}}catch(t){s=!0,c=t}finally{try{u||null==f.return||f.return()}finally{if(s)throw c}}return i},I=function(t){return T(t,He.getState(),(0,De.getExtensionSlotConfig)(t).config,Ge.getState())},D=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return N(navigator.onLine,t,e)},N=function(t){return Boolean(t?!(arguments.length>1&&void 0!==arguments[1])||arguments[1]:arguments.length>2&&void 0!==arguments[2]&&arguments[2])},R=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},L=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},M=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},U=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){M(t,e,n[e])}))}return t},B=function(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t},F=function(t,e,n,r){return Ye.apply(this,arguments)};p.r(h),p.d(h,{attach:function(){return x},checkStatus:function(){return D},checkStatusFor:function(){return N},detach:function(){return P},detachAll:function(){return k},extensionStore:function(){return Je},getAssignedExtensions:function(){return I},getConnectedExtensions:function(){return C},getExtensionInternalStore:function(){return Le},getExtensionNameFromId:function(){return E},getExtensionRegistration:function(){return j},getExtensionRegistrationFrom:function(){return _},getExtensionStore:function(){return Me},registerExtension:function(){return We},registerExtensionSlot:function(){return $e},renderExtension:function(){return F},reset:function(){return ze},updateInternalExtensionStore:function(){return l}});var H=function(t,e){return t===e||t!=t&&e!=e},V=function(t,e){for(var n=t.length;n--;)if(H(t[n][0],e))return n;return-1},K=Array.prototype.splice;i.prototype.clear=function(){this.__data__=[],this.size=0},i.prototype.delete=function(t){var e=this.__data__,n=V(e,t);return!(n<0||(n==e.length-1?e.pop():K.call(e,n,1),--this.size,0))},i.prototype.get=function(t){var e=this.__data__,n=V(e,t);return n<0?void 0:e[n][1]},i.prototype.has=function(t){return V(this.__data__,t)>-1},i.prototype.set=function(t,e){var n=this.__data__,r=V(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var G,W=i,$="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,z="object"==typeof self&&self&&self.Object===Object&&self,q=$||z||Function("return this")(),Z=q.Symbol,Y=Object.prototype,J=Y.hasOwnProperty,X=Y.toString,Q=Z?Z.toStringTag:void 0,tt=Object.prototype.toString,et=Z?Z.toStringTag:void 0,nt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":et&&et in Object(t)?function(t){var e=J.call(t,Q),n=t[Q];try{t[Q]=void 0;var r=!0}catch(t){}var o=X.call(t);return r&&(e?t[Q]=n:delete t[Q]),o}(t):function(t){return tt.call(t)}(t)},rt=function(t){var e=void 0===t?"undefined":o(t);return null!=t&&("object"==e||"function"==e)},ot=function(t){if(!rt(t))return!1;var e=nt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},it=q["__core-js_shared__"],at=(G=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",ut=Function.prototype.toString,st=function(t){if(null!=t){try{return ut.call(t)}catch(t){}try{return t+""}catch(t){}}return""},ct=/^\[object .+?Constructor\]$/,lt=Function.prototype,ft=Object.prototype,pt=lt.toString,ht=ft.hasOwnProperty,dt=RegExp("^"+pt.call(ht).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!rt(t)||(e=t,at&&at in e))&&(ot(t)?dt:ct).test(st(t));var e}(n)?n:void 0},yt=vt(q,"Map"),mt=vt(Object,"create"),gt=Object.prototype.hasOwnProperty,bt=Object.prototype.hasOwnProperty;a.prototype.clear=function(){this.__data__=mt?mt(null):{},this.size=0},a.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},a.prototype.get=function(t){var e=this.__data__;if(mt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return gt.call(e,t)?e[t]:void 0},a.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:bt.call(e,t)},a.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mt&&void 0===e?"__lodash_hash_undefined__":e,this};var wt=a,St=function(t,e){var n,r,i=t.__data__;return("string"==(r=o(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map};u.prototype.clear=function(){this.size=0,this.__data__={hash:new wt,map:new(yt||W),string:new wt}},u.prototype.delete=function(t){var e=St(this,t).delete(t);return this.size-=e?1:0,e},u.prototype.get=function(t){return St(this,t).get(t)},u.prototype.has=function(t){return St(this,t).has(t)},u.prototype.set=function(t,e){var n=St(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Ot=u;s.prototype.clear=function(){this.__data__=new W,this.size=0},s.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},s.prototype.get=function(t){return this.__data__.get(t)},s.prototype.has=function(t){return this.__data__.has(t)},s.prototype.set=function(t,e){var n=this.__data__;if(r(n,W)){var o=n.__data__;if(!yt||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ot(o)}return n.set(t,e),this.size=n.size,this};var Et=s;c.prototype.add=c.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},c.prototype.has=function(t){return this.__data__.has(t)};var _t=c,jt=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},xt=function(t,e,n,r,o,i){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(t),l=i.get(e);if(c&&l)return c==e&&l==t;var f=-1,p=!0,h=2&n?new _t:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var d=t[f],v=e[f];if(r)var y=a?r(v,d,f,e,t,i):r(d,v,f,t,e,i);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!jt(e,(function(t,e){if(a=e,!h.has(a)&&(d===t||o(d,t,n,r,i)))return h.push(e);var a}))){p=!1;break}}else if(d!==v&&!o(d,v,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p},Pt=q.Uint8Array,kt=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},At=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Ct=Z?Z.prototype:void 0,Tt=Ct?Ct.valueOf:void 0,It=Array.isArray,Dt=Object.prototype.propertyIsEnumerable,Nt=Object.getOwnPropertySymbols,Rt=Nt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a)&&(i[o++]=a)}return i}(Nt(t),(function(e){return Dt.call(t,e)})))}:function(){return[]},Lt=function(t){return null!=t&&"object"==typeof t},Mt=function(t){return Lt(t)&&"[object Arguments]"==nt(t)},Ut=Object.prototype,Bt=Ut.hasOwnProperty,Ft=Ut.propertyIsEnumerable,Ht=Mt(function(){return arguments}())?Mt:function(t){return Lt(t)&&Bt.call(t,"callee")&&!Ft.call(t,"callee")},Vt=Ht,Kt=e&&!e.nodeType&&e,Gt=Kt&&t&&!t.nodeType&&t,Wt=Gt&&Gt.exports===Kt?q.Buffer:void 0,$t=(Wt?Wt.isBuffer:void 0)||function(){return!1},zt=/^(?:0|[1-9]\d*)$/,qt=function(t,e){var n=void 0===t?"undefined":o(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&zt.test(t))&&t>-1&&t%1==0&&t<e},Zt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Yt={};Yt["[object Float32Array]"]=Yt["[object Float64Array]"]=Yt["[object Int8Array]"]=Yt["[object Int16Array]"]=Yt["[object Int32Array]"]=Yt["[object Uint8Array]"]=Yt["[object Uint8ClampedArray]"]=Yt["[object Uint16Array]"]=Yt["[object Uint32Array]"]=!0,Yt["[object Arguments]"]=Yt["[object Array]"]=Yt["[object ArrayBuffer]"]=Yt["[object Boolean]"]=Yt["[object DataView]"]=Yt["[object Date]"]=Yt["[object Error]"]=Yt["[object Function]"]=Yt["[object Map]"]=Yt["[object Number]"]=Yt["[object Object]"]=Yt["[object RegExp]"]=Yt["[object Set]"]=Yt["[object String]"]=Yt["[object WeakMap]"]=!1;var Jt,Xt=e&&!e.nodeType&&e,Qt=Xt&&t&&!t.nodeType&&t,te=Qt&&Qt.exports===Xt&&$.process,ee=function(){try{return Qt&&Qt.require&&Qt.require("util").types||te&&te.binding&&te.binding("util")}catch(t){}}(),ne=ee&&ee.isTypedArray,re=ne?(Jt=ne,function(t){return Jt(t)}):function(t){return Lt(t)&&Zt(t.length)&&!!Yt[nt(t)]},oe=Object.prototype.hasOwnProperty,ie=Object.prototype,ae=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),ue=Object.prototype.hasOwnProperty,se=function(t){return null!=(e=t)&&Zt(e.length)&&!ot(e)?function(t,e){var n=It(t),r=!n&&Vt(t),o=!n&&!r&&$t(t),i=!n&&!r&&!o&&re(t),a=n||r||o||i,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=u.length;for(var c in t)!oe.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qt(c,s))||u.push(c);return u}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||ie))return ae(t);var e,n,r=[];for(var o in Object(t))ue.call(t,o)&&"constructor"!=o&&r.push(o);return r}(t);var e},ce=function(t){return function(t,e,n){var r=e(t);return It(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,se,Rt)},le=Object.prototype.hasOwnProperty,fe=vt(q,"DataView"),pe=vt(q,"Promise"),he=vt(q,"Set"),de=vt(q,"WeakMap"),ve="[object Map]",ye="[object Promise]",me="[object Set]",ge="[object WeakMap]",be="[object DataView]",we=st(fe),Se=st(yt),Oe=st(pe),Ee=st(he),_e=st(de),je=nt;(fe&&je(new fe(new ArrayBuffer(1)))!=be||yt&&je(new yt)!=ve||pe&&je(pe.resolve())!=ye||he&&je(new he)!=me||de&&je(new de)!=ge)&&(je=function(t){var e=nt(t),n="[object Object]"==e?t.constructor:void 0,r=n?st(n):"";if(r)switch(r){case we:return be;case Se:return ve;case Oe:return ye;case Ee:return me;case _e:return ge}return e});var xe=je,Pe="[object Arguments]",ke="[object Array]",Ae="[object Object]",Ce=Object.prototype.hasOwnProperty,Te=function t(e,n,o,i,a){return e===n||(null==e||null==n||!Lt(e)&&!Lt(n)?e!=e&&n!=n:function(t,e,n,o,i,a){var u=It(t),s=It(e),c=u?ke:xe(t),l=s?ke:xe(e),f=(c=c==Pe?Ae:c)==Ae,p=(l=l==Pe?Ae:l)==Ae,h=c==l;if(h&&$t(t)){if(!$t(e))return!1;u=!0,f=!1}if(h&&!f)return a||(a=new Et),u||re(t)?xt(t,e,n,o,i,a):function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Pt(t),new Pt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return H(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=kt;case"[object Set]":var s=1&r;if(u||(u=At),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=xt(u(t),u(e),r,o,i,a);return a.delete(t),l;case"[object Symbol]":if(Tt)return Tt.call(t)==Tt.call(e)}return!1}(t,e,c,n,o,i,a);if(!(1&n)){var d=f&&Ce.call(t,"__wrapped__"),v=p&&Ce.call(e,"__wrapped__");if(d||v){var y=d?t.value():t,m=v?e.value():e;return a||(a=new Et),i(y,m,n,o,a)}}return!!h&&(a||(a=new Et),function(t,e,n,o,i,a){var u=1&n,s=ce(t),c=s.length;if(c!=ce(e).length&&!u)return!1;for(var l=c;l--;){var f=s[l];if(!(u?f in e:le.call(e,f)))return!1}var p=a.get(t),h=a.get(e);if(p&&h)return p==e&&h==t;var d=!0;a.set(t,e),a.set(e,t);for(var v=u;++l<c;){var y=t[f=s[l]],m=e[f];if(o)var g=u?o(m,y,f,e,t,a):o(y,m,f,t,e,a);if(!(void 0===g?y===m||i(y,m,n,o,a):g)){d=!1;break}v||(v="constructor"==f)}if(d&&!v){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&r(b,b)&&"function"==typeof w&&r(w,w)||(d=!1)}return a.delete(t),a.delete(e),d}(t,e,n,o,i,a))}(e,n,o,i,t,a))},Ie=function(t,e){return Te(t,e)},De=p(824),Ne=p(685),Re=(0,Ne.createGlobalStore)("extensionsInternal",{slots:{},extensions:{}}),Le=function(){return(0,Ne.getGlobalStore)("extensionsInternal",{slots:{},extensions:{}})},Me=function(){return(0,Ne.getGlobalStore)("extensions",{slots:{}})};f(Re.getState()),Re.subscribe(f);var Ue=p(766),Be=p(708),Fe=function(t){return void 0===t},He=Le(),Ve=Me(),Ke=(0,De.getExtensionSlotsConfigStore)(),Ge=(0,De.getExtensionsConfigStore)();He.subscribe((function(t){S(t,Ke.getState(),Ge.getState())})),Ke.subscribe((function(t){S(He.getState(),t,Ge.getState())})),Ge.subscribe((function(t){S(He.getState(),Ke.getState(),t)}));var We=function(t){return He.setState((function(e){return e.extensions[t.name]=m(y({},t),{instances:[]}),e}))},$e=function(t,e){return He.setState((function(n){var r,o=null===(r=n.slots[e])||void 0===r?void 0:r.moduleName;if(o&&o!=t)return console.warn("An extension slot with the name '".concat(e,'\' already exists. Refusing to register the same slot name twice (in "registerExtensionSlot"). The existing one is from module ').concat(o,".")),n;if(o&&o==t)return n;if(n.slots[e])return m(y({},n),{slots:m(y({},n.slots),v({},e,m(y({},n.slots[e]),{moduleName:t})))});var i=O(e,t);return m(y({},n),{slots:m(y({},n.slots),v({},e,i))})}))},ze=function(){return Ve.setState((function(){return{slots:{},extensions:{}}}))},qe=p(645),Ze=0;function Ye(){var t;return t=function(t,e,n,r){var o,i,a,u,s,c,f,p,h,d,v,y,m,g,b=arguments;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(w){switch(w.label){case 0:if(o=b.length>4&&void 0!==b[4]?b[4]:function(t){return t},i=b.length>5&&void 0!==b[5]?b[5]:{},a=E(r),u=j(r),s=null,!t)return[3,3];if(!u)throw Error("Couldn't find extension '".concat(a,"' to attach to '").concat(e,"'"));return c=u.load,f=u.meta,p=u.moduleName,h=u.online,d=u.offline,D(h,d)?(l((function(o){var i,u={domElement:t,id:r,slotName:e,slotModuleName:n};return B(U({},o),{extensions:B(U({},o.extensions),M({},a,B(U({},o.extensions[a]),{instances:(i=o.extensions[a].instances,function(t){if(Array.isArray(t))return R(t)}(i)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([u])})))})})),[4,c()]):[3,2];case 1:v=w.sent(),y=v.default,m=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(v,["default"]),g=Ze++,s=(0,qe.mountRootParcel)(o(B(U({},null!=y?y:m),{name:"".concat(e,"/").concat(a,"-").concat(g)})),B(U({},i),{_meta:f,_extensionContext:{extensionId:r,extensionSlotName:e,extensionSlotModuleName:n,extensionModuleName:p},domElement:t})),w.label=2;case 2:return[3,4];case 3:console.warn("Tried to render ".concat(r," into ").concat(e," but no DOM element was available.")),w.label=4;case 4:return[2,s]}}))},Ye=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){L(i,r,o,a,u,"next",t)}function u(t){L(i,r,o,a,u,"throw",t)}a(void 0)}))},Ye.apply(this,arguments)}var Je=Le()}(),h}())}}}))},7249:()=>{System.register(["@openmrs/esm-state"],(function(t,e){var n={};return{setters:[function(t){n.getGlobalStore=t.getGlobalStore}],execute:function(){t(function(){"use strict";var t={685:function(t){t.exports=n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return function(){var t=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},e=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},n=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(n){e(t,n,r[n])}))}return t},i=function(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t},a=function(t,r,o){var a;p.setState((function(u){var s;return{flags:i(n({},u.flags),e({},t,{enabled:null!==(a=null===(s=u.flags[t])||void 0===s?void 0:s.enabled)&&void 0!==a&&a,label:r,description:o}))}}))},u=function(t){return p.getState().flags[t].enabled},s=function(t,e){p.subscribe((function(n){e(n.flags[t].enabled)}))},c=function(t,r){p.setState((function(o){return{flags:i(n({},o.flags),e({},t,i(n({},o.flags[t]),{enabled:r})))}}))};r.r(o),r.d(o,{featureFlagsStore:function(){return p},getFeatureFlag:function(){return u},registerFeatureFlag:function(){return a},setFeatureFlag:function(){return c},subscribeToFeatureFlag:function(){return s}});var l=r(685),f={flags:function(){var t={},e=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(localStorage)[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var u=i.value;if(u.startsWith("openmrs:feature-flag:")){var s=u.replace("openmrs:feature-flag:",""),c=JSON.parse(localStorage.getItem("openmrs:feature-flag-meta:".concat(s))||"{}");t[s]=n({enabled:"true"===localStorage.getItem(u)},c)}}}catch(t){r=!0,o=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw o}}return t}()},p=(0,l.getGlobalStore)("feature-flags",f);p.subscribe((function(e){var n,r=!0,o=!1,i=void 0;try{for(var a,u=Object.entries(e.flags)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=function(t){if(Array.isArray(t))return t}(n=a.value)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(n)||function(e,n){if(e){if("string"==typeof e)return t(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],l=s[1];localStorage.setItem("openmrs:feature-flag:".concat(c),l.enabled.toString()),localStorage.setItem("openmrs:feature-flag-meta:".concat(c),JSON.stringify({label:l.label,description:l.description}))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}))}(),o}())}}}))},130:(t,e,n)=>{"use strict";n.r(e),n.d(e,{addRoutesOverride:()=>d.Uo,getCoreTranslation:()=>m.R,isOpenmrsAppRoutes:()=>d.ZF,isOpenmrsRoutes:()=>d.Hs,localStorageRoutesPrefix:()=>d.F,removeRoutesOverride:()=>d.n,resetAllRoutesOverrides:()=>d.O$,translateFrom:()=>m.a});var r=n(3098),o={};for(const t in r)"default"!==t&&(o[t]=()=>r[t]);n.d(e,o);var i=n(9947);o={};for(const t in i)"default"!==t&&(o[t]=()=>i[t]);n.d(e,o);var a=n(8461);o={};for(const t in a)"default"!==t&&(o[t]=()=>a[t]);n.d(e,o);var u=n(3371);o={};for(const t in u)"default"!==t&&(o[t]=()=>u[t]);n.d(e,o);var s=n(5450);o={};for(const t in s)"default"!==t&&(o[t]=()=>s[t]);n.d(e,o);var c=n(7249);o={};for(const t in c)"default"!==t&&(o[t]=()=>c[t]);n.d(e,o);var l=n(5120);o={};for(const t in l)"default"!==t&&(o[t]=()=>l[t]);n.d(e,o);var f=n(1018);o={};for(const t in f)"default"!==t&&(o[t]=()=>f[t]);n.d(e,o);var p=n(9666);o={};for(const t in p)"default"!==t&&(o[t]=()=>p[t]);n.d(e,o);var h=n(4798);o={};for(const t in h)"default"!==t&&(o[t]=()=>h[t]);n.d(e,o);var d=n(9760),v=n(9504);o={};for(const t in v)["default","addRoutesOverride","isOpenmrsAppRoutes","isOpenmrsRoutes","localStorageRoutesPrefix","removeRoutesOverride","resetAllRoutesOverrides"].indexOf(t)<0&&(o[t]=()=>v[t]);n.d(e,o);var y=n(842);o={};for(const t in y)["default","addRoutesOverride","isOpenmrsAppRoutes","isOpenmrsRoutes","localStorageRoutesPrefix","removeRoutesOverride","resetAllRoutesOverrides"].indexOf(t)<0&&(o[t]=()=>y[t]);n.d(e,o);var m=n(6832),g=n(4507);o={};for(const t in g)["default","addRoutesOverride","isOpenmrsAppRoutes","isOpenmrsRoutes","localStorageRoutesPrefix","removeRoutesOverride","resetAllRoutesOverrides","getCoreTranslation","translateFrom"].indexOf(t)<0&&(o[t]=()=>g[t]);n.d(e,o)},5120:()=>{System.register([],(function(t,e){return{execute:function(){t(function(){"use strict";var t=function(t){window.dispatchEvent(new CustomEvent(v,{detail:{online:t}}))},e=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(v,e),function(){return window.removeEventListener(v,e)}},n=function(t){return t({online:navigator.onLine}),e(t)},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent(y,{detail:t}))},o=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(y,e),function(){return window.removeEventListener(y,e)}},i=function(t){window.dispatchEvent(new CustomEvent(m,{detail:t}))},a=function(t){window.dispatchEvent(new CustomEvent(g,{detail:t}))},u=function(t){window.dispatchEvent(new CustomEvent(w,{detail:t}))},s=function(t){window.dispatchEvent(new CustomEvent(b,{detail:t}))},c=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(m,e),function(){return window.removeEventListener(m,e)}},l=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(g,e),function(){return window.removeEventListener(g,e)}},f=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(b,e),function(){return window.removeEventListener(b,e)}},p=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(w,e),function(){return window.removeEventListener(w,e)}},h={d:function(t,e){for(var n in e)h.o(e,n)&&!h.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},d={};h.r(d),h.d(d,{dispatchActionableNotificationShown:function(){return a},dispatchConnectivityChanged:function(){return t},dispatchNotificationShown:function(){return i},dispatchPrecacheStaticDependencies:function(){return r},dispatchSnackbarShown:function(){return u},dispatchToastShown:function(){return s},subscribeActionableNotificationShown:function(){return l},subscribeConnectivity:function(){return n},subscribeConnectivityChanged:function(){return e},subscribeNotificationShown:function(){return c},subscribePrecacheStaticDependencies:function(){return o},subscribeSnackbarShown:function(){return p},subscribeToastShown:function(){return f}});var v="openmrs:connectivity-changed",y="openmrs:precache-static-dependencies",m="openmrs:notification-shown",g="openmrs:actionable-notification-shown",b="openmrs:toast-shown",w="openmrs:snack-bar-shown";return d}())}}}))},1018:(t,e,n)=>{function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function a(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}System.register(["@openmrs/esm-state"],(function(t,e){var u={};return{setters:[function(t){u.createGlobalStore=t.createGlobalStore}],execute:function(){t(function(){"use strict";var t={685:function(t){t.exports=u}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,s),o.exports}s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var c={};return function(){var t=function(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")},e=function(t){return t&&t.sensitive?"":"i"},u=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},l=function(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},f=function(t){return e=t.matcher,(null!=(n=RegExp)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](e):i(e,n))?t.matcher:"string"==typeof t.matcher?kt(t.matcher):kt(t.path);var e,n},p=function(t){return h([t])},h=function(t){var e=d(),n=t.map((function(t){return{matcher:f(t),settings:t}})),r=l(e).concat(l(n));At.setState(r,!0)},d=function(){return At.getState()},v=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},y=function(t,e){if(t.length>0){var n=Ct(t,e);if(n){for(var r=[n],o=Ct(t,n.settings.parent);void 0!==o;)r.push(o),o=Ct(t,o.settings.parent);return r.reverse()}}return[]},m=function(t){return y(d(),t)},g=function(t,e,n){var r=O(t,e,n);Rt.length?Rt.forEach((function(t){return t(r)})):setTimeout((function(){throw r}))},b=function(t){if("function"!=typeof t)throw Error(S(28,!1));Rt.push(t)},w=function(t){if("function"!=typeof t)throw Error(S(29,!1));var e=!1;return Rt=Rt.filter((function(n){var r=n===t;return e=e||r,!r})),e},S=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"single-spa minified message #".concat(t,": ").concat(e?e+" ":"","See https://single-spa.js.org/error/?code=").concat(t).concat(r.length?"&arg=".concat(r.join("&arg=")):"")},O=function(t,e,n){var r,o="".concat(P(e)," '").concat(j(e),"' died in status ").concat(e.status,": ");if(i(t,Error)){try{t.message=o+t.message}catch(t){}r=t}else{console.warn(S(30,!1,e.status,j(e)));try{r=Error(o+JSON.stringify(t))}catch(e){r=t}}return r.appOrParcelName=j(e),e.status=n,r},E=function(t){return t.status===Vt},_=function(t){try{return t.activeWhen(window.location)}catch(e){return g(e,t,zt),!1}},j=function(t){return t.name},x=function(t){return Boolean(t.unmountThisParcel)},P=function(t){return x(t)?"parcel":"application"},k=function(){for(var t=arguments.length-1;t>0;t--)for(var e in arguments[t])"__proto__"!==e&&(arguments[t-1][e]=arguments[t][e]);return arguments[0]},A=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},C=function(t){return t&&("function"==typeof t||(e=t,Array.isArray(e)&&!A(e,(function(t){return"function"!=typeof t}))));var e},T=function(t,e){var n=t[e]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var r=P(t),o=j(t);return function(t){return n.reduce((function(n,i,a){return n.then((function(){var n=i(t);return I(n)?n:Promise.reject(S(15,!1,r,o,e,a))}))}),Promise.resolve())}},I=function(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch},D=function(t,e){return Promise.resolve().then((function(){return t.status!==Ut?t:(t.status=Bt,t.bootstrap?G(t,"bootstrap").then(n).catch((function(n){if(e)throw O(n,t,zt);return g(n,t,zt),t})):Promise.resolve().then(n))}));function n(){return t.status=Ft,t}},N=function(t,e){return Promise.resolve().then((function(){var n=function(){return G(t,"unmount").then((function(){t.status=Ft}),(function(n){if(e)throw O(n,t,zt);g(n,t,zt)}))};if(t.status!==Vt)return t;t.status=Gt;var r=Object.keys(t.parcels).map((function(e){return t.parcels[e].unmountThisParcel()}));return Promise.all(r).then(n,(function(r){return n().then((function(){var n=Error(r.message);if(e)throw O(n,t,zt);g(n,t,zt)}))})).then((function(){return t}))}))},R=function(t,e){return Promise.resolve().then((function(){return t.status!==Ft?t:(Zt||(window.dispatchEvent(new Nt("single-spa:before-first-mount")),Zt=!0),t.status=Ht,G(t,"mount").then((function(){return t.status=Vt,Yt||(window.dispatchEvent(new Nt("single-spa:first-mount")),Yt=!0),t})).catch((function(n){var r=function(){if(e)throw O(n,t,zt);return g(n,t,zt),t};return t.status=Vt,N(t,!0).then(r,r)})))}))},L=function(){return M.apply(Xt,arguments)},M=function(t,e){var n=this;if(!t||"object"!=typeof t&&"function"!=typeof t)throw Error(S(2,!1));if(t.name&&"string"!=typeof t.name)throw Error(S(3,!1,a(t.name)));var r=Jt++,o=t.name||"parcel-".concat(r);if("object"!=typeof e)throw Error(S(4,!1,o,void 0===e?"undefined":a(e)));if(!e.domElement)throw Error(S(5,!1,o));var i,u="function"==typeof t,s=u?t:function(){return Promise.resolve(t)},c={id:r,parcels:{},status:u?Mt:Ut,customProps:e,parentName:j(n),unmountThisParcel:function(){return d.then((function(){if(c.status!==Vt)throw Error(S(6,!1,o,c.status));return N(c,!0)})).then((function(t){return c.parentName&&delete n.parcels[c.id],t})).then((function(t){return f(t),t})).catch((function(t){throw c.status=zt,p(t),t}))}};n.parcels[r]=c;var l=s();if(!l||"function"!=typeof l.then)throw Error(S(7,!1));l=l.then((function(t){if(!t)throw Error(S(8,!1));if(o=t.name||"parcel-".concat(r),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!C(t.bootstrap))throw Error(S(9,!1,o));if(!C(t.mount))throw Error(S(10,!1,o));if(!C(t.unmount))throw Error(S(11,!1,o));if(t.update&&!C(t.update))throw Error(S(12,!1,o));var e=T(t,"bootstrap"),n=T(t,"mount"),a=T(t,"unmount");c.status=Ut,c.name=o,c.bootstrap=e,c.mount=n,c.unmount=a,c.timeouts=W(t.timeouts),t.update&&(c.update=T(t,"update"),i.update=function(t){return c.customProps=t,U((e=c,Promise.resolve().then((function(){if(e.status!==Vt)throw Error(S(32,!1,j(e)));return e.status=Kt,G(e,"update").then((function(){return e.status=Vt,e})).catch((function(t){throw O(t,e,zt)}))}))));var e})}));var f,p,h=l.then((function(){return D(c,!0)})),d=h.then((function(){return R(c,!0)})),v=new Promise((function(t,e){f=t,p=e}));return i={mount:function(){return U(Promise.resolve().then((function(){if(c.status!==Ft)throw Error(S(13,!1,o,c.status));return n.parcels[r]=c,R(c)})))},unmount:function(){return U(c.unmountThisParcel())},getStatus:function(){return c.status},loadPromise:U(l),bootstrapPromise:U(h),mountPromise:U(d),unmountPromise:U(v)}},U=function(t){return t.then((function(){return null}))},B=function(t){var e=j(t),n="function"==typeof t.customProps?t.customProps(e,window.location):t.customProps;("object"!=typeof n||null===n||Array.isArray(n))&&(n={},console.warn(S(40,!1),e,n));var r=k({},n,{name:e,mountParcel:M.bind(t),singleSpa:It});return x(t)&&(r.unmountSelf=t.unmountThisParcel),r},F=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(S(16,!1));Qt.bootstrap={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},H=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(S(17,!1));Qt.mount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},V=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(S(18,!1));Qt.unmount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},K=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(S(19,!1));Qt.unload={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},G=function(t,e){var n=t.timeouts[e],r=n.warningMillis,o=P(t);return new Promise((function(i,a){var u=!1,s=!1;t[e](B(t)).then((function(t){u=!0,i(t)})).catch((function(t){u=!0,a(t)})),setTimeout((function(){return l(1)}),r),setTimeout((function(){return l(!0)}),n.millis);var c=S(31,!1,e,o,j(t),n.millis);function l(t){if(!u)if(!0===t)s=!0,n.dieOnTimeout?a(Error(c)):console.error(c);else if(!s){var e=t,o=e*r;console.warn(c),o+r<n.millis&&setTimeout((function(){return l(e+1)}),r)}}}))},W=function(t){var e={};for(var n in Qt)e[n]=k({},Qt[n],t&&t[n]||{});return e},$=function(t){return Promise.resolve().then((function(){return t.loadPromise?t.loadPromise:t.status!==Lt&&t.status!==$t?t:(t.status=Mt,t.loadPromise=Promise.resolve().then((function(){var r=t.loadApp(B(t));if(!I(r))throw n=!0,Error(S(33,!1,j(t)));return r.then((function(n){var r;t.loadErrorTime=null,"object"!=typeof(e=n)&&(r=34),Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!C(e.bootstrap)&&(r=35),C(e.mount)||(r=36),C(e.unmount)||(r=37);var o=P(e);if(r){var i;try{i=JSON.stringify(e)}catch(t){}return console.error(S(r,!1,o,j(t),i),e),g(void 0,t,zt),t}return e.devtools&&e.devtools.overlays&&(t.devtools.overlays=k({},t.devtools.overlays,e.devtools.overlays)),t.status=Ut,t.bootstrap=T(e,"bootstrap"),t.mount=T(e,"mount"),t.unmount=T(e,"unmount"),t.unload=T(e,"unload"),t.timeouts=W(e.timeouts),delete t.loadPromise,t}))})).catch((function(e){var r;return delete t.loadPromise,n?r=zt:(r=$t,t.loadErrorTime=(new Date).getTime()),g(e,t,r),t})));var e,n}))},z=function(t){var e;if("string"==typeof t)e=t;else if(this&&this.href)e=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error(S(14,!1));e=t.currentTarget.href,t.preventDefault()}var n=X(window.location.href),r=X(e);0===e.indexOf("#")?window.location.hash=r.hash:n.host!==r.host&&r.host?window.location.href=e:r.pathname===n.pathname&&r.search===n.search?window.location.hash=r.hash:window.history.pushState(null,null,e)},q=function(t){var e=this;if(t){var n=t[0].type;ne.indexOf(n)>=0&&ee[n].forEach((function(n){try{n.apply(e,t)}catch(t){setTimeout((function(){throw t}))}}))}},Z=function(){pe([],arguments)},Y=function(t,e){return function(){var n=window.location.href,r=t.apply(this,arguments),o=window.location.href;return Tt&&n===o||window.dispatchEvent(function(t,e){var n;try{n=new PopStateEvent("popstate",{state:t})}catch(e){(n=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,t)}return n.singleSpa=!0,n.singleSpaTrigger=e,n}(window.history.state,e)),r}},J=function(t){if(oe)throw Error(S(43,!1));Tt=!t||!t.hasOwnProperty("urlRerouteOnly")||t.urlRerouteOnly,oe=!0,re=window.history.replaceState,window.addEventListener("hashchange",Z),window.addEventListener("popstate",Z);var e=window.addEventListener,n=window.removeEventListener;window.addEventListener=function(t,n){if(!("function"==typeof n&&ne.indexOf(t)>=0)||A(ee[t],(function(t){return t===n})))return e.apply(this,arguments);ee[t].push(n)},window.removeEventListener=function(t,e){if(!("function"==typeof e&&ne.indexOf(t)>=0))return n.apply(this,arguments);ee[t]=ee[t].filter((function(t){return t!==e}))},window.history.pushState=Y(window.history.pushState,"pushState"),window.history.replaceState=Y(re,"replaceState")},X=function(t){var e=document.createElement("a");return e.href=t,e},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!ie){var e=t.fn.on,n=t.fn.off;t.fn.on=function(t,n){return tt.call(this,e,window.addEventListener,t,n,arguments)},t.fn.off=function(t,e){return tt.call(this,n,window.removeEventListener,t,e,arguments)},ie=!0}},tt=function(t,e,n,r,o){return"string"!=typeof n?t.apply(this,o):(n.split(/\s+/).forEach((function(t){ne.indexOf(t)>=0&&(e(t,r),n=n.replace(t,""))})),""===n.trim()?this:t.apply(this,o))},et=function(t){return Promise.resolve().then((function(){var e=ae[j(t)];if(!e)return t;if(t.status===Lt)return nt(t,e),t;if(t.status===Wt)return e.promise.then((function(){return t}));if(t.status!==Ft&&t.status!==$t)return t;var n=t.status===$t?Promise.resolve():G(t,"unload");return t.status=Wt,n.then((function(){return nt(t,e),t})).catch((function(n){return function(t,e,n){delete ae[j(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,g(n,t,zt),e.reject(n)}(t,e,n),t}))}))},nt=function(t,e){delete ae[j(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=Lt,e.resolve()},rt=function(t,e,n,r){ae[j(t)]={app:t,resolve:n,reject:r},Object.defineProperty(ae[j(t)],"promise",{get:e})},ot=function(t){return ae[t]},it=function(){return ue.filter(E).map(j)},at=function(){return ue.map(j)},ut=function(t){var e=A(ue,(function(e){return j(e)===t}));return e?e.status:null},st=function(t,e,n,r){var o=function(t,e,n,r){var o,i={name:null,loadApp:null,activeWhen:null,customProps:null};return"object"==typeof t?(function(t){if(Array.isArray(t)||null===t)throw Error(S(39,!1));var e=["name","app","activeWhen","customProps"],n=Object.keys(t).reduce((function(t,n){return e.indexOf(n)>=0?t:t.concat(n)}),[]);if(0!==n.length)throw Error(S(38,!1,e.join(", "),n.join(", ")));if("string"!=typeof t.name||0===t.name.length)throw Error(S(20,!1));if("object"!=typeof t.app&&"function"!=typeof t.app)throw Error(S(20,!1));var r=function(t){return"string"==typeof t||"function"==typeof t};if(!(r(t.activeWhen)||Array.isArray(t.activeWhen)&&t.activeWhen.every(r)))throw Error(S(24,!1));if(!ht(t.customProps))throw Error(S(22,!1))}(t),i.name=t.name,i.loadApp=t.app,i.activeWhen=t.activeWhen,i.customProps=t.customProps):(function(t,e,n,r){if("string"!=typeof t||0===t.length)throw Error(S(20,!1));if(!e)throw Error(S(23,!1));if("function"!=typeof n)throw Error(S(24,!1));if(!ht(r))throw Error(S(22,!1))}(t,e,n,r),i.name=t,i.loadApp=e,i.activeWhen=n,i.customProps=r),i.loadApp="function"!=typeof(o=i.loadApp)?function(){return Promise.resolve(o)}:o,i.customProps=function(t){return t||{}}(i.customProps),i.activeWhen=function(t){var e=Array.isArray(t)?t:[t];return e=e.map((function(t){return"function"==typeof t?t:dt(t)})),function(t){return e.some((function(e){return e(t)}))}}(i.activeWhen),i}(t,e,n,r);if(gt()||se||(se=!0,setTimeout((function(){gt()||console.warn(S(1,!1))}),5e3)),-1!==at().indexOf(o.name))throw Error(S(21,!1,o.name));ue.push(k({loadErrorTime:null,status:Lt,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},o)),te&&(Q(),pe())},ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;return ue.filter((function(e){return e.activeWhen(t)})).map(j)},lt=function(t){if(0===ue.filter((function(e){return j(e)===t})).length)throw Error(S(25,!1,t));return(te?ft(t,{waitForUnmount:!1}):Promise.resolve()).then((function(){var e=ue.map(j).indexOf(t);ue.splice(e,1)}))},ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof t)throw Error(S(26,!1));var n=A(ue,(function(e){return j(e)===t}));if(!n)throw Error(S(27,!1,t));var r,o=ot(j(n));if(e&&e.waitForUnmount){if(o)return o.promise;var i=new Promise((function(t,e){rt(n,(function(){return i}),t,e)}));return i}return o?(r=o.promise,pt(n,o.resolve,o.reject)):r=new Promise((function(t,e){rt(n,(function(){return r}),t,e),pt(n,t,e)})),r},pt=function(t,e,n){Promise.resolve().then((function(){if(A(ct(),(function(e){return e===j(t)})))return vt()})).then((function(){return N(t).then(et).then((function(){e(),setTimeout((function(){pe()}))}))})).catch(n)},ht=function(t){return!t||"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},dt=function(t,e){var n=function(t,e){var n=0,r=!1,o="^";"/"!==t[0]&&(t="/"+t);for(var i=0;i<t.length;i++){var a=t[i];(!r&&":"===a||r&&"/"===a)&&u(i)}return u(t.length),new RegExp(o,"i");function u(i){var a=t.slice(n,i).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(o+=r?"[^/]+/?":a,i===t.length)if(r)e&&(o+="$");else{var u=e?"":".*";o="/"===o.charAt(o.length-1)?"".concat(o).concat(u,"$"):"".concat(o,"(/").concat(u,")?(#.*)?$")}r=!r,n=i}}(t,e);return function(t){var e=t.origin;e||(e="".concat(t.protocol,"//").concat(t.host));var r=t.href.replace(e,"").replace(t.search,"").split("?")[0];return n.test(r)}},vt=function(){return pe()},yt=function(t,e){return _(t)?D(t).then((function(t){return e.then((function(){return _(t)?R(t):t}))})):e.then((function(){return t}))},mt=function(t){he=!0,te&&(J(t),pe())},gt=function(){return he},bt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},wt=function(t,e){var n=window.getOpenmrsSpaBase().replace(/\/$/,"");return St(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){bt(t,e,n[e])}))}return t}({openmrsBase:window.openmrsBase,openmrsSpaBase:n},e)).replace(/^\/\//,"/")},St=function(t,e){return Object.keys(e).reduce((function(t,n){return t.split("${"+n+"}").join(e[n])}),t)},Ot=function(t){var e=t.to,n=t.templateParams,r=window.getOpenmrsSpaBase().replace(/\/$/,""),o=wt(e,n).replace(window.location.origin,"");o.startsWith(r)?z(o):window.location.assign(o)},Et=function(t){var e,n=JSON.parse(null!==(e=sessionStorage.getItem(ve))&&void 0!==e?e:"[]")||[];n.push(t),n.length>50&&(n=n.slice(-50)),sessionStorage.setItem(ve,JSON.stringify(n))},_t=function(){var t;0===JSON.parse(null!==(t=sessionStorage.getItem(ve))&&void 0!==t?t:"[]").length&&document.referrer&&Et(document.referrer),window.addEventListener("single-spa:routing-event",(function(t){var e,n,r=jt();"replaceState"==(null===(e=t.detail.originalEvent)||void 0===e?void 0:e.singleSpaTrigger)?(r[r.length-1]=window.location.href,sessionStorage.setItem(ve,JSON.stringify(r))):!(null===(n=t.detail.originalEvent)||void 0===n?void 0:n.singleSpa)&&r.includes(window.location.href)?xt({toUrl:window.location.href}):r[r.length-1]!==window.location.href&&Et(window.location.href)}))},jt=function(){var t;return JSON.parse(null!==(t=sessionStorage.getItem(ve))&&void 0!==t?t:"[]")},xt=function(t){var e=t.toUrl,n=jt(),r=n.lastIndexOf(e);if(-1==r)throw new Error("URL ".concat(e," not found in history; cannot go back to it."));var o=n.slice(0,r+1);Ot({to:n[r]}),sessionStorage.setItem(ve,JSON.stringify(o))},Pt=function(){sessionStorage.removeItem(ve)};function kt(n,r,o){return i(n,RegExp)?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:"",suffix:"",modifier:"",pattern:""});return t}(n,r):Array.isArray(n)?function(t,n,r){var o=t.map((function(t){return kt(t,n,r).source}));return new RegExp("(?:"+o.join("|")+")",e(r))}(n,r,o):function(n,r,o){return function(n,r,o){void 0===o&&(o={});for(var i=o.strict,a=void 0!==i&&i,u=o.start,s=void 0===u||u,c=o.end,l=void 0===c||c,f=o.encode,p=void 0===f?function(t){return t}:f,h="["+t(o.endsWith||"")+"]|$",d="["+t(o.delimiter||"/#?")+"]",v=s?"^":"",y=0,m=n;y<m.length;y++){var g=m[y];if("string"==typeof g)v+=t(p(g));else{var b=t(p(g.prefix)),w=t(p(g.suffix));if(g.pattern)if(r&&r.push(g),b||w)if("+"===g.modifier||"*"===g.modifier){var S="*"===g.modifier?"?":"";v+="(?:"+b+"((?:"+g.pattern+")(?:"+w+b+"(?:"+g.pattern+"))*)"+w+")"+S}else v+="(?:"+b+"("+g.pattern+")"+w+")"+g.modifier;else v+="("+g.pattern+")"+g.modifier;else v+="(?:"+b+w+")"+g.modifier}}if(l)a||(v+=d+"?"),v+=o.endsWith?"(?="+h+")":"$";else{var O=n[n.length-1],E="string"==typeof O?d.indexOf(O[O.length-1])>-1:void 0===O;a||(v+="(?:"+d+"(?="+h+"))?"),E||(v+="(?="+d+"|"+h+")")}return new RegExp(v,e(o))}(function(e,n){void 0===n&&(n={});for(var r=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)e.push({type:"CHAR",index:n,value:t[n++]});else{var o=1,i="";if("?"===t[u=n+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<t.length;)if("\\"!==t[u]){if(")"===t[u]){if(0==--o){u++;break}}else if("("===t[u]&&(o++,"?"!==t[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);i+=t[u++]}else i+=t[u++]+t[u++];if(o)throw new TypeError("Unbalanced pattern at "+n);if(!i)throw new TypeError("Missing pattern at "+n);e.push({type:"PATTERN",index:n,value:i}),n=u}else{for(var a="",u=n+1;u<t.length;){var s=t.charCodeAt(u);if(!(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s))break;a+=t[u++]}if(!a)throw new TypeError("Missing parameter name at "+n);e.push({type:"NAME",index:n,value:a}),n=u}else e.push({type:"CLOSE",index:n,value:t[n++]});else e.push({type:"OPEN",index:n,value:t[n++]});else e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});else e.push({type:"MODIFIER",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}(e),o=n.prefixes,i=void 0===o?"./":o,a="[^"+t(n.delimiter||"/#?")+"]+?",u=[],s=0,c=0,l="",f=function(t){if(c<r.length&&r[c].type===t)return r[c++].value},p=function(t){var e=f(t);if(void 0!==e)return e;var n=r[c],o=n.type,i=n.index;throw new TypeError("Unexpected "+o+" at "+i+", expected "+t)},h=function(){for(var t,e="";t=f("CHAR")||f("ESCAPED_CHAR");)e+=t;return e};c<r.length;){var d=f("CHAR"),v=f("NAME"),y=f("PATTERN");if(v||y){var m=d||"";-1===i.indexOf(m)&&(l+=m,m=""),l&&(u.push(l),l=""),u.push({name:v||s++,prefix:m,suffix:"",pattern:y||a,modifier:f("MODIFIER")||""})}else{var g=d||f("ESCAPED_CHAR");if(g)l+=g;else if(l&&(u.push(l),l=""),f("OPEN")){m=h();var b=f("NAME")||"",w=f("PATTERN")||"",S=h();p("CLOSE"),u.push({name:b||(w?s++:""),pattern:b&&!w?a:w,prefix:m,suffix:S,modifier:f("MODIFIER")||""})}else p("END")}}return u}(n,o),r,o)}(n,r,o)}s.r(c),s.d(c,{clearHistory:function(){return Pt},filterBreadcrumbs:function(){return y},getBreadcrumbs:function(){return d},getBreadcrumbsFor:function(){return m},getHistory:function(){return jt},goBackInHistory:function(){return xt},interpolateString:function(){return St},interpolateUrl:function(){return wt},navigate:function(){return Ot},registerBreadcrumb:function(){return p},registerBreadcrumbs:function(){return h},setupHistory:function(){return _t}});var At=(0,s(685).createGlobalStore)("breadcrumbs",[]);function Ct(t,e){if(e)return function(t,e){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),1!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||function(t,e){if(t){if("string"==typeof t)return v(t,1);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,1):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.filter((function(t){return t.matcher.test(e)})));return n[0]}(t,e)||function(t,e){for(var n=e.split("/");n.length>1;){n.pop();var r=Ct(t,n.join("/"));if(r)return r}}(t,e)}var Tt,It=Object.freeze({__proto__:null,get start(){return mt},get ensureJQuerySupport(){return Q},get setBootstrapMaxTime(){return F},get setMountMaxTime(){return H},get setUnmountMaxTime(){return V},get setUnloadMaxTime(){return K},get registerApplication(){return st},get unregisterApplication(){return lt},get getMountedApps(){return it},get getAppStatus(){return ut},get unloadApplication(){return ft},get checkActivityFunctions(){return ct},get getAppNames(){return at},get pathToActiveWhen(){return dt},get navigateToUrl(){return z},get patchHistoryApi(){return J},get triggerAppChange(){return vt},get addErrorHandler(){return b},get removeErrorHandler(){return w},get mountRootParcel(){return L},get NOT_LOADED(){return Lt},get LOADING_SOURCE_CODE(){return Mt},get NOT_BOOTSTRAPPED(){return Ut},get BOOTSTRAPPING(){return Bt},get NOT_MOUNTED(){return Ft},get MOUNTING(){return Ht},get UPDATING(){return Kt},get LOAD_ERROR(){return $t},get MOUNTED(){return Vt},get UNLOADING(){return Wt},get UNMOUNTING(){return Gt},get SKIP_BECAUSE_BROKEN(){return zt}}),Dt=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).CustomEvent,Nt=function(){try{var t=new Dt("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?Dt:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n},Rt=[],Lt="NOT_LOADED",Mt="LOADING_SOURCE_CODE",Ut="NOT_BOOTSTRAPPED",Bt="BOOTSTRAPPING",Ft="NOT_MOUNTED",Ht="MOUNTING",Vt="MOUNTED",Kt="UPDATING",Gt="UNMOUNTING",Wt="UNLOADING",$t="LOAD_ERROR",zt="SKIP_BECAUSE_BROKEN",qt=[],Zt=!1,Yt=!1,Jt=0,Xt={parcels:{}},Qt={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:1e3},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},update:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3}},te="undefined"!=typeof window,ee={hashchange:[],popstate:[]},ne=["hashchange","popstate"],re=null,oe=!1;te&&(window.singleSpaNavigate?console.warn(S(41,!1)):window.singleSpaNavigate=z);var ie=!1,ae={},ue=[],se=!1,ce=!1,le=[],fe=te&&window.location.href;function pe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ce)return new Promise((function(t,n){le.push({resolve:t,reject:n,eventArguments:e})}));var r,i=function(){var t=[],e=[],n=[],r=[],o=(new Date).getTime();return ue.forEach((function(i){var a=i.status!==zt&&_(i);switch(i.status){case $t:a&&o-i.loadErrorTime>=200&&n.push(i);break;case Lt:case Mt:a&&n.push(i);break;case Ut:case Ft:!a&&ot(j(i))?t.push(i):a&&r.push(i);break;case Vt:a||e.push(i)}})),{appsToUnload:t,appsToUnmount:e,appsToLoad:n,appsToMount:r}}(),a=i.appsToUnload,u=i.appsToUnmount,s=i.appsToLoad,c=i.appsToMount,l=[],f=fe,p=fe=window.location.href;return gt()?(ce=!0,r=a.concat(s,u,c),Promise.resolve().then((function(){return m(0===r.length?"before-no-app-change":"before-app-change",y(!0)),m("before-routing-event",y(!0,{cancelNavigation:h})),Promise.all(l).then((function(n){if(n.some((function(t){return t})))return re.call(window.history,history.state,"",f.substring(location.origin.length)),fe=location.href,ce=!1,pe(t,e,!0);var r=a.map(et),o=u.map(N).map((function(t){return t.then(et)})).concat(r),i=Promise.all(o);i.then((function(){m("before-mount-routing-event",y(!0))}),(function(t){throw t}));var l=s.map((function(t){return $(t).then((function(t){return yt(t,i)}))})),p=c.filter((function(t){return s.indexOf(t)<0})).map((function(t){return yt(t,i)}));return i.catch((function(t){throw v(),t})).then((function(){return v(),Promise.all(l.concat(p)).catch((function(e){throw t.forEach((function(t){return t.reject(e)})),e})).then(d).then((function(){}),(function(t){throw t}))}))}))}))):(r=s,Promise.resolve().then((function(){var t=s.map($);return Promise.all(t).then(v).then((function(){return[]})).catch((function(t){throw v(),t})).finally((function(){}))})));function h(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="function"==typeof(null==t?void 0:t.then)?t:Promise.resolve(t);l.push(e.catch((function(t){return console.warn(Error(S(42,!1))),console.warn(t),!1})))}function d(){var e=it();t.forEach((function(t){return t.resolve(e)}));try{m(0===r.length?"no-app-change":"app-change",y()),m("routing-event",y())}catch(t){setTimeout((function(){throw t}))}if(ce=!1,le.length>0){var n=le;le=[],pe(n)}return e}function v(){n||(t.forEach((function(t){q(t.eventArguments)})),q(e))}function y(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,l={},h=(o(t={},Vt,[]),o(t,Ft,[]),o(t,Lt,[]),o(t,zt,[]),t);n?(s.concat(c).forEach((function(t,e){v(t,Vt)})),a.forEach((function(t){v(t,Lt)})),u.forEach((function(t){v(t,Ft)}))):r.forEach((function(t){v(t)}));var d={detail:{newAppStatuses:l,appsByNewStatus:h,totalAppChanges:r.length,originalEvent:null==e?void 0:e[0],oldUrl:f,newUrl:p}};return i&&k(d.detail,i),d;function v(t,e){var n=j(t);e=e||ut(n),l[n]=e,(h[e]=h[e]||[]).push(n)}}function m(t,e){n||window.dispatchEvent(new Nt("single-spa:".concat(t),e))}}var he=!1,de={getRawAppData:function(){return function(t){if(Array.isArray(t))return r(t)}(t=ue)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t},reroute:pe,NOT_LOADED:Lt,toLoadPromise:$,toBootstrapPromise:D,unregisterApplication:lt,getProfilerData:function(){return qt}};te&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=de);var ve="openmrs:history"}(),c}())}}}))},9666:(t,e,n)=>{function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){u(t,e,n[e])}))}return t}function l(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function d(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}System.register(["@openmrs/esm-api","@openmrs/esm-state"],(function(t,e){var r={},i={};return{setters:[function(t){r.getLoggedInUser=t.getLoggedInUser},function(t){i.createGlobalStore=t.createGlobalStore}],execute:function(){t(function(){"use strict";var t={766:function(t){t.exports=r},685:function(t){t.exports=i}},e={};function d(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,d),o.exports}d.d=function(t,e){for(var n in e)d.o(e,n)&&!d.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var v={};return function(){var t=function(t,e){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(t){n(t.data)},t.postMessage(e,[r.port2])}))},e=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},r=function(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)},i=function(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href},y=function(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)},m=function(){},g=function(t,e){if(!e)return t&&t.then?t.then(m):Promise.resolve()},b=function(t,e){if(void 0!==Dn)return console.warn("The application's Service Worker has already been registered. The new service worker at ".concat(t," will not be registered.")),Dn;if(!("serviceWorker"in navigator))throw new Error("Registering the Service Worker is not possible due to missing browser capabilities.");var n=new In(t,e);return Dn=n.register().then((function(){return n.controlling.then((function(){return n}))}))},w=function(){return null!=Dn?Dn:Promise.resolve(void 0)},S=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},O=function(t){return Mn.apply(this,arguments)},E=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},j=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){E(i,r,o,a,u,"next",t)}function u(t){E(i,r,o,a,u,"throw",t)}a(void 0)}))}},x=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},P=function(){return Un.apply(this,arguments)},k=function(){return Bn.apply(this,arguments)},A=function(){return Fn.apply(this,arguments)},C=function(){return Hn.apply(this,arguments)},T=function(){return{current:Kn,notAvailable:"unavailable"===Kn,active:"on"===Kn}},I=function(t){"unavailable"!==Kn&&"unavailable"!==t&&(localStorage.setItem(Vn,"on"===t?"active":"disabled"),Kn=t)},D=function(){return Gn.apply(this,arguments)},N=function(t,e){return"object"!=typeof e||$n(e).forEach((function(n){t[n]=e[n]})),t},R=function(t,e){return Zn.call(t,e)},L=function(t,e){"function"==typeof e&&(e=e(qn(t))),("undefined"==typeof Reflect?$n:Reflect.ownKeys)(e).forEach((function(n){M(t,n,e[n])}))},M=function(t,e,n,r){Yn(t,e,N(n&&R(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))},U=function(t){return{from:function(e){return t.prototype=Object.create(e.prototype),M(t.prototype,"constructor",t),{extend:L.bind(null,t.prototype)}}}},B=function(t,e,n){return Qn.call(t,e,n)},F=function(t,e){return e(t)},H=function(t){if(!t)throw new Error("Assertion Failed")},V=function(t){Wn.setImmediate?setImmediate(t):setTimeout(t,0)},K=function(t,e){return t.reduce((function(t,n,r){var o=e(n,r);return o&&(t[o[0]]=o[1]),t}),{})},G=function(t){var e={};for(var n in t)R(t,n)&&(e[n]=t[n]);return e},W=function(t){return nr.apply([],t)},$=function(t){ir="undefined"!=typeof WeakMap&&new WeakMap;var e=ar(t);return ir=null,e},z=function(t){return ur.call(t).slice(8,-1)},q=function(t){var e,n,r,o;if(1===arguments.length){if(zn(t))return t.slice();if(this===lr&&"string"==typeof t)return[t];if(o=cr(t)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n},Z=function(t,e){pr=t,hr=e},Y=function(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(hr).map((function(t){return"\n"+t})).join("")):""},J=function(t,e){this._e=vr(),this.name=t,this.message=e},X=function(t,e){return t+". Errors: "+Object.keys(e).map((function(t){return e[t].toString()})).filter((function(t,e,n){return n.indexOf(t)===e})).join("\n")},Q=function(t,e,n,r){this._e=vr(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=X(t,e)},tt=function(t,e){this._e=vr(),this.name="BulkError",this.failures=Object.keys(e).map((function(t){return e[t]})),this.failuresByPos=e,this.message=X(t,e)},et=function(){},nt=function(t){return t},rt=function(t,e){return null==t||t===nt?e:function(n){return e(t(n))}},ot=function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}},it=function(t,e){return t===et?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ot(r,this.onsuccess):r),o&&(this.onerror=this.onerror?ot(o,this.onerror):o),void 0!==i?i:n}},at=function(t,e){return t===et?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ot(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ot(r,this.onerror):r)}},ut=function(t,e){return t===et?e:function(n){var r=t.apply(this,arguments);N(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?ot(o,this.onsuccess):o),i&&(this.onerror=this.onerror?ot(i,this.onerror):i),void 0===r?void 0===a?void 0:a:N(r,a)}},st=function(t,e){return t===et?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}},ct=function(t,e){return t===et?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return e.apply(r,i)}))}return e.apply(this,arguments)}},lt=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=et,this._lib=!1;var e=this._PSD=Vr;if(pr&&(this._stackHolder=vr(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==_r)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&pt(this,this._value))}this._state=null,this._value=null,++e.ref,zr(this,t)},ft=function(t,e,n,r,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=o},pt=function(t,e){if(Ur.push(e),null===t._state){var n=t._lib&&gt();e=Fr(e),t._state=!1,t._value=e,pr&&null!==e&&"object"==typeof e&&!e._promise&&function(t,e,n){try{t.apply(null,void 0)}catch(t){}}((function(){var n=Xn(e,"stack");e._promise=t,M(e,"stack",{get:function(){return Ir?n&&(n.get?n.get.apply(e):n.value):t.stack}})})),function(t){Mr.some((function(e){return e._value===t._value}))||Mr.push(t)}(t),ht(t),n&&bt()}},ht=function(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)dt(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),0===Gr&&(++Gr,Nr((function(){0==--Gr&&wt()}),[]))},dt=function(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Gr,Nr(vt,[n,t,e])}else t._listeners.push(e)},vt=function(t,e,n){try{Br=e;var r,o=e._value;e._state?r=t(o):(Ur.length&&(Ur=[]),r=t(o),-1===Ur.indexOf(o)&&function(t){for(var e=Mr.length;e;)if(Mr[--e]._value===t._value)return void Mr.splice(e,1)}(e)),n.resolve(r)}catch(t){n.reject(t)}finally{Br=null,0==--Gr&&wt(),--n.psd.ref||n.psd.finalize()}},yt=function(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)},mt=function(){gt()&&bt()},gt=function(){var t=Rr;return Rr=!1,Lr=!1,t},bt=function(){var t,e,n;do{for(;Kr.length>0;)for(t=Kr,Kr=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(Kr.length>0);Rr=!0,Lr=!0},wt=function(){var t=Mr;Mr=[],t.forEach((function(t){t._PSD.onunhandled.call(null,t._value,t)}));for(var e=Wr.slice(0),n=e.length;n;)e[--n]()},St=function(t){return new lt(_r,!1,t)},Ot=function(t,e){var n=Vr;return function(){var r=gt(),o=Vr;try{return At(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{At(o,!1),r&&bt()}}},Et=function(t,e,n,r){var o=Vr,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++to;var a=Hr.env;i.env=Tr?{Promise:lt,PromiseProp:{value:lt,configurable:!0,writable:!0},all:lt.all,race:lt.race,allSettled:lt.allSettled,any:lt.any,resolve:lt.resolve,reject:lt.reject,nthen:Nt(a.nthen,i),gthen:Nt(a.gthen,i)}:{},e&&N(i,e),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Tt(i,t,n,r);return 0===i.ref&&i.finalize(),u},_t=function(){return Zr.id||(Zr.id=++Yr),++Zr.awaits,Zr.echoes+=100,Zr.id},jt=function(){return!!Zr.awaits&&(0==--Zr.awaits&&(Zr.id=0),Zr.echoes=100*Zr.awaits,!0)},xt=function(t){return Zr.echoes&&t&&t.constructor===Cr?(_t(),t.then((function(t){return jt(),t}),(function(t){return jt(),eo(t)}))):t},Pt=function(t){++Qr,Zr.echoes&&0!=--Zr.echoes||(Zr.echoes=Zr.id=0),Jr.push(Vr),At(t,!0)},kt=function(){var t=Jr[Jr.length-1];Jr.pop(),At(t,!1)},At=function(t,e){var n=Vr;if((e?!Zr.echoes||Xr++&&t===Vr:!Xr||--Xr&&t===Vr)||It(e?Pt.bind(null,t):kt),t!==Vr&&(Vr=t,n===Hr&&(Hr.env=Ct()),Tr)){var r=Hr.env.Promise,o=t.env;Pr.then=o.nthen,r.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(Wn,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}},Ct=function(){var t=Wn.Promise;return Tr?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Wn,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Pr.then,gthen:t.prototype.then}:{}},Tt=function(t,e,n,r,o){var i=Vr;try{return At(t,!0),e(n,r,o)}finally{At(i,!1)}},It=function(t){Ar.call(xr,t)},Dt=function(t,e,n,r){return"function"!=typeof t?t:function(){var o=Vr;n&&_t(),At(e,!0);try{return t.apply(this,arguments)}finally{At(o,!1),r&&It(jt)}}},Nt=function(t,e){return function(n,r){return t.call(this,Dt(n,e),Dt(r,e))}},Rt=function(t,e){var n;try{n=e.onuncatched(t)}catch(t){}if(!1!==n)try{var r,o={promise:e,reason:t};if(Wn.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),N(r,o)):Wn.CustomEvent&&N(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&Wn.dispatchEvent&&(dispatchEvent(r),!Wn.PromiseRejectionEvent&&Wn.onunhandledrejection))try{Wn.onunhandledrejection(r)}catch(t){}pr&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: ".concat(t.stack||t))}catch(t){}},Lt=function(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e},Mt=function(t){return"string"!=typeof t||/\./.test(t)?function(t){return t}:function(e){return void 0===e[t]&&t in e&&delete(e=$(e))[t],e}},Ut=function(t){var e={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return e[n].subscribe.apply(null,i),t}if("string"==typeof n)return e[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(t,r,o){if("object"==typeof t)return function(t){$n(t).forEach((function(e){var n=t[e];if(zn(n))i(e,t[e][0],t[e][1]);else{if("asap"!==n)throw new Sr.InvalidArgument("Invalid event config");var r=i(e,nt,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];r.subscribers.forEach((function(t){V((function(){t.apply(null,e)}))}))}))}}))}(t);r||(r=st),o||(o=et);var a={subscribers:[],fire:o,subscribe:function(t){-1===a.subscribers.indexOf(t)&&(a.subscribers.push(t),a.fire=r(a.fire,t))},unsubscribe:function(t){a.subscribers=a.subscribers.filter((function(e){return e!==t})),a.fire=a.subscribers.reduce(r,o)}};return e[t]=n[t]=a,a}},Bt=function(t,e){return U(e).from({prototype:t}),e},Ft=function(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)},Ht=function(t,e){t.filter=Lt(t.filter,e)},Vt=function(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return Lt(r(),e())}:e,t.justLimit=n&&!r},Kt=function(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new Sr.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n},Gt=function(t,e,n){var r=Kt(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})},Wt=function(t,e,n,r){var o=t.replayFilter?Lt(t.filter,t.replayFilter()):t.filter;if(t.or){var i={},a=function(t,n,r){if(!o||o(n,r,(function(t){return n.stop(t)}),(function(t){return n.fail(t)}))){var a=n.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),R(i,u)||(i[u]=!0,e(t,n,r))}};return Promise.all([t.or._iterate(a,n),$t(Gt(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return $t(Gt(t,r,n),Lt(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)},$t=function(t,e,n,r){var o=Ot(r?function(t,e,o){return n(r(t),e,o)}:n);return t.then((function(t){if(t)return t.start((function(){var n=function(){return t.continue()};e&&!e(t,(function(t){return n=t}),(function(e){t.stop(e),n=et}),(function(e){t.fail(e),n=et}))||o(t.value,t,(function(t){return n=t})),n()}))}))},zt=function(t){var e=void 0===t?"undefined":h(t);if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";var n=z(t);return"ArrayBuffer"===n?"binary":n},qt=function(t){return s(t,Uint8Array)?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)},Zt=function(t,e){return t<e?-1:t===e?0:1},Yt=function(t,e){return t>e?-1:t===e?0:1},Jt=function(t,e,n){var r=s(t,yo)?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r},Xt=function(t){return new t.Collection(t,(function(){return ne("")})).limit(0)},Qt=function(t,e,n,r,o,i){for(var a=Math.min(t.length,r.length),u=-1,s=0;s<a;++s){var c=e[s];if(c!==r[s])return o(t[s],n[s])<0?t.substr(0,s)+n[s]+n.substr(s+1):o(t[s],r[s])<0?t.substr(0,s)+r[s]+n.substr(s+1):u>=0?t.substr(0,u)+e[u]+n.substr(u+1):null;o(t[s],c)<0&&(u=s)}return a<r.length&&"next"===i?t+n.substr(t.length):a<t.length&&"prev"===i?t.substr(0,n.length):u<0?null:t.substr(0,u)+r[u]+n.substr(u+1)},te=function(t,e,n,r){var o,i,a,u,s,c,l,f=n.length;if(!n.every((function(t){return"string"==typeof t})))return Jt(t,"String expected.");function p(t){o=function(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}(t),i=function(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}(t),a="next"===t?Zt:Yt;var e=n.map((function(t){return{lower:i(t),upper:o(t)}})).sort((function(t,e){return a(t.lower,e.lower)}));u=e.map((function(t){return t.upper})),s=e.map((function(t){return t.lower})),c=t,l="next"===t?"":r}p("next");var h=new t.Collection(t,(function(){return ee(u[0],s[f-1]+r)}));h._ondirectionchange=function(t){p(t)};var d=0;return h._addAlgorithm((function(t,n,r){var o=t.key;if("string"!=typeof o)return!1;var p=i(o);if(e(p,s,d))return!0;for(var h=null,v=d;v<f;++v){var y=Qt(o,p,u[v],s[v],a,c);null===y&&null===h?d=v+1:(null===h||a(h,y)>0)&&(h=y)}return n(null!==h?function(){t.continue(h+l)}:r),!1})),h},ee=function(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}},ne=function(t){return{type:1,lower:t,upper:t}},re=function(t){return Ot((function(e){return oe(e),t(e.target.error),!1}))},oe=function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()},ie=function(t,e,n,r,o,i,a){return{name:t,keyPath:e,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+ae(e)}},ae=function(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""},ue=function(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:K(n,(function(t){return[t.name,t]}))}},se=function(t){return null==t?function(){}:"string"==typeof t?function(t){return 1===t.split(".").length?function(e){return e[t]}:function(e){return tr(e,t)}}(t):function(e){return tr(e,t)}},ce=function(t){return[].slice.call(t)},le=function(t){return null==t?":id":"string"==typeof t?t:"[".concat(t.join("+"),"]")},fe=function(t,e){var n=t._novip,r=e.db,o=function(t,e,n,r){var o=n.IDBKeyRange,i=(n.indexedDB,function(t,e){return e.reduce((function(t,e){return c({},t,(0,e.create)(t))}),t)}(function(t,e,n){function r(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=t.lower,r=t.upper,o=t.lowerOpen,i=t.upperOpen;return void 0===n?void 0===r?null:e.upperBound(r,!!i):void 0===r?e.lowerBound(n,!!o):e.bound(n,r,!!o,!!i)}var o=function(t,e){var n=ce(t.objectStoreNames);return{schema:{name:t.name,tables:n.map((function(t){return e.objectStore(t)})).map((function(t){var e=t.keyPath,n=t.autoIncrement,r=zn(e),o=null==e,i={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:se(e)},indexes:ce(t.indexNames).map((function(e){return t.index(e)})).map((function(t){var e=t.name,n=t.unique,r=t.multiEntry,o=t.keyPath,a={name:e,compound:zn(o),keyPath:o,unique:n,multiEntry:r,extractKey:se(o)};return i[le(o)]=a,a})),getIndexByKeyPath:function(t){return i[le(t)]}};return i[":id"]=a.primaryKey,null!=e&&(i[le(e)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in e.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),i=o.schema,a=o.hasGetAll,u=i.tables.map((function(t){return function(t){var e=t.name;return{name:e,schema:t,mutate:function(t){var n=t.trans,o=t.type,i=t.keys,a=t.values,u=t.range;return new Promise((function(t,s){t=Ot(t);var c=n.objectStore(e),l=null==c.keyPath,p="put"===o||"add"===o;if(!p&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var h,d=(i||a||{length:1}).length;if(i&&a&&i.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return t({numFailures:0,failures:{},results:[],lastResult:void 0});var v=[],y=[],m=0,g=function(t){++m,oe(t)};if("deleteRange"===o){if(4===u.type)return t({numFailures:m,failures:y,results:[],lastResult:void 0});3===u.type?v.push(h=c.clear()):v.push(h=c.delete(r(u)))}else{var b=f(p?l?[a,i]:[a,null]:[i,null],2),w=b[0],S=b[1];if(p)for(var O=0;O<d;++O)v.push(h=S&&void 0!==S[O]?c[o](w[O],S[O]):c[o](w[O])),h.onerror=g;else for(var E=0;E<d;++E)v.push(h=c[o](w[E])),h.onerror=g}var _=function(e){var n=e.target.result;v.forEach((function(t,e){return null!=t.error&&(y[e]=t.error)})),t({numFailures:m,failures:y,results:"delete"===o?i:v.map((function(t){return t.result})),lastResult:n})};h.onerror=function(t){g(t),_(t)},h.onsuccess=_}))},getMany:function(t){var n=t.trans,r=t.keys;return new Promise((function(t,o){t=Ot(t);for(var i,a=n.objectStore(e),u=r.length,s=new Array(u),c=0,l=0,f=function(e){var n=e.target;s[n._pos]=n.result,++l===c&&t(s)},p=re(o),h=0;h<u;++h)null!=r[h]&&((i=a.get(r[h]))._pos=h,i.onsuccess=f,i.onerror=p,++c);0===c&&t(s)}))},get:function(t){var n=t.trans,r=t.key;return new Promise((function(t,o){t=Ot(t);var i=n.objectStore(e).get(r);i.onsuccess=function(e){return t(e.target.result)},i.onerror=re(o)}))},query:function(t){return function(n){return new Promise((function(o,i){o=Ot(o);var a=n.trans,u=n.values,s=n.limit,c=n.query,l=s===1/0?void 0:s,f=c.index,p=c.range,h=a.objectStore(e),d=f.isPrimaryKey?h:h.index(f.name),v=r(p);if(0===s)return o({result:[]});if(t){var y=u?d.getAll(v,l):d.getAllKeys(v,l);y.onsuccess=function(t){return o({result:t.target.result})},y.onerror=re(i)}else{var m=0,g=u||!("openKeyCursor"in d)?d.openCursor(v):d.openKeyCursor(v),b=[];g.onsuccess=function(t){var e=g.result;return e?(b.push(u?e.value:e.primaryKey),++m===s?o({result:b}):void e.continue()):o({result:b})},g.onerror=re(i)}}))}}(a),openCursor:function(t){var n=t.trans,o=t.values,i=t.query,a=t.reverse,u=t.unique;return new Promise((function(t,s){t=Ot(t);var c=i.index,l=i.range,f=n.objectStore(e),p=c.isPrimaryKey?f:f.index(c.name),h=a?u?"prevunique":"prev":u?"nextunique":"next",d=o||!("openKeyCursor"in p)?p.openCursor(r(l),h):p.openKeyCursor(r(l),h);d.onerror=re(s),d.onsuccess=Ot((function(e){var r=d.result;if(r){r.___id=++wo,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=Ot(s),r.next=function(){var t=this,e=1;return this.start((function(){return e--?t.continue():t.stop()})).then((function(){return t}))},r.start=function(t){var e=new Promise((function(t,e){t=Ot(t),d.onerror=re(e),r.fail=e,r.stop=function(e){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,t(e)}})),n=function(){if(d.result)try{t()}catch(t){r.fail(t)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return d.onsuccess=Ot((function(t){d.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),e},t(r)}else t(null)}),s)}))},count:function(t){var n=t.query,o=t.trans,i=n.index,a=n.range;return new Promise((function(t,n){var u=o.objectStore(e),s=i.isPrimaryKey?u:u.index(i.name),c=r(a),l=c?s.count(c):s.count();l.onsuccess=Ot((function(e){return t(e.target.result)})),l.onerror=re(n)}))}}}(t)})),s={};return u.forEach((function(t){return s[t.name]=t})),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(t){if(!s[t])throw new Error("Table '".concat(t,"' not found"));return s[t]},MIN_KEY:-1/0,MAX_KEY:bo(e),schema:i}}(e,o,r),t.dbcore));return{dbcore:i}}(n._middlewares,r,n._deps,e);n.core=o.dbcore,n.tables.forEach((function(t){var e=t.name;n.core.schema.tables.some((function(t){return t.name===e}))&&(t.core=n.core.table(e),s(n[e],n.Table)&&(n[e].core=t.core))}))},pe=function(t,e,n,r){var o=t._novip;n.forEach((function(t){var n=r[t];e.forEach((function(e){var r=Xn(e,t);(!r||"value"in r&&void 0===r.value)&&(e===o.Transaction.prototype||s(e,o.Transaction)?M(e,t,{get:function(){return this.table(t)},set:function(e){Yn(this,t,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):e[t]=new o.Table(t,n))}))}))},he=function(t,e){var n=t._novip;e.forEach((function(t){for(var e in t)s(t[e],n.Table)&&delete t[e]}))},de=function(t,e){return t._cfg.version-e._cfg.version},ve=function(t,e){var n,r={del:[],add:[],change:[]};for(n in t)e[n]||r.del.push(n);for(n in e){var o=t[n],i=e[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!ao)a.recreate=!0,r.change.push(a);else{var u=o.idxByName,s=i.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var l=u[c],f=s[c];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r},ye=function(t,e,n,r){var o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(t){return me(o,t)})),o},me=function(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})},ge=function(t,e,n){var r={};return B(e.objectStoreNames,0).forEach((function(t){for(var e=n.objectStore(t),o=e.keyPath,i=ie(ae(o),o||"",!1,!1,!!e.autoIncrement,o&&"string"!=typeof o,!0),a=[],u=0;u<e.indexNames.length;++u){var s=e.index(e.indexNames[u]);o=s.keyPath;var c=ie(s.name,o,!!s.unique,!!s.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(c)}r[t]=ue(t,i,a)})),r},be=function(t,e,n){for(var r=t._novip,o=n.db.objectStoreNames,i=0;i<o.length;++i){var a=o[i],u=n.objectStore(a);r._hasGetAll="getAll"in u;for(var c=0;c<u.indexNames.length;++c){var l=u.indexNames[c],f=u.index(l).keyPath,p="string"==typeof f?f:"["+B(f).join("+")+"]";if(e[a]){var h=e[a].idxByName[p];h&&(h.name=l,delete e[a].idxByName[p],e[a].idxByName[l]=h)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Wn.WorkerGlobalScope&&s(Wn,Wn.WorkerGlobalScope)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)},we=function(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new To("__dbnames",{addons:[],indexedDB:t,IDBKeyRange:e})).version(1).stores({dbnames:"name"}),n.table("dbnames")},Se=function(t){return t&&"function"==typeof t.databases},Oe=function(t){return Et((function(){return Vr.letThrough=!0,t()}))},Ee=function(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()},_e=function(t){var e=function(e){return t.next(e)},n=o(e),r=o((function(e){return t.throw(e)}));function o(t){return function(e){var o=t(e),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):zn(i)?Promise.all(i).then(n,r):n(i)}}return o(e)()},je=function(t,e,n){var r=arguments.length;if(r<2)throw new Sr.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[t,W(o),n]},xe=function(t,e,n){for(var r=zn(t)?t.slice():[t],o=0;o<n;++o)r.push(e);return r},Pe=function(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;for(var r=[],o=0,i=0;o<e.keys.length&&i<t.length;++o)0===po(e.keys[o],t[i])&&(r.push(n?$(e.values[o]):e.values[o]),++i);return r.length===t.length?r:null}catch(t){return null}},ke=function(t){return!("from"in t)},Ae=function(t,e){ke(e)||function t(e,n){var r=n.from,o=n.to,i=n.l,a=n.r;ko(e,r,o),i&&t(e,i),a&&t(e,a)}(t,e)},Ce=function(t){var e=ke(t)?null:{s:0,n:t};return{next:function(t){for(var n=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&po(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||po(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}},Te=function(t){var e,n,r=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){var i="r"===o?"l":"r",a=c({},t),u=t[o];t.from=u.from,t.to=u.to,t[o]=u[o],a[o]=u[i],t[i]=a,a.d=Ie(a)}t.d=Ie(t)},Ie=function(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1},De=function(t,e){return $n(e).forEach((function(n){Ae(t[n]||(t[n]=new Po),e[n])})),t},Ne=function(t){var e=Ro;try{Ro=!0,mo.storagemutated.fire(t)}finally{Ro=e}},Re=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},Le=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Me=function(){return new Vo},Ue=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},Be=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},Fe=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Be(i,r,o,a,u,"next",t)}function u(t){Be(i,r,o,a,u,"throw",t)}a(void 0)}))}},He=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Ve=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){He(t,e,n[e])}))}return t},Ke=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ue(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Ge=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},We=function(){return Wo},$e=function(){return $o.apply(this,arguments)},ze=function(){return qo.apply(this,arguments)},qe=function(t,e,n,r){return Zo.apply(this,arguments)},Ze=function(t,e,n){return Yo.apply(this,arguments)},Ye=function(t,e){return Jo.apply(this,arguments)},Je=function(t,e){return Xo.apply(this,arguments)},Xe=function(t){return Qo.apply(this,arguments)},Qe=function(t){return ti.apply(this,arguments)},tn=function(t){return ei.apply(this,arguments)},en=function(t){var e;return!!(null===(e=Go[t])||void 0===e?void 0:e.options.onBeginEditSyncItem)},nn=function(t){return ni.apply(this,arguments)},rn=function(t){return ri.apply(this,arguments)},on=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Go[t]={type:t,dependsOn:e,process:n,options:r}},an=function(){if(!oi&&!(oi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oi(ai)},un=function(){return li+ci()},sn=function(t){return t.startsWith(li)},cn=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},ln=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},fn=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ln(i,r,o,a,u,"next",t)}function u(t){ln(i,r,o,a,u,"throw",t)}a(void 0)}))}},pn=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},hn=function(){return Object.values(fi)},dn=function(t){fi[t.id]&&console.warn('[setupDynamicOfflineDataHandler] Another second handler with the ID "'.concat(t.id,'" was registered. This handler will override the previous one. This could be unintended as the previous handler might run different flows than the newly registered one. If this is the case, ensure that you are setting up the handlers with different IDs.')),fi[t.id]=t},vn=function(t){return pi.apply(this,arguments)},yn=function(t,e){return hi.apply(this,arguments)},mn=function(t,e){return di.apply(this,arguments)},gn=function(t,e,n){return vi.apply(this,arguments)},bn=function(t,e){return yi.apply(this,arguments)},wn=function(t,e,n){return mi.apply(this,arguments)},Sn=function(t,e){return gi.apply(this,arguments)},On=function(t,e,n){return bi.apply(this,arguments)},En=function(){return wi.apply(this,arguments)},_n=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},jn=function(){return kn(),Si},xn=function(t,e){kn(),dn({type:"patient",displayName:e.displayName,id:t,isSynced:function(){return Promise.resolve(!0)},sync:function(t,n){return e.onOfflinePatientAdded({patientUuid:t,signal:null!=n?n:(new AbortController).signal})}})},Pn=function(t){return Oi.apply(this,arguments)},kn=function(){console.warn("The offline patient API has been deprecated and will be removed in a future release. To prevent future crashes, the functions remain available for the moment, but any invocations should be migrated ASAP.")};d.r(v),d.d(v,{activateOfflineCapability:function(){return D},beginEditSynchronizationItem:function(){return nn},canBeginEditSynchronizationItemsOfType:function(){return en},deleteSynchronizationItem:function(){return rn},generateOfflineUuid:function(){return un},getCurrentOfflineMode:function(){return T},getDynamicOfflineDataEntries:function(){return vn},getDynamicOfflineDataEntriesFor:function(){return yn},getDynamicOfflineDataHandlers:function(){return hn},getFullSynchronizationItems:function(){return Qe},getFullSynchronizationItemsFor:function(){return Je},getOfflineDb:function(){return Me},getOfflinePatientDataStore:function(){return jn},getOfflineSynchronizationStore:function(){return We},getOmrsServiceWorker:function(){return w},getSynchronizationItem:function(){return tn},getSynchronizationItems:function(){return Xe},getSynchronizationItemsFor:function(){return Ye},isOfflineUuid:function(){return sn},messageOmrsServiceWorker:function(){return O},offlineUuidPrefix:function(){return li},omrsOfflineCachingStrategyHttpHeaderName:function(){return Ln},omrsOfflineResponseBodyHttpHeaderName:function(){return Nn},omrsOfflineResponseStatusHttpHeaderName:function(){return Rn},putDynamicOfflineData:function(){return mn},putDynamicOfflineDataFor:function(){return gn},queueSynchronizationItem:function(){return Ze},queueSynchronizationItemFor:function(){return qe},registerOfflinePatientHandler:function(){return xn},registerOmrsServiceWorker:function(){return b},removeDynamicOfflineData:function(){return bn},removeDynamicOfflineDataFor:function(){return wn},runSynchronization:function(){return $e},setCurrentOfflineMode:function(){return I},setupDynamicOfflineDataHandler:function(){return dn},setupOfflineSync:function(){return on},syncAllDynamicOfflineData:function(){return Sn},syncDynamicOfflineData:function(){return On},syncOfflinePatientData:function(){return Pn}});try{self["workbox:window:6.5.4"]&&_()}catch(t){}try{self["workbox:core:6.5.4"]&&_()}catch(t){}var An=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Cn=function(t,e){this.type=t,Object.assign(this,e)},Tn={type:"SKIP_WAITING"},In=function(e){var n,r;function o(t,n){var r,o;return void 0===n&&(n={}),(r=e.call(this)||this).nn={},r.tn=0,r.rn=new An,r.en=new An,r.on=new An,r.un=0,r.an=new Set,r.cn=function(){var t=r.fn,e=t.installing;r.tn>0||!i(e.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=e,t.removeEventListener("updatefound",r.cn)):(r.hn=e,r.an.add(e),r.rn.resolve(e)),++r.tn,e.addEventListener("statechange",r.ln)},r.ln=function(t){var e=r.fn,n=t.target,o=n.state,i=n===r.vn,a={sw:n,isExternal:i,originalEvent:t};!i&&r.mn&&(a.isUpdate=!0),r.dispatchEvent(new Cn(o,a)),"installed"===o?r.wn=self.setTimeout((function(){"installed"===o&&e.waiting===n&&r.dispatchEvent(new Cn("waiting",a))}),200):"activating"===o&&(clearTimeout(r.wn),i||r.en.resolve(n))},r.dn=function(t){var e=r.hn,n=e!==navigator.serviceWorker.controller;r.dispatchEvent(new Cn("controlling",{isExternal:n,originalEvent:t,sw:e,isUpdate:r.mn})),n||r.on.resolve(e)},r.gn=(o=function(t){var e=t.data,n=t.ports,o=t.source;return y(r.getSW(),(function(){r.an.has(o)&&r.dispatchEvent(new Cn("message",{data:e,originalEvent:t,ports:n,sw:o}))}))},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(o.apply(this,t))}catch(t){return Promise.reject(t)}}),r.sn=t,r.nn=n,navigator.serviceWorker.addEventListener("message",r.gn),r}r=e,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var a,u=o.prototype;return u.register=function(t){var e=(void 0===t?{}:t).immediate,n=void 0!==e&&e;try{var r=this;return function(t,e){var n=t();return n&&n.then?n.then(e):e()}((function(){if(!n&&"complete"!==document.readyState)return g(new Promise((function(t){return window.addEventListener("load",t)})))}),(function(){return r.mn=Boolean(navigator.serviceWorker.controller),r.yn=r.pn(),y(r.bn(),(function(t){r.fn=t,r.yn&&(r.hn=r.yn,r.en.resolve(r.yn),r.on.resolve(r.yn),r.yn.addEventListener("statechange",r.ln,{once:!0}));var e=r.fn.waiting;return e&&i(e.scriptURL,r.sn.toString())&&(r.hn=e,Promise.resolve().then((function(){r.dispatchEvent(new Cn("waiting",{sw:e,wasWaitingBeforeRegister:!0}))})).then((function(){}))),r.hn&&(r.rn.resolve(r.hn),r.an.add(r.hn)),r.fn.addEventListener("updatefound",r.cn),navigator.serviceWorker.addEventListener("controllerchange",r.dn),r.fn}))}))}catch(t){return Promise.reject(t)}},u.update=function(){try{return this.fn?g(this.fn.update()):void 0}catch(t){return Promise.reject(t)}},u.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},u.messageSW=function(e){try{return y(this.getSW(),(function(n){return t(n,e)}))}catch(t){return Promise.reject(t)}},u.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&t(this.fn.waiting,Tn)},u.pn=function(){var t=navigator.serviceWorker.controller;return t&&i(t.scriptURL,this.sn.toString())?t:void 0},u.bn=function(){try{var t=this;return function(e,n){try{var r=y(navigator.serviceWorker.register(t.sn,t.nn),(function(e){return t.un=performance.now(),e}))}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}((function(){return y(navigator.serviceWorker.register(t.sn,t.nn),(function(e){return t.un=performance.now(),e}))}),(function(t){throw t}))}catch(t){return Promise.reject(t)}},(a=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(o.prototype,a),o}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(t,e){this.Sn(t).add(e)},e.removeEventListener=function(t,e){this.Sn(t).delete(e)},e.dispatchEvent=function(t){t.target=this;for(var e,n=r(this.Sn(t.type));!(e=n()).done;)(0,e.value)(t)},e.Sn=function(t){return this.Pn.has(t)||this.Pn.set(t,new Set),this.Pn.get(t)},t}()),Dn=void 0,Nn="x-omrs-offline-response-body",Rn="x-omrs-offline-response-status",Ln="x-omrs-offline-caching-strategy";function Mn(){return Mn=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){S(i,r,o,a,u,"next",t)}function u(t){S(i,r,o,a,u,"throw",t)}a(void 0)}))}}((function(t){var e,n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return[4,w()];case 1:return(e=r.sent())?[4,e.messageSW(t)]:[3,3];case 2:return n=r.sent(),[3,4];case 3:n={success:!1,result:void 0,error:"No service worker has been registered. This is typically the case when the application has been built without offline-related features."},r.label=4;case 4:return[2,n]}}))})),Mn.apply(this,arguments)}function Un(){return Un=j((function(){var t;return x(this,(function(e){t=window.sessionStorage;try{t.setItem("someKeyHere","test"),t.removeItem("someKeyHere")}catch(e){if(e.code===DOMException.QUOTA_EXCEEDED_ERR&&0===t.length)return[2,!0]}return[2,!1]}))})),Un.apply(this,arguments)}function Bn(){return(Bn=j((function(){return x(this,(function(t){return[2,!window.indexedDB]}))}))).apply(this,arguments)}function Fn(){return Fn=j((function(){return x(this,(function(t){return[2,new Promise((function(t){var e=indexedDB.open("test");e.onerror=function(){return t(!0)},e.onsuccess=function(){return t(!1)}}))]}))})),Fn.apply(this,arguments)}function Hn(){return(Hn=j((function(){var t,e;return x(this,(function(n){switch(n.label){case 0:return[4,A()];case 1:return(e=n.sent())?[3,3]:[4,k()];case 2:e=n.sent(),n.label=3;case 3:return(t=e)?[3,5]:[4,P()];case 4:t=n.sent(),n.label=5;case 5:return[2,t]}}))}))).apply(this,arguments)}var Vn="openmrs3:offline-mode",Kn="unavailable";function Gn(){return(Gn=j((function(){return x(this,(function(t){switch(t.label){case 0:return[4,C()];case 1:return t.sent()||(Kn="active"===localStorage.getItem(Vn)?"on":"off"),navigator.onLine,[2]}}))}))).apply(this,arguments)}var Wn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,$n=Object.keys,zn=Array.isArray;"undefined"==typeof Promise||Wn.Promise||(Wn.Promise=Promise);var qn=Object.getPrototypeOf,Zn={}.hasOwnProperty,Yn=Object.defineProperty,Jn=Object.getOwnPropertyDescriptor;function Xn(t,e){var n;return Jn(t,e)||(n=qn(t))&&Xn(n,e)}var Qn=[].slice;function tr(t,e){if(R(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],r=0,o=e.length;r<o;++r){var i=tr(t,e[r]);n.push(i)}return n}var a=e.indexOf(".");if(-1!==a){var u=t[e.substr(0,a)];return void 0===u?void 0:tr(u,e.substr(a+1))}}function er(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){H("string"!=typeof n&&"length"in n);for(var r=0,o=e.length;r<o;++r)er(t,e[r],n[r])}else{var i=e.indexOf(".");if(-1!==i){var a=e.substr(0,i),u=e.substr(i+1);if(""===u)void 0===n?zn(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var s=t[a];s&&R(t,a)||(s=t[a]={}),er(s,u,n)}}else void 0===n?zn(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}var nr=[].concat,rr="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(W([8,16,32,64].map((function(t){return["Int","Uint","Float"].map((function(e){return e+t+"Array"}))})))).filter((function(t){return Wn[t]})),or=rr.map((function(t){return Wn[t]}));K(rr,(function(t){return[t,!0]}));var ir=null;function ar(t){if(!t||"object"!=typeof t)return t;var e=ir&&ir.get(t);if(e)return e;if(zn(t)){e=[],ir&&ir.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(ar(t[n]))}else if(or.indexOf(t.constructor)>=0)e=t;else{var o=qn(t);for(var i in e=o===Object.prototype?{}:Object.create(o),ir&&ir.set(t,e),t)R(t,i)&&(e[i]=ar(t[i]))}return e}var ur={}.toString,sr="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",cr="symbol"==(void 0===sr?"undefined":h(sr))?function(t){var e;return null!=t&&(e=t[sr])&&e.apply(t)}:function(){return null},lr={},fr="undefined"!=typeof Symbol?function(t){return"AsyncFunction"===t[Symbol.toStringTag]}:function(){return!1},pr="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),hr=function(){return!0},dr=!new Error("").stack;function vr(){if(dr)try{throw vr.arguments,new Error}catch(t){return t}return new Error}var yr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(yr),gr={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};U(J).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Y(this._e,2))}},toString:function(){return this.name+": "+this.message}}),U(Q).from(J),U(tt).from(J);var br=mr.reduce((function(t,e){return t[e]=e+"Error",t}),{}),wr=J,Sr=mr.reduce((function(t,e){var n=function(t,n){this._e=vr(),this.name=r,t?"string"==typeof t?(this.message="".concat(t).concat(n?"\n "+n:""),this.inner=n||null):"object"==typeof t&&(this.message="".concat(t.name," ").concat(t.message),this.inner=t):(this.message=gr[e]||r,this.inner=null)},r=e+"Error";return U(n).from(wr),t[e]=n,t}),{});Sr.Syntax=SyntaxError,Sr.Type=TypeError,Sr.Range=RangeError;var Or=yr.reduce((function(t,e){return t[e+"Error"]=Sr[e],t}),{}),Er=mr.reduce((function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=Sr[e]),t}),{});Er.ModifyError=Q,Er.DexieError=J,Er.BulkError=tt;var _r={},jr=f("undefined"==typeof Promise?[]:function(){var t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,qn(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,qn(e),t]}(),3),xr=jr[0],Pr=jr[1],kr=jr[2],Ar=Pr&&Pr.then,Cr=xr&&xr.constructor,Tr=!!kr,Ir=!1,Dr=kr?function(){kr.then(mt)}:Wn.setImmediate?setImmediate.bind(null,mt):Wn.MutationObserver?function(){var t=document.createElement("div");new MutationObserver((function(){mt(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(mt,0)},Nr=function(t,e){Kr.push([t,e]),Lr&&(Dr(),Lr=!1)},Rr=!0,Lr=!0,Mr=[],Ur=[],Br=null,Fr=nt,Hr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Rt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(t){try{Rt(t[0],t[1])}catch(t){}}))}},Vr=Hr,Kr=[],Gr=0,Wr=[],$r={get:function(){var t=Vr,e=Qr;function n(n,r){var o=this,i=!t.global&&(t!==Vr||e!==Qr),a=i&&!jt(),u=new lt((function(e,u){dt(o,new ft(Dt(n,t,i,a),Dt(r,t,i,a),e,u,t))}));return pr&&yt(u,this),u}return n.prototype=_r,n},set:function(t){M(this,"then",t&&t.prototype===_r?$r:{get:function(){return t},set:$r.set})}};function zr(t,e){try{e((function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&gt();e&&"function"==typeof e.then?zr(t,(function(t,n){s(e,lt)?e._then(t,n):e.then(t,n)})):(t._state=!0,t._value=e,ht(t)),n&&bt()}}),pt.bind(null,t))}catch(e){pt(t,e)}}function qr(t,e,n){if(e.length===n)return e;var r="";if(!1===t._state){var o,i,a=t._value;null!=a?(o=a.name||"Error",i=a.message||a,r=Y(a,0)):(o=a,i=""),e.push(o+(i?": "+i:"")+r)}return pr&&((r=Y(t._stackHolder,2))&&-1===e.indexOf(r)&&e.push(r),t._prev&&qr(t._prev,e,n)),e}L(lt.prototype,{then:$r,_then:function(t,e){dt(this,new ft(null,null,t,e,Vr))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,(function(t){return s(t,e)?n(t):St(t)})):this.then(null,(function(t){return t&&t.name===e?n(t):St(t)}))},finally:function(t){return this.then((function(e){return t(),e}),(function(e){return t(),St(e)}))},stack:{get:function(){if(this._stack)return this._stack;try{Ir=!0;var t=qr(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{Ir=!1}}},timeout:function(t,e){var n=this;return t<1/0?new lt((function(r,o){var i=setTimeout((function(){return o(new Sr.Timeout(e))}),t);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&M(lt.prototype,Symbol.toStringTag,"Dexie.Promise"),Hr.env=Ct(),L(lt,{all:function(){var t=q.apply(null,arguments).map(xt);return new lt((function(e,n){0===t.length&&e([]);var r=t.length;t.forEach((function(o,i){return lt.resolve(o).then((function(n){t[i]=n,--r||e(t)}),n)}))}))},resolve:function(t){if(s(t,lt))return t;if(t&&"function"==typeof t.then)return new lt((function(e,n){t.then(e,n)}));var e=new lt(_r,!0,t);return yt(e,Br),e},reject:St,race:function(){var t=q.apply(null,arguments).map(xt);return new lt((function(e,n){t.map((function(t){return lt.resolve(t).then(e,n)}))}))},PSD:{get:function(){return Vr},set:function(t){return Vr=t}},totalEchoes:{get:function(){return Qr}},newPSD:Et,usePSD:Tt,scheduler:{get:function(){return Nr},set:function(t){Nr=t}},rejectionMapper:{get:function(){return Fr},set:function(t){Fr=t}},follow:function(t,e){return new lt((function(n,r){return Et((function(e,n){var r=Vr;r.unhandleds=[],r.onunhandled=n,r.finalize=ot((function(){var t=this;!function(t){Wr.push((function e(){t(),Wr.splice(Wr.indexOf(e),1)})),++Gr,Nr((function(){0==--Gr&&wt()}),[])}((function(){0===t.unhandleds.length?e():n(t.unhandleds[0])}))}),r.finalize),t()}),e,n,r)}))}}),Cr&&(Cr.allSettled&&M(lt,"allSettled",(function(){var t=q.apply(null,arguments).map(xt);return new lt((function(e){0===t.length&&e([]);var n=t.length,r=new Array(n);t.forEach((function(t,o){return lt.resolve(t).then((function(t){return r[o]={status:"fulfilled",value:t}}),(function(t){return r[o]={status:"rejected",reason:t}})).then((function(){return--n||e(r)}))}))}))})),Cr.any&&"undefined"!=typeof AggregateError&&M(lt,"any",(function(){var t=q.apply(null,arguments).map(xt);return new lt((function(e,n){0===t.length&&n(new AggregateError([]));var r=t.length,o=new Array(r);t.forEach((function(t,i){return lt.resolve(t).then((function(t){return e(t)}),(function(t){o[i]=t,--r||n(new AggregateError(o))}))}))}))})));var Zr={awaits:0,echoes:0,id:0},Yr=0,Jr=[],Xr=0,Qr=0,to=0;-1===(""+Ar).indexOf("[native code]")&&(_t=jt=et);var eo=lt.reject;function no(t,e,n,r){if(t.idbdb&&(t._state.openComplete||Vr.letThrough||t._vip)){var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===br.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return no(t,e,n,r)}))):eo(o)}return o._promise(e,(function(t,e){return Et((function(){return Vr.trans=o,r(t,e,o)}))})).then((function(t){return o._completion.then((function(){return t}))}))}if(t._state.openComplete)return eo(new Sr.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return eo(new Sr.DatabaseClosed);t.open().catch(et)}return t._state.dbReadyPromise.then((function(){return no(t,e,n,r)}))}var ro=String.fromCharCode(65535),oo="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",io=[],ao="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),uo=ao,so=ao,co=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},lo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1},fo=function(){function t(){o(this,t)}return a(t,[{key:"_trans",value:function(t,e,n){var r=this._tx||Vr.trans,o=this.name;function i(t,n,r){if(!r.schema[o])throw new Sr.NotFound("Table "+o+" not part of transaction");return e(r.idbtrans,r)}var a=gt();try{return r&&r.db===this.db?r===Vr.trans?r._promise(t,i,n):Et((function(){return r._promise(t,i,n)}),{trans:r,transless:Vr.transless||Vr}):no(this.db,t,[this.name],i)}finally{a&&bt()}}},{key:"get",value:function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(function(e){return n.core.get({trans:e,key:t}).then((function(t){return n.hook.reading.fire(t)}))})).then(e)}},{key:"where",value:function(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(zn(t))return new this.db.WhereClause(this,"[".concat(t.join("+"),"]"));var e=$n(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(t){return t.compound&&e.every((function(e){return t.keyPath.indexOf(e)>=0}))&&t.keyPath.every((function(t){return e.indexOf(t)>=0}))}))[0];if(n&&this.db._maxKey!==ro)return this.where(n.name).equals(n.keyPath.map((function(e){return t[e]})));!n&&pr&&console.warn("The query ".concat(JSON.stringify(t)," on ").concat(this.name," would benefit of a compound index [").concat(e.join("+"),"]"));var r=this.schema.idxByName,o=this.db._deps.indexedDB;function i(t,e){try{return 0===o.cmp(t,e)}catch(t){return!1}}var a=f(e.reduce((function(e,n){var o=f(e,2),a=o[0],u=o[1],s=r[n],c=t[n];return[a||s,a||!s?Lt(u,s&&s.multi?function(t){var e=tr(t,n);return zn(e)&&e.some((function(t){return i(c,t)}))}:function(t){return i(c,tr(t,n))}):u]}),[null,null]),2),u=a[0],s=a[1];return u?this.where(u.name).equals(t[u.keyPath]).filter(s):n?this.filter(s):this.where(e).equals("")}},{key:"filter",value:function(t){return this.toCollection().and(t)}},{key:"count",value:function(t){return this.toCollection().count(t)}},{key:"offset",value:function(t){return this.toCollection().offset(t)}},{key:"limit",value:function(t){return this.toCollection().limit(t)}},{key:"each",value:function(t){return this.toCollection().each(t)}},{key:"toArray",value:function(t){return this.toCollection().toArray(t)}},{key:"toCollection",value:function(){return new this.db.Collection(new this.db.WhereClause(this))}},{key:"orderBy",value:function(t){return new this.db.Collection(new this.db.WhereClause(this,zn(t)?"[".concat(t.join("+"),"]"):t))}},{key:"reverse",value:function(){return this.toCollection().reverse()}},{key:"mapToClass",value:function(t){this.schema.mappedClass=t;var e=function(e){if(!e)return e;var n=Object.create(t.prototype);for(var r in e)if(R(e,r))try{n[r]=e[r]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t}},{key:"defineClass",value:function(){return this.mapToClass((function(t){N(this,t)}))}},{key:"add",value:function(t,e){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=t;return i&&o&&(a=Mt(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[a]})})).then((function(t){return t.numFailures?lt.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{er(t,i,e)}catch(t){}return e}))}},{key:"update",value:function(t,e){if("object"!=typeof t||zn(t))return this.where(":id").equals(t).modify(e);var n=tr(t,this.schema.primKey.keyPath);if(void 0===n)return eo(new Sr.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?$n(e).forEach((function(n){er(t,n,e[n])})):e(t,{value:t,primKey:n})}catch(t){}return this.where(":id").equals(n).modify(e)}},{key:"put",value:function(t,e){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=t;return i&&o&&(a=Mt(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"put",values:[a],keys:null!=e?[e]:null})})).then((function(t){return t.numFailures?lt.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{er(t,i,e)}catch(t){}return e}))}},{key:"delete",value:function(t){var e=this;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:[t]})})).then((function(t){return t.numFailures?lt.reject(t.failures[0]):void 0}))}},{key:"clear",value:function(){var t=this;return this._trans("readwrite",(function(e){return t.core.mutate({trans:e,type:"deleteRange",range:lo})})).then((function(t){return t.numFailures?lt.reject(t.failures[0]):void 0}))}},{key:"bulkGet",value:function(t){var e=this;return this._trans("readonly",(function(n){return e.core.getMany({keys:t,trans:n}).then((function(t){return t.map((function(t){return e.hook.reading.fire(t)}))}))}))}},{key:"bulkAdd",value:function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,i=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new Sr.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Sr.InvalidArgument("Arguments objects and keys must have the same length");var s=t.length,c=u&&a?t.map(Mt(u)):t;return r.core.mutate({trans:e,type:"add",keys:o,values:c,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,a=t.failures;if(0===e)return i?n:o;throw new tt("".concat(r.name,".bulkAdd(): ").concat(e," of ").concat(s," operations failed"),a)}))}))}},{key:"bulkPut",value:function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,i=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new Sr.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Sr.InvalidArgument("Arguments objects and keys must have the same length");var s=t.length,c=u&&a?t.map(Mt(u)):t;return r.core.mutate({trans:e,type:"put",keys:o,values:c,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,a=t.failures;if(0===e)return i?n:o;throw new tt("".concat(r.name,".bulkPut(): ").concat(e," of ").concat(s," operations failed"),a)}))}))}},{key:"bulkDelete",value:function(t){var e=this,n=t.length;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:t})})).then((function(t){var r=t.numFailures,o=t.lastResult,i=t.failures;if(0===r)return o;throw new tt("".concat(e.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),i)}))}}]),t}();function po(t,e){try{var n=zt(t),r=zt(e);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){for(var n=t.length,r=e.length,o=n<r?n:r,i=0;i<o;++i)if(t[i]!==e[i])return t[i]<e[i]?-1:1;return n===r?0:n<r?-1:1}(qt(t),qt(e));case"Array":return function(t,e){for(var n=t.length,r=e.length,o=n<r?n:r,i=0;i<o;++i){var a=po(t[i],e[i]);if(0!==a)return a}return n===r?0:n<r?-1:1}(t,e)}}catch(t){}return NaN}var ho=function(){function t(){o(this,t)}return a(t,[{key:"_read",value:function(t,e){var n=this._ctx;return n.error?n.table._trans(null,eo.bind(null,n.error)):n.table._trans("readonly",t).then(e)}},{key:"_write",value:function(t){var e=this._ctx;return e.error?e.table._trans(null,eo.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}},{key:"_addAlgorithm",value:function(t){var e=this._ctx;e.algorithm=Lt(e.algorithm,t)}},{key:"_iterate",value:function(t,e){return Wt(this._ctx,t,e,this._ctx.table.core)}},{key:"clone",value:function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&N(n,t),e._ctx=n,e}},{key:"raw",value:function(){return this._ctx.valueMapper=null,this}},{key:"each",value:function(t){var e=this._ctx;return this._read((function(n){return Wt(e,t,n,e.table.core)}))}},{key:"count",value:function(t){var e=this;return this._read((function(t){var n=e._ctx,r=n.table.core;if(Ft(n,!0))return r.count({trans:t,query:{index:Kt(n,r.schema),range:n.range}}).then((function(t){return Math.min(t,n.limit)}));var o=0;return Wt(n,(function(){return++o,!1}),t,r).then((function(){return o}))})).then(t)}},{key:"sortBy",value:function(t,e){var n=t.split(".").reverse(),r=n[0],o=n.length-1;function i(t,e){return e?i(t[n[e]],e-1):t[r]}var a="next"===this._ctx.dir?1:-1;function u(t,e){var n=i(t,o),r=i(e,o);return n<r?-a:n>r?a:0}return this.toArray((function(t){return t.sort(u)})).then(e)}},{key:"toArray",value:function(t){var e=this;return this._read((function(t){var n=e._ctx;if("next"===n.dir&&Ft(n,!0)&&n.limit>0){var r=n.valueMapper,o=Kt(n,n.table.core.schema);return n.table.core.query({trans:t,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(t){var e=t.result;return r?e.map(r):e}))}var i=[];return Wt(n,(function(t){return i.push(t)}),t,n.table.core).then((function(){return i}))}),t)}},{key:"offset",value:function(t){var e=this._ctx;return t<=0||(e.offset+=t,Ft(e)?Vt(e,(function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n((function(){t.advance(e),e=0})),!1))}})):Vt(e,(function(){var e=t;return function(){return--e<0}}))),this}},{key:"limit",value:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Vt(this._ctx,(function(){var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}}),!0),this}},{key:"until",value:function(t,e){return Ht(this._ctx,(function(n,r,o){return!t(n.value)||(r(o),e)})),this}},{key:"first",value:function(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)}},{key:"last",value:function(t){return this.reverse().first(t)}},{key:"filter",value:function(t){var e,n;return Ht(this._ctx,(function(e){return t(e.value)})),e=this._ctx,n=t,e.isMatch=Lt(e.isMatch,n),this}},{key:"and",value:function(t){return this.filter(t)}},{key:"or",value:function(t){return new this.db.WhereClause(this._ctx.table,t,this)}},{key:"reverse",value:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}},{key:"desc",value:function(){return this.reverse()}},{key:"eachKey",value:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))}},{key:"eachUniqueKey",value:function(t){return this._ctx.unique="unique",this.eachKey(t)}},{key:"eachPrimaryKey",value:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))}},{key:"keys",value:function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)}},{key:"primaryKeys",value:function(t){var e=this._ctx;if("next"===e.dir&&Ft(e,!0)&&e.limit>0)return this._read((function(t){var n=Kt(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((function(t){return t.result})).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)}},{key:"uniqueKeys",value:function(t){return this._ctx.unique="unique",this.keys(t)}},{key:"firstKey",value:function(t){return this.limit(1).keys((function(t){return t[0]})).then(t)}},{key:"lastKey",value:function(t){return this.reverse().firstKey(t)}},{key:"distinct",value:function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return Ht(this._ctx,(function(t){var e=t.primaryKey.toString(),r=R(n,e);return n[e]=!0,!r})),this}},{key:"modify",value:function(t){var e=this,n=this._ctx;return this._write((function(r){var o;if("function"==typeof t)o=t;else{var i=$n(t),a=i.length;o=function(e){for(var n=!1,r=0;r<a;++r){var o=i[r],u=t[o];tr(e,o)!==u&&(er(e,o,u),n=!0)}return n}}var u=n.table.core,s=u.schema.primaryKey,c=s.outbound,l=s.extractKey,f=e.db._options.modifyChunkSize||200,p=[],h=0,d=[],v=function(t,e){var n=e.failures,r=e.numFailures;h+=t-r;var o=!0,i=!1,a=void 0;try{for(var u,s=$n(n)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value;p.push(n[c])}}catch(t){i=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}};return e.clone().primaryKeys().then((function(e){var i=function(a){var s=Math.min(f,e.length-a);return u.getMany({trans:r,keys:e.slice(a,a+s),cache:"immutable"}).then((function(p){for(var h=[],d=[],y=c?[]:null,m=[],g=0;g<s;++g){var b=p[g],w={value:$(b),primKey:e[a+g]};!1!==o.call(w,w.value,w)&&(null==w.value?m.push(e[a+g]):c||0===po(l(b),l(w.value))?(d.push(w.value),c&&y.push(e[a+g])):(m.push(e[a+g]),h.push(w.value)))}var S=Ft(n)&&n.limit===1/0&&("function"!=typeof t||t===vo)&&{index:n.index,range:n.range};return Promise.resolve(h.length>0&&u.mutate({trans:r,type:"add",values:h}).then((function(t){for(var e in t.failures)m.splice(parseInt(e),1);v(h.length,t)}))).then((function(){return(d.length>0||S&&"object"==typeof t)&&u.mutate({trans:r,type:"put",keys:y,values:d,criteria:S,changeSpec:"function"!=typeof t&&t}).then((function(t){return v(d.length,t)}))})).then((function(){return(m.length>0||S&&t===vo)&&u.mutate({trans:r,type:"delete",keys:m,criteria:S}).then((function(t){return v(m.length,t)}))})).then((function(){return e.length>a+s&&i(a+f)}))}))};return i(0).then((function(){if(p.length>0)throw new Q("Error modifying one or more objects",p,h,d);return e.length}))}))}))}},{key:"delete",value:function(){var t=this._ctx,e=t.range;return Ft(t)&&(t.isPrimKey&&!so||3===e.type)?this._write((function(n){var r=t.table.core.schema.primaryKey,o=e;return t.table.core.count({trans:n,query:{index:r,range:o}}).then((function(e){return t.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(t){var n=t.failures,r=(t.lastResult,t.results,t.numFailures);if(r)throw new Q("Could not delete some values",Object.keys(n).map((function(t){return n[t]})),e-r);return e-r}))}))})):this.modify(vo)}}]),t}(),vo=function(t,e){return e.value=null},yo=function(){function t(){o(this,t)}return a(t,[{key:"Collection",get:function(){return this._ctx.table.db.Collection}},{key:"between",value:function(t,e,n,r){n=!1!==n,r=!0===r;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(n||r)&&(!n||!r)?Xt(this):new this.Collection(this,(function(){return ee(t,e,!n,!r)}))}catch(t){return Jt(this,oo)}}},{key:"equals",value:function(t){return null==t?Jt(this,oo):new this.Collection(this,(function(){return ne(t)}))}},{key:"above",value:function(t){return null==t?Jt(this,oo):new this.Collection(this,(function(){return ee(t,void 0,!0)}))}},{key:"aboveOrEqual",value:function(t){return null==t?Jt(this,oo):new this.Collection(this,(function(){return ee(t,void 0,!1)}))}},{key:"below",value:function(t){return null==t?Jt(this,oo):new this.Collection(this,(function(){return ee(void 0,t,!1,!0)}))}},{key:"belowOrEqual",value:function(t){return null==t?Jt(this,oo):new this.Collection(this,(function(){return ee(void 0,t)}))}},{key:"startsWith",value:function(t){return"string"!=typeof t?Jt(this,"String expected."):this.between(t,t+ro,!0,!0)}},{key:"startsWithIgnoreCase",value:function(t){return""===t?this.startsWith(t):te(this,(function(t,e){return 0===t.indexOf(e[0])}),[t],ro)}},{key:"equalsIgnoreCase",value:function(t){return te(this,(function(t,e){return t===e[0]}),[t],"")}},{key:"anyOfIgnoreCase",value:function(){var t=q.apply(lr,arguments);return 0===t.length?Xt(this):te(this,(function(t,e){return-1!==e.indexOf(t)}),t,"")}},{key:"startsWithAnyOfIgnoreCase",value:function(){var t=q.apply(lr,arguments);return 0===t.length?Xt(this):te(this,(function(t,e){return e.some((function(e){return 0===t.indexOf(e)}))}),t,ro)}},{key:"anyOf",value:function(){var t=this,e=q.apply(lr,arguments),n=this._cmp;try{e.sort(n)}catch(t){return Jt(this,oo)}if(0===e.length)return Xt(this);var r=new this.Collection(this,(function(){return ee(e[0],e[e.length-1])}));r._ondirectionchange=function(r){n="next"===r?t._ascending:t._descending,e.sort(n)};var o=0;return r._addAlgorithm((function(t,r,i){for(var a=t.key;n(a,e[o])>0;)if(++o===e.length)return r(i),!1;return 0===n(a,e[o])||(r((function(){t.continue(e[o])})),!1)})),r}},{key:"notEqual",value:function(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}},{key:"noneOf",value:function(){var t=q.apply(lr,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return Jt(this,oo)}var e=t.reduce((function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[-1/0,e]]}),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}},{key:"inAnyRange",value:function(t,e){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,u=this._max;if(0===t.length)return Xt(this);if(!t.every((function(t){return void 0!==t[0]&&void 0!==t[1]&&o(t[0],t[1])<=0})))return Jt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Sr.InvalidArgument);var s,c=!e||!1!==e.includeLowers,l=e&&!0===e.includeUppers,f=o;function p(t,e){return f(t[0],e[0])}try{s=t.reduce((function(t,e){for(var n=0,o=t.length;n<o;++n){var i=t[n];if(r(e[0],i[1])<0&&r(e[1],i[0])>0){i[0]=a(i[0],e[0]),i[1]=u(i[1],e[1]);break}}return n===o&&t.push(e),t}),[]),s.sort(p)}catch(t){return Jt(this,oo)}var h=0,d=l?function(t){return o(t,s[h][1])>0}:function(t){return o(t,s[h][1])>=0},v=c?function(t){return i(t,s[h][0])>0}:function(t){return i(t,s[h][0])>=0},y=d,m=new this.Collection(this,(function(){return ee(s[0][0],s[s.length-1][1],!c,!l)}));return m._ondirectionchange=function(t){"next"===t?(y=d,f=o):(y=v,f=i),s.sort(p)},m._addAlgorithm((function(t,e,r){for(var i=t.key;y(i);)if(++h===s.length)return e(r),!1;return!!function(t){return!d(t)&&!v(t)}(i)||(0===n._cmp(i,s[h][1])||0===n._cmp(i,s[h][0])||e((function(){f===o?t.continue(s[h][0]):t.continue(s[h][1])})),!1)})),m}},{key:"startsWithAnyOf",value:function(){var t=q.apply(lr,arguments);return t.every((function(t){return"string"==typeof t}))?0===t.length?Xt(this):this.inAnyRange(t.map((function(t){return[t,t+ro]}))):Jt(this,"startsWithAnyOf() only works with strings")}}]),t}(),mo=Ut(null,"storagemutated"),go=function(){function t(){o(this,t)}return a(t,[{key:"_lock",value:function(){return H(!Vr.global),++this._reculock,1!==this._reculock||Vr.global||(Vr.lockOwnerFor=this),this}},{key:"_unlock",value:function(){if(H(!Vr.global),0==--this._reculock)for(Vr.global||(Vr.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Tt(t[1],t[0])}catch(t){}}return this}},{key:"_locked",value:function(){return this._reculock&&Vr.lockOwnerFor!==this}},{key:"create",value:function(t){var e=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(H(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Sr.DatabaseClosed(r);case"MissingAPIError":throw new Sr.MissingAPI(r.message,r);default:throw new Sr.OpenFailed(r)}if(!this.active)throw new Sr.TransactionInactive;return H(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ot((function(n){oe(n),e._reject(t.error)})),t.onabort=Ot((function(n){oe(n),e.active&&e._reject(new Sr.Abort(t.error)),e.active=!1,e.on("abort").fire(n)})),t.oncomplete=Ot((function(){e.active=!1,e._resolve(),"mutatedParts"in t&&mo.storagemutated.fire(t.mutatedParts)})),this}},{key:"_promise",value:function(t,e,n){var r=this;if("readwrite"===t&&"readwrite"!==this.mode)return eo(new Sr.ReadOnly("Transaction is readonly"));if(!this.active)return eo(new Sr.TransactionInactive);if(this._locked())return new lt((function(o,i){r._blockedFuncs.push([function(){r._promise(t,e,n).then(o,i)},Vr])}));if(n)return Et((function(){var t=new lt((function(t,n){r._lock();var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return t.finally((function(){return r._unlock()})),t._lib=!0,t}));var o=new lt((function(t,n){var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return o._lib=!0,o}},{key:"_root",value:function(){return this.parent?this.parent._root():this}},{key:"waitFor",value:function(t){var e=this._root(),n=lt.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((function(){return n}));else{e._waitingFor=n,e._waitingQueue=[];var r=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(r.get(-1/0).onsuccess=t)}()}var o=e._waitingFor;return new lt((function(t,r){n.then((function(n){return e._waitingQueue.push(Ot(t.bind(null,n)))}),(function(t){return e._waitingQueue.push(Ot(r.bind(null,t)))})).finally((function(){e._waitingFor===o&&(e._waitingFor=null)}))}))}},{key:"abort",value:function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Sr.Abort))}},{key:"table",value:function(t){var e=this._memoizedTables||(this._memoizedTables={});if(R(e,t))return e[t];var n=this.schema[t];if(!n)throw new Sr.NotFound("Table "+t+" not part of transaction");var r=new this.db.Table(t,n,this);return r.core=this.db.core.table(t),e[t]=r,r}}]),t}(),bo=function(t){try{return t.only([[]]),bo=function(){return[[]]},[[]]}catch(t){return bo=function(){return ro},ro}},wo=0,So=function(){function t(){o(this,t)}return a(t,[{key:"_parseStoresSpec",value:function(t,e){$n(t).forEach((function(n){if(null!==t[n]){var r=t[n].split(",").map((function(t,e){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return ie(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),zn(r),0===e)})),o=r.shift();if(o.multi)throw new Sr.Schema("Primary key cannot be multi-valued");r.forEach((function(t){if(t.auto)throw new Sr.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new Sr.Schema("Index must have a name and cannot be an empty string")})),e[n]=ue(n,o,r)}}))}},{key:"stores",value:function(t){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?N(this._cfg.storesSource,t):t;var n=e._versions,r={},o={};return n.forEach((function(t){N(r,t._cfg.storesSource),o=t._cfg.dbschema={},t._parseStoresSpec(r,o)})),e._dbSchema=o,he(e,[e._allTables,e,e.Transaction.prototype]),pe(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],$n(o),o),e._storeNames=$n(o),this}},{key:"upgrade",value:function(t){return this._cfg.contentUpgrade=ct(this._cfg.contentUpgrade||et,t),this}}]),t}();function Oo(t,e,n,r,o){return lt.resolve().then((function(){var i=Vr.transless||Vr,a=t._createTransaction(e,n,t._dbSchema,r),u={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(r){return r.name===br.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return Oo(t,e,n,null,o)}))):eo(r)}var s,c=fr(o);c&&_t();var l=lt.follow((function(){if(s=o.call(a,a))if(c){var t=jt.bind(null,null);s.then(t,t)}else"function"==typeof s.next&&"function"==typeof s.throw&&(s=_e(s))}),u);return(s&&"function"==typeof s.then?lt.resolve(s).then((function(t){return a.active?t:eo(new Sr.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return s}))).then((function(t){return r&&a._resolve(),a._completion.then((function(){return t}))})).catch((function(t){return a._reject(t),eo(t)}))}))}var Eo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return l(c({},t),{table:function(e){var n=t.table(e),r=n.schema,o={},i=[];function a(t,e,n){var r=le(t),u=o[r]=o[r]||[],s=null==t?0:"string"==typeof t?1:t.length,f=e>0,p=l(c({},n),{isVirtual:f,keyTail:e,keyLength:s,extractKey:se(t),unique:!f&&n.unique});return u.push(p),p.isPrimaryKey||i.push(p),s>1&&a(2===s?t[0]:t.slice(0,s-1),e+1,n),u.sort((function(t,e){return t.keyTail-e.keyTail})),p}var u=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[u];var s=!0,f=!1,p=void 0;try{for(var h,d=r.indexes[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var v=h.value;a(v.keyPath,0,v)}}catch(t){f=!0,p=t}finally{try{s||null==d.return||d.return()}finally{if(f)throw p}}function y(e){var n,r,o=e.query.index;return o.isVirtual?l(c({},e),{query:{index:o,range:(n=e.query.range,r=o.keyTail,{type:1===n.type?2:n.type,lower:xe(n.lower,n.lowerOpen?t.MAX_KEY:t.MIN_KEY,r),lowerOpen:!0,upper:xe(n.upper,n.upperOpen?t.MIN_KEY:t.MAX_KEY,r),upperOpen:!0})}}):e}var m=l(c({},n),{schema:l(c({},r),{primaryKey:u,indexes:i,getIndexByKeyPath:function(t){var e=o[le(t)];return e&&e[0]}}),count:function(t){return n.count(y(t))},query:function(t){return n.query(y(t))},openCursor:function(e){var r=e.query.index,o=r.keyTail,i=r.isVirtual,a=r.keyLength;return i?n.openCursor(y(e)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(xe(r,e.reverse?t.MAX_KEY:t.MIN_KEY,o)):e.unique?n.continue(n.key.slice(0,a).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(e,r){n.continuePrimaryKey(xe(e,t.MAX_KEY,o),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var t=n.key;return 1===a?t[0]:t.slice(0,a)}},value:{get:function(){return n.value}}});return r}(n)})):n.openCursor(e)}});return m}})}};function _o(t,e,n,r){return n=n||{},r=r||"",$n(t).forEach((function(o){if(R(e,o)){var i=t[o],a=e[o];if("object"==typeof i&&"object"==typeof a&&i&&a){var u=z(i);u!==z(a)?n[r+o]=e[o]:"Object"===u?_o(i,a,n,r+o+"."):i!==a&&(n[r+o]=e[o])}else i!==a&&(n[r+o]=e[o])}else n[r+o]=void 0})),$n(e).forEach((function(o){R(t,o)||(n[r+o]=e[o])})),n}var jo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return l(c({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,o=l(c({},n),{mutate:function(t){var o=Vr.trans,i=o.table(e).hook,a=i.deleting,u=i.creating,s=i.updating;switch(t.type){case"add":if(u.fire===et)break;return o._promise("readwrite",(function(){return f(t)}),!0);case"put":if(u.fire===et&&s.fire===et)break;return o._promise("readwrite",(function(){return f(t)}),!0);case"delete":if(a.fire===et)break;return o._promise("readwrite",(function(){return f(t)}),!0);case"deleteRange":if(a.fire===et)break;return o._promise("readwrite",(function(){return function(t){return h(t.trans,t.range,1e4)}(t)}),!0)}return n.mutate(t);function f(t){var e=Vr.trans,o=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(r,t);if(!o)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?l(c({},t),{keys:o}):c({},t)).type&&(t.values=p(t.values)),t.keys&&(t.keys=p(t.keys)),function(t,e,n){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}(n,t,o).then((function(i){var c=o.map((function(n,o){var c=i[o],l={onerror:null,onsuccess:null};if("delete"===t.type)a.fire.call(l,n,c,e);else if("add"===t.type||void 0===c){var f=u.fire.call(l,n,t.values[o],e);null==n&&null!=f&&(n=f,t.keys[o]=n,r.outbound||er(t.values[o],r.keyPath,n))}else{var p=_o(c,t.values[o]),h=s.fire.call(l,p,n,c,e);if(h){var d=t.values[o];Object.keys(h).forEach((function(t){R(d,t)?d[t]=h[t]:er(d,t,h[t])}))}}return l}));return n.mutate(t).then((function(e){for(var n=e.failures,r=e.results,a=e.numFailures,u=e.lastResult,s=0;s<o.length;++s){var l=r?r[s]:o[s],f=c[s];null==l?f.onerror&&f.onerror(n[s]):f.onsuccess&&f.onsuccess("put"===t.type&&i[s]?t.values[s]:l)}return{failures:n,results:r,numFailures:a,lastResult:u}})).catch((function(t){return c.forEach((function(e){return e.onerror&&e.onerror(t)})),Promise.reject(t)}))}))}function h(t,e,o){return n.query({trans:t,values:!1,query:{index:r,range:e},limit:o}).then((function(n){var r=n.result;return f({type:"delete",keys:r,trans:t}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<o?{failures:[],numFailures:0,lastResult:void 0}:h(t,l(c({},e),{lower:r[r.length-1],lowerOpen:!0}),o)}))}))}}});return o}})}},xo={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return l(c({},n),{getMany:function(t){if(!t.cache)return n.getMany(t);var e=Pe(t.keys,t.trans._cache,"clone"===t.cache);return e?lt.resolve(e):n.getMany(t).then((function(e){return t.trans._cache={keys:t.keys,values:"clone"===t.cache?$(e):e},e}))},mutate:function(t){return"add"!==t.type&&(t.trans._cache=null),n.mutate(t)}})}}}},Po=function(t,e){if(!this){var n=new Po;return t&&"d"in t&&N(n,t),n}N(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function ko(t,e,n){var r=po(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(ke(t))return N(t,{from:e,to:n,d:1});var o=t.l,i=t.r;if(po(n,t.from)<0)return o?ko(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Te(t);if(po(e,t.to)>0)return i?ko(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Te(t);po(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),po(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var a=!t.r;o&&!t.l&&Ae(t,o),i&&a&&Ae(t,i)}}L(Po.prototype,u({add:function(t){return Ae(this,t),this},addKey:function(t){return ko(this,t,t),this},addKeys:function(t){var e=this;return t.forEach((function(t){return ko(e,t,t)})),this}},sr,(function(){return Ce(this)})));var Ao,Co={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new Po(t.MIN_KEY,t.MAX_KEY);return l(c({},t),{table:function(r){var o=t.table(r),i=o.schema,a=i.primaryKey,u=a.extractKey,s=a.outbound,p=l(c({},o),{mutate:function(t){var a=t.trans,u=a.mutatedParts||(a.mutatedParts={}),s=function(t){var n="idb://".concat(e,"/").concat(r,"/").concat(t);return u[n]||(u[n]=new Po)},c=s(""),l=s(":dels"),p=t.type,h=f("deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[],2),d=h[0],v=h[1],y=t.trans._cache;return o.mutate(t).then((function(t){if(zn(d)){"delete"!==p&&(d=t.results),c.addKeys(d);var e=Pe(d,y);e||"add"===p||l.addKeys(d),(e||v)&&function(t,e,n,r){e.indexes.forEach((function(e){var o=t(e.name||"");function i(t){return null!=t?e.extractKey(t):null}var a=function(t){return e.multiEntry&&zn(t)?t.forEach((function(t){return o.addKey(t)})):o.addKey(t)};(n||r).forEach((function(t,e){var o=n&&i(n[e]),u=r&&i(r[e]);0!==po(o,u)&&(null!=o&&a(o),null!=u&&a(u))}))}))}(s,i,e,v)}else if(d){var r={from:d.lower,to:d.upper};l.add(r),c.add(r)}else c.add(n),l.add(n),i.indexes.forEach((function(t){return s(t.name).add(n)}));return t}))}}),h=function(e){var n,r,o=e.query,i=o.index,a=o.range;return[i,new Po(null!==(n=a.lower)&&void 0!==n?n:t.MIN_KEY,null!==(r=a.upper)&&void 0!==r?r:t.MAX_KEY)]},d={get:function(t){return[a,new Po(t.key)]},getMany:function(t){return[a,(new Po).addKeys(t.keys)]},count:h,query:h,openCursor:h};return $n(d).forEach((function(t){p[t]=function(i){var a=Vr.subscr;if(a){var p=function(t){var n="idb://".concat(e,"/").concat(r,"/").concat(t);return a[n]||(a[n]=new Po)},h=p(""),v=p(":dels"),y=f(d[t](i),2),m=y[0],g=y[1];if(p(m.name||"").add(g),!m.isPrimaryKey){if("count"!==t){var b="query"===t&&s&&i.values&&o.query(l(c({},i),{values:!1}));return o[t].apply(this,arguments).then((function(e){if("query"===t){if(s&&i.values)return b.then((function(t){var n=t.result;return h.addKeys(n),e}));var n=i.values?e.result.map(u):e.result;i.values?h.addKeys(n):v.addKeys(n)}else if("openCursor"===t){var r=e,o=i.values;return r&&Object.create(r,{key:{get:function(){return v.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var t=r.primaryKey;return v.addKey(t),t}},value:{get:function(){return o&&h.addKey(r.primaryKey),r.value}}})}return e}))}v.add(n)}}return o[t].apply(this,arguments)}})),p}})}},To=function(){function t(e,n){var r=this;o(this,t),this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=c({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:et,dbReadyPromise:null,cancelOpen:et,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new lt((function(t){s.dbReadyResolve=t})),s.openCanceller=new lt((function(t,e){s.cancelOpen=e})),this._state=s,this.name=e,this.on=Ut(this,"populate","blocked","versionchange","close",{ready:[ct,et]}),this.on.ready.subscribe=F(this.on.ready.subscribe,(function(e){return function(n,o){t.vip((function(){var t=r._state;if(t.openComplete)t.dbOpenError||lt.resolve().then(n),o&&e(n);else if(t.onReadyBeingFired)t.onReadyBeingFired.push(n),o&&e(n);else{e(n);var i=r;o||e((function t(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(t)}))}}))}})),this.Collection=(u=this,Bt(ho.prototype,(function(t,e){this.db=u;var n=lo,r=null;if(e)try{n=e()}catch(t){r=t}var o=t._ctx,i=o.table,a=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:a!==nt?a:null}}))),this.Table=function(t){return Bt(fo.prototype,(function(e,n,r){this.db=t,this._tx=r,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:Ut(null,{creating:[it,et],reading:[rt,nt],updating:[ut,et],deleting:[at,et]})}))}(this),this.Transaction=function(t){return Bt(go.prototype,(function(e,n,r,o,i){var a=this;this.db=t,this.mode=e,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Ut(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new lt((function(t,e){a._resolve=t,a._reject=e})),this._completion.then((function(){a.active=!1,a.on.complete.fire()}),(function(t){var e=a.active;return a.active=!1,a.on.error.fire(t),a.parent?a.parent._reject(t):e&&a.idbtrans&&a.idbtrans.abort(),eo(t)}))}))}(this),this.Version=function(t){return Bt(So.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return Bt(yo.prototype,(function(e,n,r){this.db=t,this._ctx={table:e,index:":id"===n?null:n,or:r};var o=t._deps.indexedDB;if(!o)throw new Sr.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(t,e){return o.cmp(e,t)},this._max=function(t,e){return o.cmp(t,e)>0?t:e},this._min=function(t,e){return o.cmp(t,e)<0?t:e},this._IDBKeyRange=t._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close()})),this.on("blocked",(function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(t.oldVersion/10))})),this._maxKey=bo(n.IDBKeyRange),this._createTransaction=function(t,e,n,o){return new r.Transaction(t,e,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(t){r.on("blocked").fire(t),io.filter((function(t){return t.name===r.name&&t!==r&&!t._state.vcFired})).map((function(e){return e.on("versionchange").fire(t)}))},this.use(Eo),this.use(jo),this.use(Co),this.use(xo),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach((function(t){return t(r)}))}return a(t,[{key:"version",value:function(t){if(isNaN(t)||t<.1)throw new Sr.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Sr.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter((function(e){return e._cfg.version===t}))[0];return n||(n=new this.Version(t),e.push(n),e.sort(de),n.stores({}),this._state.autoSchema=!1,n)}},{key:"_whenReady",value:function(t){var e=this;return this.idbdb&&(this._state.openComplete||Vr.letThrough||this._vip)?t():new lt((function(t,n){if(e._state.openComplete)return n(new Sr.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return void n(new Sr.DatabaseClosed);e.open().catch(et)}e._state.dbReadyPromise.then(t,n)})).then(t)}},{key:"use",value:function(t){var e=t.stack,n=t.create,r=t.level,o=t.name;o&&this.unuse({stack:e,name:o});var i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:null==r?10:r,name:o}),i.sort((function(t,e){return t.level-e.level})),this}},{key:"unuse",value:function(t){var e=t.stack,n=t.name,r=t.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((function(t){return r?t.create!==r:!!n&&t.name!==n}))),this}},{key:"open",value:function(){return function(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((function(){return e.dbOpenError?eo(e.dbOpenError):t}));pr&&(e.openCanceller._stackHolder=vr()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function o(){if(e.openCanceller!==r)throw new Sr.DatabaseClosed("db.open() was cancelled")}var i=e.dbReadyResolve,a=null,u=!1;return lt.race([r,("undefined"==typeof navigator?lt.resolve():Ee()).then((function(){return new lt((function(r,i){if(o(),!n)throw new Sr.MissingAPI;var s=t.name,c=e.autoSchema?n.open(s):n.open(s,Math.round(10*t.verno));if(!c)throw new Sr.MissingAPI;c.onerror=re(i),c.onblocked=Ot(t._fireOnBlocked),c.onupgradeneeded=Ot((function(r){if(a=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=oe,a.abort(),c.result.close();var o=n.deleteDatabase(s);o.onsuccess=o.onerror=Ot((function(){i(new Sr.NoSuchDatabase("Database ".concat(s," doesnt exist")))}))}else{a.onerror=re(i);var l=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;u=l<1,t._novip.idbdb=c.result,function(t,e,n,r){var o=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),u=Vr.transless||Vr;Et((function(){Vr.trans=i,Vr.transless=u,0===e?($n(o).forEach((function(t){ye(n,t,o[t].primKey,o[t].indexes)})),fe(t,n),lt.follow((function(){return t.on.populate.fire(i)})).catch(a)):function(t,e,n,r){var o=t._novip,i=[],a=o._versions,u=o._dbSchema=ge(0,o.idbdb,r),s=!1;return a.filter((function(t){return t._cfg.version>=e})).forEach((function(t){i.push((function(){var i=u,a=t._cfg.dbschema;be(o,i,r),be(o,a,r),u=o._dbSchema=a;var c=ve(i,a);c.add.forEach((function(t){ye(r,t[0],t[1].primKey,t[1].indexes)})),c.change.forEach((function(t){if(t.recreate)throw new Sr.Upgrade("Not yet support for changing primary key");var e=r.objectStore(t.name);t.add.forEach((function(t){return me(e,t)})),t.change.forEach((function(t){e.deleteIndex(t.name),me(e,t)})),t.del.forEach((function(t){return e.deleteIndex(t)}))}));var l=t._cfg.contentUpgrade;if(l&&t._cfg.version>e){fe(o,r),n._memoizedTables={},s=!0;var f=G(a);c.del.forEach((function(t){f[t]=i[t]})),he(o,[o.Transaction.prototype]),pe(o,[o.Transaction.prototype],$n(f),f),n.schema=f;var p,h=fr(l);h&&_t();var d=lt.follow((function(){if((p=l(n))&&h){var t=jt.bind(null,null);p.then(t,t)}}));return p&&"function"==typeof p.then?lt.resolve(p):d.then((function(){return p}))}})),i.push((function(e){s&&uo||function(t,e){[].slice.call(e.db.objectStoreNames).forEach((function(n){return null==t[n]&&e.db.deleteObjectStore(n)}))}(t._cfg.dbschema,e),he(o,[o.Transaction.prototype]),pe(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema}))})),function t(){return i.length?lt.resolve(i.shift()(n.idbtrans)).then(t):lt.resolve()}().then((function(){var t,e;e=r,$n(t=u).forEach((function(n){e.db.objectStoreNames.contains(n)||ye(e,n,t[n].primKey,t[n].indexes)}))}))}(t,e,i,n).catch(a)}))}(t,l/10,a,i)}}),i),c.onsuccess=Ot((function(){a=null;var n,o=t._novip.idbdb=c.result,i=B(o.objectStoreNames);if(i.length>0)try{var l=o.transaction(1===(n=i).length?n[0]:n,"readonly");e.autoSchema?function(t,e,n){var r=t._novip;r.verno=e.version/10;var o=r._dbSchema=ge(0,e,n);r._storeNames=B(e.objectStoreNames,0),pe(r,[r._allTables],$n(o),o)}(t,o,l):(be(t,t._dbSchema,l),function(t,e){var n=ve(ge(0,t.idbdb,e),t._dbSchema);return!(n.add.length||n.change.some((function(t){return t.add.length||t.change.length})))}(t,l)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),fe(t,l)}catch(t){}io.push(t),o.onversionchange=Ot((function(n){e.vcFired=!0,t.on("versionchange").fire(n)})),o.onclose=Ot((function(e){t.on("close").fire(e)})),u&&function(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!Se(n)&&"__dbnames"!==e&&we(n,r).put({name:e}).catch(et)}(t._deps,s),r()}),i)}))}))]).then((function(){return o(),e.onReadyBeingFired=[],lt.resolve(Oe((function(){return t.on.ready.fire(t.vip)}))).then((function n(){if(e.onReadyBeingFired.length>0){var r=e.onReadyBeingFired.reduce(ct,et);return e.onReadyBeingFired=[],lt.resolve(Oe((function(){return r(t.vip)}))).then(n)}}))})).finally((function(){e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((function(){return t})).catch((function(n){e.dbOpenError=n;try{a&&a.abort()}catch(t){}return r===e.openCanceller&&t._close(),eo(n)})).finally((function(){e.openComplete=!0,i()}))}(this)}},{key:"_close",value:function(){var t=this._state,e=io.indexOf(this);if(e>=0&&io.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this._novip.idbdb=null}t.dbReadyPromise=new lt((function(e){t.dbReadyResolve=e})),t.openCanceller=new lt((function(e,n){t.cancelOpen=n}))}},{key:"close",value:function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Sr.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}},{key:"delete",value:function(){var t=this,e=arguments.length>0,n=this._state;return new lt((function(r,o){var i=function(){t.close();var e=t._deps.indexedDB.deleteDatabase(t.name);e.onsuccess=Ot((function(){!function(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!Se(n)&&"__dbnames"!==e&&we(n,r).delete(e).catch(et)}(t._deps,t.name),r()})),e.onerror=re(o),e.onblocked=t._fireOnBlocked};if(e)throw new Sr.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))}},{key:"backendDB",value:function(){return this.idbdb}},{key:"isOpen",value:function(){return null!==this.idbdb}},{key:"hasBeenClosed",value:function(){var t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}},{key:"hasFailed",value:function(){return null!==this._state.dbOpenError}},{key:"dynamicallyOpened",value:function(){return this._state.autoSchema}},{key:"tables",get:function(){var t=this;return $n(this._allTables).map((function(e){return t._allTables[e]}))}},{key:"transaction",value:function(){var t=je.apply(this,arguments);return this._transaction.apply(this,t)}},{key:"_transaction",value:function(t,e,n){var r=this,o=Vr.trans;o&&o.db===this&&-1===t.indexOf("!")||(o=null);var i,a,u=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{if(a=e.map((function(t){var e=s(t,r.Table)?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||"readonly"===t)i="readonly";else{if("rw"!=t&&"readwrite"!=t)throw new Sr.InvalidArgument("Invalid transaction mode: "+t);i="readwrite"}if(o){if("readonly"===o.mode&&"readwrite"===i){if(!u)throw new Sr.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(t){if(o&&-1===o.storeNames.indexOf(t)){if(!u)throw new Sr.SubTransaction("Table "+t+" not included in parent transaction.");o=null}})),u&&o&&!o.active&&(o=null)}}catch(t){return o?o._promise(null,(function(e,n){n(t)})):eo(t)}var c=Oo.bind(null,this,i,a,o,n);return o?o._promise(i,c,"lock"):Vr.trans?Tt(Vr.transless,(function(){return r._whenReady(c)})):this._whenReady(c)}},{key:"table",value:function(t){if(!R(this._allTables,t))throw new Sr.InvalidTable("Table ".concat(t," does not exist"));return this._allTables[t]}}]),t}(),Io="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",Do=function(){function t(e){o(this,t),this._subscribe=e}return a(t,[{key:"subscribe",value:function(t,e,n){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:n})}},{key:Io,value:function(){return this}}]),t}();try{Ao={indexedDB:Wn.indexedDB||Wn.mozIndexedDB||Wn.webkitIndexedDB||Wn.msIndexedDB,IDBKeyRange:Wn.IDBKeyRange||Wn.webkitIDBKeyRange}}catch(r){Ao={indexedDB:null,IDBKeyRange:null}}var No=To;L(No,l(c({},Er),{delete:function(t){return new No(t,{addons:[]}).delete()},exists:function(t){return new No(t,{addons:[]}).open().then((function(t){return t.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(t){try{return function(t){var e=t.indexedDB,n=t.IDBKeyRange;return Se(e)?Promise.resolve(e.databases()).then((function(t){return t.map((function(t){return t.name})).filter((function(t){return"__dbnames"!==t}))})):we(e,n).toCollection().primaryKeys()}(No.dependencies).then(t)}catch(t){return eo(new Sr.MissingAPI)}},defineClass:function(){return function(t){N(this,t)}},ignoreTransaction:function(t){return Vr.trans?Tt(Vr.transless,t):t()},vip:Oe,async:function(t){return function(){try{var e=_e(t.apply(this,arguments));return e&&"function"==typeof e.then?e:lt.resolve(e)}catch(t){return eo(t)}}},spawn:function(t,e,n){try{var r=_e(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:lt.resolve(r)}catch(t){return eo(t)}},currentTransaction:{get:function(){return Vr.trans||null}},waitFor:function(t,e){var n=lt.resolve("function"==typeof t?No.ignoreTransaction(t):t).timeout(e||6e4);return Vr.trans?Vr.trans.waitFor(n):n},Promise:lt,debug:{get:function(){return pr},set:function(t){Z(t,"dexie"===t?function(){return!0}:co)}},derive:U,extend:N,props:L,override:F,Events:Ut,on:mo,liveQuery:function(t){return new Do((function(e){var n=function(){return $n(a).some((function(t){return i[t]&&function(t,e){var n=Ce(e),r=n.next();if(r.done)return!1;for(var o=r.value,i=Ce(t),a=i.next(o.from),u=a.value;!r.done&&!a.done;){if(po(u.from,o.to)<=0&&po(u.to,o.from)>=0)return!0;po(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(a=i.next(o.from)).value}return!1}(i[t],a[t])}))},r=fr(t),o=!1,i={},a={},u={get closed(){return o},unsubscribe:function(){o=!0,mo.storagemutated.unsubscribe(l)}};e.start&&e.start(u);var s=!1,c=!1,l=function(t){De(i,t),n()&&f()},f=function(){if(!s&&!o){i={};var p={},h=function(e){r&&_t();var n=function(){return Et(t,{subscr:e,trans:null})},o=Vr.trans?Tt(Vr.transless,n):n();return r&&o.then(jt,jt),o}(p);c||(mo("storagemutated",l),c=!0),s=!0,Promise.resolve(h).then((function(t){s=!1,o||(n()?f():(i={},a=p,e.next&&e.next(t)))}),(function(t){s=!1,e.error&&e.error(t),u.unsubscribe()}))}};return f(),u}))},extendObservabilitySet:De,getByKeyPath:tr,setByKeyPath:er,delByKeyPath:function(t,e){"string"==typeof e?er(t,e,void 0):"length"in e&&[].map.call(e,(function(e){er(t,e,void 0)}))},shallowClone:G,deepClone:$,getObjectDiff:_o,cmp:po,asap:V,minKey:-1/0,addons:[],connections:io,errnames:br,dependencies:Ao,semVer:"3.2.3",version:"3.2.3".split(".").map((function(t){return parseInt(t)})).reduce((function(t,e,n){return t+e/Math.pow(10,2*n)}))})),No.maxKey=bo(No.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(mo("storagemutated",(function(t){var e;Ro||(ao?(e=document.createEvent("CustomEvent")).initCustomEvent("x-storagemutated-1",!0,!0,t):e=new CustomEvent("x-storagemutated-1",{detail:t}),Ro=!0,dispatchEvent(e),Ro=!1)})),addEventListener("x-storagemutated-1",(function(t){var e=t.detail;Ro||Ne(e)})));var Ro=!1;if("undefined"!=typeof BroadcastChannel){var Lo=new BroadcastChannel("x-storagemutated-1");"function"==typeof Lo.unref&&Lo.unref(),mo("storagemutated",(function(t){Ro||Lo.postMessage(t)})),Lo.onmessage=function(t){t.data&&Ne(t.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){mo("storagemutated",(function(t){try{Ro||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&p(self.clients.matchAll({includeUncontrolled:!0})).forEach((function(e){return e.postMessage({type:"x-storagemutated-1",changedParts:t})})))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(function(t){if("x-storagemutated-1"===t.key){var e=JSON.parse(t.newValue);e&&Ne(e.changedParts)}}));var Mo=self.document&&navigator.serviceWorker;Mo&&Mo.addEventListener("message",(function(t){var e=t.data;e&&"x-storagemutated-1"===e.type&&Ne(e.changedParts)}))}lt.rejectionMapper=function(t,e){if(!t||s(t,J)||s(t,TypeError)||s(t,SyntaxError)||!t.name||!Or[t.name])return t;var n=new Or[t.name](e||t.message,t);return"stack"in t&&M(n,"stack",{get:function(){return this.inner.stack}}),n},Z(pr,co);var Uo=d(766),Bo=d(685);function Fo(t){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(t)}function Ho(t,e){return Ho=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ho(t,e)}var Vo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ho(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fo(t);if(e){var o=Fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!=((n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":h(n))&&"function"!=typeof e?Re(t):e;var n}(this,n)}}(n);function n(){var t;return function(t,e){if(!s(t,e))throw new TypeError("Cannot call a class as a function")}(this,n),Le(Re(t=e.call(this,"EsmOffline")),"syncQueue",void 0),Le(Re(t),"dynamicOfflineData",void 0),t.version(4).stores({syncQueue:"++id,userId,type,[userId+type]",dynamicOfflineData:"++id,type,identifier,*users,&[type+identifier]"}),t.syncQueue=t.table("syncQueue"),t.dynamicOfflineData=t.table("dynamicOfflineData"),t}return n}(To),Ko=new Vo,Go={},Wo=(0,Bo.createGlobalStore)("offline-synchronization",{});function $o(){return $o=Fe((function(){var t,e,n,r,o,i,a,u,s,c,l,f,p;return Ge(this,(function(h){switch(h.label){case 0:return Wo.getState().synchronization?[2]:[4,Ko.syncQueue.count()];case 1:t=h.sent(),e={},n=Object.entries(Go),r=n.length,o={},i=new AbortController,a=function(){var t,e,n=Wo.getState().synchronization;Wo.setState({synchronization:(t=Ve({},n),e={pendingCount:n.pendingCount-1},e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t)})},h.label=2;case 2:h.trys.push([2,,10,11]),Wo.setState({synchronization:{totalCount:t,pendingCount:t,abortController:i}}),u=0,h.label=3;case 3:if(!(u<r&&n.length>0))return[3,8];s=n.length,h.label=4;case 4:return s--?(c=Ke(n[s],2),l=c[0],f=c[1],(p=f.dependsOn.map((function(t){return e[t]}))).every(Boolean)?(o[l]={},[4,Promise.all(p)]):[3,6]):[3,7];case 5:h.sent(),e[l]=function(t,e,n,r){return zo.apply(this,arguments)}(f,o,i,a),n.splice(s,1),h.label=6;case 6:return[3,4];case 7:return u++,[3,3];case 8:return[4,Promise.allSettled(Object.values(e))];case 9:return h.sent(),[3,11];case 10:return Wo.setState({synchronization:void 0}),[7];case 11:return[2]}}))})),$o.apply(this,arguments)}function zo(){return zo=Fe((function(t,e,n,r){var o,i,a,u,s,c,l,f,p,h,d,v,y,m,g,b,w;return Ge(this,(function(S){switch(S.label){case 0:return o=t.type,i=t.dependsOn,a=t.process,u=[],s=[],[4,ze()];case 1:return c=S.sent(),[4,Ko.syncQueue.where({type:o,userId:c}).each((function(t,e){u.push([e.primaryKey,t.content,t.descriptor]),s.push(t.content)}))];case 2:S.sent(),l=0,S.label=3;case 3:if(!(l<u.length))return[3,11];f=Ke(u[l],3),p=f[0],h=f[1],d=f[2],v=d.id,y=d.dependencies,m=void 0===y?[]:y,S.label=4;case 4:return S.trys.push([4,7,9,10]),[4,a(h,{abort:n,index:l,items:s,userId:c,dependencies:m.map((function(t){var n=t.id,r=t.type;return i.includes(r)?e[r][n]:void 0}))})];case 5:return g=S.sent(),void 0!==v&&(e[o][v]=g),[4,Ko.syncQueue.delete(p)];case 6:return S.sent(),[3,10];case 7:return b=S.sent(),[4,Ko.syncQueue.update(p,{lastError:{name:null==b?void 0:b.name,message:null!==(w=null==b?void 0:b.message)&&void 0!==w?w:null==b?void 0:b.toString()}})];case 8:return S.sent(),[3,10];case 9:return r(),[7];case 10:return l++,[3,3];case 11:return[2]}}))})),zo.apply(this,arguments)}function qo(){return(qo=Fe((function(){var t;return Ge(this,(function(e){switch(e.label){case 0:return[4,(0,Uo.getLoggedInUser)()];case 1:return[2,(null==(t=e.sent())?void 0:t.uuid)||"*"]}}))}))).apply(this,arguments)}function Zo(){return(Zo=Fe((function(t,e,n,r){var o;return Ge(this,(function(i){switch(i.label){case 0:return void 0===(o=r&&r.id)?[3,2]:[4,Ko.syncQueue.where({type:e,userId:t}).filter((function(t){return(null==t?void 0:t.descriptor.id)===o})).delete().catch(To.errnames.DatabaseClosed)];case 1:i.sent(),i.label=2;case 2:return[4,Ko.syncQueue.add({type:e,content:n,userId:t,descriptor:r||{},createdOn:new Date}).catch(To.errnames.DatabaseClosed,(function(){return-1}))];case 3:return[2,i.sent()]}}))}))).apply(this,arguments)}function Yo(){return(Yo=Fe((function(t,e,n){return Ge(this,(function(r){switch(r.label){case 0:return[4,ze()];case 1:return[4,qe(r.sent(),t,e,n)];case 2:return[2,r.sent()]}}))}))).apply(this,arguments)}function Jo(){return(Jo=Fe((function(t,e){return Ge(this,(function(n){switch(n.label){case 0:return[4,Je(t,e)];case 1:return[2,n.sent().map((function(t){return t.content}))]}}))}))).apply(this,arguments)}function Xo(){return(Xo=Fe((function(t,e){var n;return Ge(this,(function(r){switch(r.label){case 0:return n=e?{type:e,userId:t}:{userId:t},[4,Ko.syncQueue.where(n).toArray().catch(To.errnames.DatabaseClosed,(function(){return[]}))];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function Qo(){return(Qo=Fe((function(t){return Ge(this,(function(e){switch(e.label){case 0:return[4,ze()];case 1:return[4,Ye(e.sent(),t)];case 2:return[2,e.sent()]}}))}))).apply(this,arguments)}function ti(){return(ti=Fe((function(t){return Ge(this,(function(e){switch(e.label){case 0:return[4,ze()];case 1:return[4,Je(e.sent(),t)];case 2:return[2,e.sent()]}}))}))).apply(this,arguments)}function ei(){return(ei=Fe((function(t){return Ge(this,(function(e){switch(e.label){case 0:return[4,Ko.syncQueue.get(t).catch(To.errnames.DatabaseClosed,(function(){}))];case 1:return[2,e.sent()]}}))}))).apply(this,arguments)}function ni(){return(ni=Fe((function(t){var e,n,r;return Ge(this,(function(o){switch(o.label){case 0:return[4,tn(t)];case 1:if(!(n=o.sent()))throw new Error("No sync item with the ID ".concat(t," exists."));if(!(r=null===(e=Go[n.type])||void 0===e?void 0:e.options.onBeginEditSyncItem))throw new Error("A sync item with the ID ".concat(t,' exists, but the associated handler (if one exists) doesn\'t support editing the item. You can avoid this error by either verifying that sync items of this type can be edited via the "canEditSynchronizationItemsOfType(type: string)" function or alternatively ensure that the synchronizaton handler for sync items of type "').concat(n.type,'" supports editing items.'));return r(n),[2]}}))}))).apply(this,arguments)}function ri(){return(ri=Fe((function(t){return Ge(this,(function(e){switch(e.label){case 0:return[4,Ko.syncQueue.delete(t).catch(To.errnames.DatabaseClosed)];case 1:return e.sent(),[2]}}))}))).apply(this,arguments)}for(var oi,ii={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},ai=new Uint8Array(16),ui=[],si=0;si<256;++si)ui.push((si+256).toString(16).slice(1));var ci=function(t,e,n){if(ii.randomUUID&&!e&&!t)return ii.randomUUID();var r=(t=t||{}).random||(t.rng||an)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ui[t[e+0]]+ui[t[e+1]]+ui[t[e+2]]+ui[t[e+3]]+"-"+ui[t[e+4]]+ui[t[e+5]]+"-"+ui[t[e+6]]+ui[t[e+7]]+"-"+ui[t[e+8]]+ui[t[e+9]]+"-"+ui[t[e+10]]+ui[t[e+11]]+ui[t[e+12]]+ui[t[e+13]]+ui[t[e+14]]+ui[t[e+15]]).toLowerCase()}(r)},li="OFFLINE+",fi={};function pi(){return(pi=fn((function(t){return pn(this,(function(e){switch(e.label){case 0:return[4,En()];case 1:return[4,yn(e.sent(),t)];case 2:return[2,e.sent()]}}))}))).apply(this,arguments)}function hi(){return(hi=fn((function(t,e){var n;return pn(this,(function(r){switch(r.label){case 0:return n=e?{type:e,users:t}:{users:t},[4,(new Vo).dynamicOfflineData.where(n).toArray().catch(To.errnames.DatabaseClosed,(function(){return[]}))];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function di(){return(di=fn((function(t,e){return pn(this,(function(n){switch(n.label){case 0:return[4,En()];case 1:return[4,gn(n.sent(),t,e)];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function vi(){return vi=fn((function(t,e,n){var r,o;return pn(this,(function(i){switch(i.label){case 0:return[4,(r=new Vo).dynamicOfflineData.get({type:e,identifier:n}).catch(To.errnames.DatabaseClosed,(function(){}))];case 1:return(o=i.sent())?[3,3]:[4,r.dynamicOfflineData.add({users:[t],type:e,identifier:n}).catch(To.errnames.DatabaseClosed)];case 2:return i.sent(),[3,5];case 3:return o.users.includes(t)?[3,5]:[4,r.dynamicOfflineData.update(o.id,{users:(a=o.users,function(t){if(Array.isArray(t))return cn(t)}(a)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(a)||function(t,e){if(t){if("string"==typeof t)return cn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(t,e):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([t])}).catch(To.errnames.DatabaseClosed)];case 4:i.sent(),i.label=5;case 5:return[2]}var a}))})),vi.apply(this,arguments)}function yi(){return(yi=fn((function(t,e){return pn(this,(function(n){switch(n.label){case 0:return[4,En()];case 1:return[4,wn(n.sent(),t,e)];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function mi(){return mi=fn((function(t,e,n){var r,o;return pn(this,(function(i){switch(i.label){case 0:return[4,(r=new Vo).dynamicOfflineData.get({type:e,identifier:n,users:t}).catch(To.errnames.DatabaseClosed,(function(){}))];case 1:return(o=i.sent())?o.users.length>1?[4,r.dynamicOfflineData.update(o.id,{users:o.users.filter((function(e){return e!==t}))}).catch(To.errnames.DatabaseClosed)]:[3,3]:[3,5];case 2:return i.sent(),[3,5];case 3:return[4,r.dynamicOfflineData.delete(o.id).catch(To.errnames.DatabaseClosed)];case 4:i.sent(),i.label=5;case 5:return[2]}}))})),mi.apply(this,arguments)}function gi(){return gi=fn((function(t,e){var n;return pn(this,(function(r){switch(r.label){case 0:return[4,vn(t)];case 1:return n=r.sent(),[4,Promise.all(n.map((o=fn((function(t){return pn(this,(function(n){return[2,On(t.type,t.identifier,e)]}))})),function(t){return o.apply(this,arguments)})))];case 2:return r.sent(),[2]}var o}))})),gi.apply(this,arguments)}function bi(){return bi=fn((function(t,e,n){var r,o,i,a,u,s,c,l,f;return pn(this,(function(p){switch(p.label){case 0:return[4,mn(t,e)];case 1:return p.sent(),r=new Vo,[4,En()];case 2:return o=p.sent(),[4,r.dynamicOfflineData.get({type:t,identifier:e}).catch(To.errnames.DatabaseClosed,(function(){}))];case 3:return i=p.sent(),a=hn().filter((function(e){return e.type===t})),i?[4,Promise.all(a.map((h=fn((function(t){var r,o,i;return pn(this,(function(a){try{return t.sync(e,n),[2,{id:t.id,error:void 0}]}catch(e){return i=null!==(o=null===(r=e.message)||void 0===r?void 0:r.toString())&&void 0!==o?o:e.toString(),[2,{id:t.id,error:i}]}return[2]}))})),function(t){return h.apply(this,arguments)})))]:[2];case 4:return u=p.sent(),s=u.filter((function(t){return!t.error})).map((function(t){return t.id})),c=u.filter((function(t){return t.error})).map((function(t){return t.id})),l=u.filter((function(t){return t.error})).map((function(t){return{handlerId:t.id,message:t.error}})),f={syncedOn:new Date,syncedBy:o,succeededHandlers:s,erroredHandlers:c,errors:l},i.id?[4,r.dynamicOfflineData.update(i.id,{syncState:f}).catch(To.errnames.DatabaseClosed)]:[3,6];case 5:p.sent(),p.label=6;case 6:return[2]}var h}))})),bi.apply(this,arguments)}function wi(){return(wi=fn((function(){var t;return pn(this,(function(e){switch(e.label){case 0:return[4,(0,Uo.getLoggedInUser)()];case 1:if(!(t=e.sent().uuid))throw new Error("Using the dynamic offline data API requires a logged in user.");return[2,t]}}))}))).apply(this,arguments)}var Si=(0,Bo.createGlobalStore)("offline-patients",{offlinePatientDataSyncState:{},handlers:{}});function Oi(){return Oi=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){_n(i,r,o,a,u,"next",t)}function u(t){_n(i,r,o,a,u,"throw",t)}a(void 0)}))}}((function(t){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){switch(e.label){case 0:return kn(),[4,On("patient",t)];case 1:return e.sent(),[2]}}))})),Oi.apply(this,arguments)}}(),v}())}}}))},4798:(t,e,n)=>{function r(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function o(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}t=n.nmd(t),System.register(["react","@openmrs/esm-navigation","@openmrs/esm-extensions","@openmrs/esm-globals","@openmrs/esm-feature-flags","@openmrs/esm-api","react-dom","react-i18next","swr","@openmrs/esm-config","dayjs"],(function(i,a){var u={},s={},c={},l={},f={},p={},h={},d={},v={},y={},m={};return Object.defineProperty(h,"__esModule",{value:!0}),{setters:[function(t){u.Suspense=t.Suspense,u.default=t.default,u.useCallback=t.useCallback,u.useContext=t.useContext,u.useEffect=t.useEffect,u.useMemo=t.useMemo,u.useReducer=t.useReducer,u.useRef=t.useRef,u.useState=t.useState},function(t){s.interpolateUrl=t.interpolateUrl,s.navigate=t.navigate},function(t){c.getConnectedExtensions=t.getConnectedExtensions,c.getExtensionInternalStore=t.getExtensionInternalStore,c.getExtensionStore=t.getExtensionStore,c.registerExtensionSlot=t.registerExtensionSlot,c.renderExtension=t.renderExtension},function(t){l.subscribeConnectivityChanged=t.subscribeConnectivityChanged},function(t){f.featureFlagsStore=t.featureFlagsStore},function(t){p.attachmentUrl=t.attachmentUrl,p.defaultVisitCustomRepresentation=t.defaultVisitCustomRepresentation,p.fetchCurrentPatient=t.fetchCurrentPatient,p.getCurrentUser=t.getCurrentUser,p.getLocations=t.getLocations,p.getSessionStore=t.getSessionStore,p.getVisitStore=t.getVisitStore,p.getVisitTypes=t.getVisitTypes,p.openmrsFetch=t.openmrsFetch,p.restBaseUrl=t.restBaseUrl,p.userHasAccess=t.userHasAccess},function(t){Object.keys(t).forEach((function(e){h[e]=t[e]}))},function(t){d.I18nextProvider=t.I18nextProvider},function(t){v.SWRConfig=t.SWRConfig,v.default=t.default},function(t){y.getConfigStore=t.getConfigStore,y.getExtensionConfigFromStore=t.getExtensionConfigFromStore,y.getExtensionsConfigStore=t.getExtensionsConfigStore},function(t){m.default=t.default}],execute:function(){i(function(){var i={332:function(t){t.exports=function(){"use strict";return function(t,e,n){e.prototype.isToday=function(){var t="YYYY-MM-DD",e=n();return this.format(t)===e.format(t)}}}()},645:function(t,e,n){"use strict";var r=n(493);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},385:function(){System.register([],(function(t,e){return{execute:function(){t(function(){"use strict";var t=function(t,e){var n=u[t];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(e,!0),n.active=!0,n.value;var r=a()((function(){return e}));return u[t]={value:r,active:!0},r},e=function(t,e){var n=u[t];if(!n){var r=a()((function(){return null!=e?e:{}}));return u[t]={value:r,active:!1},r}return n.value},n=function(t,e,n){var r=e(t.getState());return t.subscribe((function(t){var o=e(t);o!==r&&(r=o,n(o))}))},r={d:function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};r.r(o),r.d(o,{createGlobalStore:function(){return t},getGlobalStore:function(){return e},subscribeTo:function(){return n}});var i=function(t){var e,n=new Set,r=function(t,r){var o="function"==typeof t?t(e):t;if(!Object.is(o,e)){var i=e;e=(null!=r?r:"object"!=typeof o)?o:Object.assign({},e,o),n.forEach((function(t){return t(e,i)}))}},o=function(){return e},i={setState:r,getState:o,subscribe:function(t){return n.add(t),function(){return n.delete(t)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,o,i),i},a=function(t){return t?i(t):i},u={};return setTimeout((function(){"development"===window.spaEnv&&(window.stores=u)}),1e3),o}())}}}))},766:function(t){"use strict";t.exports=p},824:function(t){"use strict";t.exports=y},45:function(t){"use strict";t.exports=c},708:function(t){"use strict";t.exports=f},728:function(t){"use strict";t.exports=l},513:function(t){"use strict";t.exports=s},688:function(t){"use strict";t.exports=m},954:function(t){"use strict";t.exports=u},493:function(t){"use strict";t.exports=h},281:function(t){"use strict";t.exports=d},725:function(t){"use strict";t.exports=v}},a={};function g(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={exports:{}};return i[t].call(n.exports,n,n.exports,g),n.exports}g.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return g.d(e,{a:e}),e},g.d=function(t,e){for(var n in e)g.o(e,n)&&!g.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},g.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},g.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var b={};return function(){"use strict";var i=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},a=function(t){var e=t.to,n=t.templateParams,r=t.onBeforeNavigate,o=t.children,a=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,["to","templateParams","onBeforeNavigate","children"]);return(0,Bt.useEffect)((function(){a.href&&console.warn("ConfigurableLink does not support the href prop. Use the 'to' prop instead. The provided href value is '".concat(a.href,"'")),a.onClick&&console.warn("ConfigurableLink does not support the onClick prop. Use the 'onBeforeNavigate' prop instead. The 'to' prop of the offending link is ".concat(e))}),[]),Bt.default.createElement("a",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}({onClick:function(t){return function(t,e,n,r){0!==t.button||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey||(t.preventDefault(),null==r||r(t),(0,Ht.navigate)({to:e,templateParams:n})),0===t.button&&(t.ctrlKey||t.metaKey)&&(null==r||r(t)),0===t.button&&t.shiftKey&&(null==r||r(t)),1===t.button&&(null==r||r(t))}(t,e,n,r)},href:(0,Ht.interpolateUrl)(e,n)},a),o)},u=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},s=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},c=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){s(t,e,n[e])}))}return t},l=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},f=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,Bt.useState)(window.navigator.onLine))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||function(t,e){if(t){if("string"==typeof t)return l(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],r=e[1];return(0,Bt.useEffect)((function(){return(0,Gt.subscribeConnectivityChanged)((function(t){var e=t.online;return r(e)}))}),[]),n},p=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},h=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},d=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){h(t,e,n[e])}))}return t},v=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},y=function(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},m=function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}},w=function(t,e){var n=function(n){r[n]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.setState((function(t){var r,i=[t].concat(y(o));return(r=e)[n].apply(r,y(i))}))}};"function"==typeof e&&(e=e(t));var r={};for(var o in e)n(o);return r},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t,n=arguments.length>2?arguments[2]:void 0,r=v((0,Bt.useState)((function(){return e(t.getState())})),2),o=r[0],i=r[1];return(0,Bt.useEffect)((function(){return(0,Wt.subscribeTo)(t,e,i)}),[t,e]),d({},o,(0,Bt.useMemo)((function(){return n?w(t,n):{}}),[t,n]))},O=function(t,e){return S(t,$t,e)},E=function(t){return function(e){var n=v((0,Bt.useState)(t.getState()),2),r=n[0],o=n[1];return(0,Bt.useEffect)((function(){return t.subscribe((function(t){return o(t)}))}),[]),d({},r,(0,Bt.useMemo)((function(){return e?w(t,e):{}}),[e]))}},_=function(t){var e=zt().slots;return(0,Bt.useMemo)((function(){var n,r;return null!==(r=null===(n=e[t])||void 0===n?void 0:n.assignedExtensions)&&void 0!==r?r:[]}),[e,t])},j=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},x=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},P=function(t){var e=f(),n=_(t),r=S(qt.featureFlagsStore),o=(0,Bt.useMemo)((function(){return Object.entries(r.flags).filter((function(t){return x(t,2)[1].enabled})).map((function(t){return x(t,1)[0]}))}),[r.flags]);return(0,Bt.useMemo)((function(){return(0,Vt.getConnectedExtensions)(n,e,o)}),[n,e,o])},k=function(t){var e=(0,Bt.useContext)(Ft).moduleName;if(!e)throw Error("ComponentContext has not been provided. This should come from @openmrs/esm-react-utils.");return(0,Bt.useEffect)((function(){(0,Vt.registerExtensionSlot)(e,t)}),[]),{extensions:P(t),extensionSlotName:t,extensionSlotModuleName:e}},A=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},C=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){A(t,e,n[e])}))}return t},T=function(t){return t},I=function(t){var e=t.name,n=t.extensionSlotName,r=t.select,o=void 0===r?T:r,i=t.children,a=t.state,u=t.style,s=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,["name","extensionSlotName","select","children","state","style"]);if(i&&a)throw new Error("Both children and state have been provided. If children are provided, the state must be passed as a prop to the `Extension` component.");var c,l,f,p,h=null!=e?e:n,d=(0,Bt.useRef)(null),v=k(h),y=v.extensions,m=v.extensionSlotModuleName,g=(0,Bt.useMemo)((function(){return o(y)}),[o,y]),b=(0,Bt.useMemo)((function(){if("function"==typeof i&&!Bt.default.isValidElement(i))return g.map((function(t){return i(t)}))}),[i,g]);return Bt.default.createElement("div",C({ref:d,"data-extension-slot-name":h,"data-extension-slot-module-name":m,style:(f=C({},u),p={position:"relative"},p=null!=p?p:{},Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(p)).forEach((function(t){Object.defineProperty(f,t,Object.getOwnPropertyDescriptor(p,t))})),f)},s),h&&g.map((function(t,e){return Bt.default.createElement(Ft.Provider,{key:t.id,value:{moduleName:m,featureName:"",extension:{extensionId:t.id,extensionSlotName:h,extensionSlotModuleName:m}}},null!==(l=null!==(c=null==b?void 0:b[e])&&void 0!==c?c:"function"!=typeof i?i:null)&&void 0!==l?l:Bt.default.createElement(Kt,{state:a}))})))},D=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},N=function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n},R=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t},L=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},M=function(t,e){var n;if("function"!=typeof(n=e.domElement?function(){return e.domElement}:e.domElementGetter?e.domElementGetter:t.domElementGetter?t.domElementGetter:function(t){var e=t.appName||t.name;if(!e)throw Error("single-spa's dom-element-getter-helpers was not given an application name as a prop, so it can't make a unique dom element container for the react application");var n="single-spa-application:".concat(e);return function(){var t=document.getElementById(n);return t||((t=document.createElement("div")).id=n,document.body.appendChild(t)),t}}(e)))throw Error("single-spa's dom-element-getter-helpers was given an invalid domElementGetter for application or parcel '".concat(e.name,"'. Expected a function, received ").concat(Qt(n)));return function(){var t=n(e);if(!r(t,HTMLElement))throw Error("single-spa's dom-element-getter-helpers: domElementGetter returned an invalid dom element for application or parcel '".concat(e.name,"'. Expected HTMLElement, received ").concat(Qt(t)));return t}},U=function(t,e){return t.rootComponent?Promise.resolve():t.loadRootComponent(e).then((function(e){t.rootComponent=e}))},B=function(t,e){return new Promise((function(n,r){t.suppressComponentDidCatchWarning||!function(t){if(!(t&&"string"==typeof t.version&&t.version.indexOf(".")>=0))return!1;var e=t.version.slice(0,t.version.indexOf("."));try{return Number(e)>=16}catch(t){return!1}}(t.React)||t.errorBoundary||t.errorBoundaryClass||(t.rootComponent.prototype?t.rootComponent.prototype.componentDidCatch||console.warn("single-spa-react: ".concat(e.name||e.appName||e.childAppName,"'s rootComponent should implement componentDidCatch to avoid accidentally unmounting the entire single-spa application.")):console.warn("single-spa-react: ".concat(e.name||e.appName||e.childAppName,"'s rootComponent does not implement an error boundary.  If using a functional component, consider providing an opts.errorBoundary to singleSpaReact(opts).")));var o=G(t,e,(function(){n(this)})),i=M(t,e)(),a=function(t){var e=t.renderType,n=t.elementToRender,r=t.domElement,o=t.reactDom[e];if("function"!=typeof o)throw new Error('renderType "'.concat(e,'" did not return a function.'));switch(e){case"createRoot":case"unstable_createRoot":case"createBlockingRoot":case"unstable_createBlockingRoot":var i=o(r);return i.render(n),i;case"hydrateRoot":return o(r,n);default:return o(n,r),null}}({elementToRender:o,domElement:i,reactDom:V(t),renderType:K(t)});t.domElements[e.name]=i,t.renderResults[e.name]=a}))},F=function(t,e){return new Promise((function(n){t.unmountResolves[e.name]=n;var r=t.renderResults[e.name];r&&r.unmount?r.unmount():V(t).unmountComponentAtNode(t.domElements[e.name]),delete t.domElements[e.name],delete t.renderResults[e.name]}))},H=function(t,e){return new Promise((function(n){t.updateResolves[e.name]||(t.updateResolves[e.name]=[]),t.updateResolves[e.name].push(n);var r=G(t,e,null),o=t.renderResults[e.name];if(o&&o.render)o.render(r);else{var i=M(t,e)();V(t).render(r,i)}}))},V=function(t){return t.ReactDOMClient||t.ReactDOM},K=function(t){return"function"==typeof t.renderType?t.renderType():t.renderType},G=function(t,e,n){var r=t.React.createElement(t.rootComponent,e),o=te?t.React.createElement(te.Provider,{value:e},r):r;return(t.errorBoundary||e.errorBoundary||t.errorBoundaryClass||e.errorBoundaryClass)&&(t.errorBoundaryClass=t.errorBoundaryClass||e.errorBoundaryClass||function(t,e){function n(e){t.React.Component.apply(this,arguments),this.state={caughtError:null,caughtErrorInfo:null},n.displayName="SingleSpaReactErrorBoundary(".concat(e.name,")")}return n.prototype=Object.create(t.React.Component.prototype),n.prototype.render=function(){return this.state.caughtError?(t.errorBoundary||e.errorBoundary)(this.state.caughtError,this.state.caughtErrorInfo,this.props):this.props.children},n.prototype.componentDidCatch=function(t,e){this.setState({caughtError:t,caughtErrorInfo:e})},n}(t,e),o=t.React.createElement(t.errorBoundaryClass,e,o)),t.React.createElement(t.SingleSpaRoot,R(R({},e),{},{mountFinished:n,updateFinished:function(){t.updateResolves[e.name]&&(t.updateResolves[e.name].forEach((function(t){return t()})),delete t.updateResolves[e.name])},unmountFinished:function(){t.unmountResolves[e.name]&&(t.unmountResolves[e.name](),delete t.unmountResolves[e.name])}}),o)},W=function(t){if("object"!=typeof t||"string"!=typeof t.featureName||"string"!=typeof t.moduleName)throw new Error("Invalid options");var e=Object.assign({},ae,t);return function(t){var n,i,a,u;return i=n=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(u,n);var i,a=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oe(t);if(e){var i=oe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!=((n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":o(n))&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var n}(this,n)}}(u);function u(t){var n;return function(t,e){if(!r(t,e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=a.call(this,t)).state={caughtError:null,caughtErrorInfo:null,config:{moduleName:e.moduleName,featureName:e.featureName,extension:t._extensionContext}},n}return(i=[{key:"componentDidCatch",value:function(t,n){n&&n.componentStack&&(t.extra=Object.assign(t.extra||{},{componentStack:n.componentStack})),e.throwErrorsToConsole&&setTimeout((function(){throw t})),this.setState({caughtError:t,caughtErrorInfo:n})}},{key:"render",value:function(){if(this.state.caughtError)return Bt.default.createElement("div",null,"An error has occurred. Please try reloading the page.");var n=Bt.default.createElement(Bt.Suspense,{fallback:null},Bt.default.createElement(re.SWRConfig,{value:ue},Bt.default.createElement(Ft.Provider,{value:this.state.config},e.disableTranslations?Bt.default.createElement(t,this.props):Bt.default.createElement(ne.I18nextProvider,{i18n:window.i18next,defaultNS:e.moduleName},Bt.default.createElement(t,this.props)))));return e.strictMode||!Bt.default.StrictMode?n:Bt.default.createElement(Bt.default.StrictMode,null,n)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(u.prototype,i),u}(Bt.default.Component),a="displayName",u="OpenmrsReactComponent(".concat(e.featureName,")"),a in i?Object.defineProperty(i,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[a]=u,n}},$=function(t,e){return function(t){if("object"!==Xt(t))throw new Error("single-spa-react requires a configuration object");var e,n=R(R({},ee),t);if(!n.React)throw new Error("single-spa-react must be passed opts.React");if(!n.ReactDOM&&!n.ReactDOMClient)throw new Error("single-spa-react must be passed opts.ReactDOM or opts.ReactDOMClient");if(n.renderType||(null!==(e=n.ReactDOMClient)&&void 0!==e&&e.createRoot?n.renderType="createRoot":n.renderType="render"),!n.rootComponent&&!n.loadRootComponent)throw new Error("single-spa-react must be passed opts.rootComponent or opts.loadRootComponent");if(n.errorBoundary&&"function"!=typeof n.errorBoundary)throw Error("The errorBoundary opt for single-spa-react must either be omitted or be a function that returns React elements");!te&&n.React.createContext&&(te=n.React.createContext()),n.SingleSpaRoot=function(t){function e(t){e.displayName="SingleSpaRoot(".concat(t.name,")")}return e.prototype=Object.create(t.React.Component.prototype),e.prototype.componentDidMount=function(){setTimeout(this.props.mountFinished)},e.prototype.componentWillUnmount=function(){setTimeout(this.props.unmountFinished)},e.prototype.render=function(){return setTimeout(this.props.updateFinished),this.props.children},e}(n);var r={bootstrap:U.bind(null,n),mount:B.bind(null,n),unmount:F.bind(null,n)};return n.parcelCanUpdate&&(r.update=H.bind(null,n)),r}({React:Bt.default,ReactDOMClient:Jt,rootComponent:W(e)(t)})},z=function(t,e){return function(){return t().then((function(t){return $(t.default,e)}))}},q=function(t,e){return function(){return Promise.resolve($(t,e))}},Z=function(){var t=(0,Bt.useRef)();return t.current&&!t.current.signal.aborted||(t.current=new AbortController),(0,Bt.useEffect)((function(){var e=t.current;return function(){return null==e?void 0:e.abort()}}),[]),t.current},Y=function(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}},J=function(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}},X=function(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}},Q=function(t){var e=this.__data__=new de(t);this.size=e.size},tt=function(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new We;++e<n;)this.add(t[e])},et=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},nt=function(t){var e,n=function(t){if(Array.isArray(t))return t}(e=(0,Bt.useState)([]))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(t,e){if(t){if("string"==typeof t)return et(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1];return(0,Bt.useEffect)((function(){return(0,Vt.getExtensionStore)().subscribe((function(e){var n,i,a=null!==(i=null===(n=e.slots[t])||void 0===n?void 0:n.assignedExtensions.map((function(t){return t.id})))&&void 0!==i?i:[];rr(a,r)||o(a)}))}),[]),r},rt=function(t,e){var n,r=(0,re.default)("".concat(Zt.attachmentUrl,"?patient=").concat(t,"&includeEncounterless=").concat(e),Zt.openmrsFetch),o=r.data,i=r.error,a=r.mutate,u=r.isLoading,s=r.isValidating;return(0,Bt.useMemo)((function(){return{isLoading:u,data:null!==(n=null==o?void 0:o.data.results)&&void 0!==n?n:[],error:i,mutate:a,isValidating:s}}),[o,i,u,s,a])},ot=function(t){(0,Bt.useEffect)((function(){if(t){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}}),[t])},it=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},at=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},ut=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){at(t,e,n[e])}))}return t},st=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},ct=function(t){var e,n=(0,Bt.useContext)(Ft),r=n.moduleName,o=n.extension,i=null!==(e=null==t?void 0:t.externalModuleName)&&void 0!==e?e:r;if(!i&&!o)throw Error(ar);var a=function(t){var e=(0,Bt.useMemo)((function(){return(0,or.getConfigStore)(t)}),[t]),n=t,r=function(t){var e=st((0,Bt.useState)(function(t){return function(){var e=t.getState();return e.loaded&&e.config?e.config:null}}(t)),2),n=e[0],r=e[1];return(0,Bt.useEffect)((function(){return null==t?void 0:t.subscribe((function(t){t.loaded&&t.config&&r(t.config)}))}),[t]),n}(e);if(!r)throw ir[n]||(ir[n]=function(t){return new Promise((function(e){var n=t.subscribe((function(t){t.loaded&&t.config&&(e(t.config),n())}))}))}(e)),ir[n];return r}(i),u=function(t){var e=(0,Bt.useMemo)(or.getExtensionsConfigStore,[]),n=function(t,e){var n=st((0,Bt.useState)(function(t,e){return e?function(){var n=t.getState(),r=(0,or.getExtensionConfigFromStore)(n,e.extensionSlotName,e.extensionId);if(r.loaded&&r.config)return r.config}:null}(t,e)),2),r=n[0],o=n[1];return(0,Bt.useEffect)((function(){if(e)return t.subscribe((function(t){var n=(0,or.getExtensionConfigFromStore)(t,e.extensionSlotName,e.extensionId);n.loaded&&n.config&&!rr(n.config,r)&&o(n.config)}))}),[t,e,r]),r}(e,t);if(!n&&t){var r="".concat(t.extensionSlotName,"-").concat(t.extensionId);throw!ir[r]&&e&&(ir[r]=function(t,e){return new Promise((function(n){var r=t.subscribe((function(t){var o=(0,or.getExtensionConfigFromStore)(t,e.extensionSlotName,e.extensionId);o.loaded&&o.config&&(n(o.config),r())}))}))}(e,t)),ir[r]}return n||{}}(o);return(0,Bt.useMemo)((function(){return(null==t?void 0:t.externalModuleName)&&i===t.externalModuleName?ut({},a):ut({},a,u)}),[i,null==t?void 0:t.externalModuleName,a,u])},lt=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},ft=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=function(t){if(Array.isArray(t))return t}(e=(0,Bt.useState)(t))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(t,e){if(t){if("string"==typeof t)return lt(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1];return(0,Bt.useEffect)((function(){var e=setTimeout((function(){i(t)}),n);return function(){clearTimeout(e)}}),[t,n]),o},pt=function(t){var e=P(t);return(0,Bt.useMemo)((function(){return Object.fromEntries(e.map((function(t){return[t.name,t.meta]})))}),[e])},ht=function(t){var e,n=S(qt.featureFlagsStore).flags;return(0,Bt.useEffect)((function(){n[t]||console.error('useFeatureFlag: Attempted to get value of non-existent flag "'.concat(t,'". Did you forget to call registerFeatureFlag?'))}),[n[t]]),null===(e=n[t])||void 0===e?void 0:e.enabled},dt=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},vt=function(){var t,e=(t=(0,Bt.useState)(0),function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||function(t,e){if(t){if("string"==typeof t)return dt(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(t,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];return(0,Bt.useCallback)((function(){e((function(t){return t+1}))}),[])},yt=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},mt=function(){var t="tablet";return document.body.classList.forEach((function(e){switch(e){case"omrs-breakpoint-lt-tablet":t="phone";break;case"omrs-breakpoint-gt-small-desktop":t="large-desktop";break;case"omrs-breakpoint-gt-tablet":t="small-desktop"}})),t},gt=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,Bt.useState)(mt))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||function(t,e){if(t){if("string"==typeof t)return yt(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(t,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],r=e[1];return(0,Bt.useEffect)((function(){var t=function(){r(mt())};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n},bt=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},wt=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=function(t){if(Array.isArray(t))return t}(t=(0,Bt.useState)([]))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||function(t,e){if(t){if("string"==typeof t)return bt(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bt(t,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1];return(0,Bt.useEffect)((function(){var t=(0,Zt.getLocations)(e).subscribe((function(t){o(t)}),(function(t){console.error(t)}));return function(){return t.unsubscribe()}}),[]),r},St=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,Bt.useRef)(null);return(0,Bt.useEffect)((function(){var r=function(r){e&&n.current&&!n.current.contains(r.target)&&t(r)};return window.addEventListener("mousedown",r),window.addEventListener("touchstart",r),function(){window.removeEventListener("mousedown",r),window.removeEventListener("touchstart",r)}}),[t,e]),n},Ot=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Et=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.abortController,i=r.fetchInit,a=r.url,u=r.swrConfig,s=ce(),c=(0,Bt.useMemo)((function(){return null!==(n=null!==(e=null==i?void 0:i.signal)&&void 0!==e?e:null==o?void 0:o.signal)&&void 0!==n?n:s.signal}),[null==o?void 0:o.signal,null==i?void 0:i.signal,s.signal]),l=(0,Bt.useCallback)((function(t){var e,n,r=function(t,e){if(e)return"function"==typeof e?e(t):e;if("string"==typeof t)return t;throw new Error("When using useOpenmrsSWR with a key that is not a string, you must provide a url() function that converts the key to a valid url. The key for this hook is ".concat(t,"."))}(t,a);return(0,Zt.openmrsFetch)(r,(e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Ot(t,e,n[e])}))}return t}({},i),n=null!=(n={signal:c})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e))}),[c,i,a]);return(0,re.default)(t,l,u)},_t=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},jt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},xt=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){jt(t,e,n[e])}))}return t},Pt=function(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t},kt=function(){var t=/\/patient\/([a-zA-Z0-9\-]+)\/?/.exec(location.pathname);return t&&t[1]},At=function(t,e){switch(e.type){case Yn.loadPatient:return Pt(xt({},t),{patientUuid:e.patientUuid,patient:null,isPendingUuid:!1,isLoadingPatient:!0,err:null});case Yn.newPatient:return Pt(xt({},t),{patient:e.patient,isPendingUuid:!1,isLoadingPatient:!1,err:null});case Yn.loadError:return Pt(xt({},t),{patient:null,isPendingUuid:!1,isLoadingPatient:!1,err:e.err});default:return t}},Ct=function(t){var e,n=function(t){if(Array.isArray(t))return t}(e=(0,Bt.useReducer)(At,Pt(xt({},lr),{patientUuid:null!=t?t:null,isPendingUuid:!t,isLoadingPatient:!!t})))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(t,e){if(t){if("string"==typeof t)return _t(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1];return(0,Bt.useEffect)((function(){if(r.isPendingUuid){var t=kt();o(t?{type:Yn.loadPatient,patientUuid:t}:{type:Yn.newPatient,patient:null})}var e=!0;return r.isLoadingPatient&&r.patientUuid&&(0,Zt.fetchCurrentPatient)(r.patientUuid).then((function(t){return e&&o({patient:t,type:Yn.newPatient})}),(function(t){return e&&o({err:t,type:Yn.loadError})})),function(){e=!1}}),[r.isPendingUuid,r.isLoadingPatient,r.patientUuid]),(0,Bt.useEffect)((function(){var t=function(t){var e=kt();e!=r.patientUuid&&o({type:Yn.loadPatient,patientUuid:e})};return window.addEventListener("single-spa:routing-event",t),function(){return window.removeEventListener("single-spa:routing-event",t)}}),[r.patientUuid]),{isLoading:r.isPendingUuid||r.isLoadingPatient,patient:r.patient,patientUuid:null!=t?t:r.patientUuid,error:r.err}},Tt=function(t){var e=k(t),n=e.extensions,r=e.extensionSlotModuleName;return t?n.map((function(e){return function(n){var o=n.state;return Bt.default.createElement(Ft.Provider,{value:{moduleName:r,featureName:"",extension:{extensionId:e.id,extensionSlotName:t,extensionSlotModuleName:r}}},Bt.default.createElement(Kt,{state:o}))}})):[]},It=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},Dt=function(){var t,e=(0,Bt.useRef)(),n=function(t){if(Array.isArray(t))return t}(t=(0,Bt.useState)(null))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||function(t,e){if(t){if("string"==typeof t)return It(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(t,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1],i=null;if(!r){if(cr){var a=(0,Zt.getSessionStore)().getState();a.loaded&&(i=a.session)}else cr=new Promise((function(t){var n=function(n){var r=n.loaded,o=n.session;r&&(t(o),i=o,e.current&&e.current(),e.current=void 0)};n((0,Zt.getSessionStore)().getState()),i||(e.current=(0,Zt.getSessionStore)().subscribe(n))}));if(!i)throw cr;o(i)}(0,Bt.useEffect)((function(){return e.current||(e.current=(0,Zt.getSessionStore)().subscribe((function(t){var e=t.loaded,n=t.session;e&&(i=n,o(n))}))),function(){e.current&&e.current(),e.current=void 0}}),[]);var u=r||i;if(!u)throw cr?(console.warn("useSession is in an unexpected state. Attempting to recover."),cr):Error("useSession is in an invalid state.");return u},Nt=function(t){var e,n=S((0,Zt.getVisitStore)()),r=n.patientUuid,o=n.manuallySetVisitUuid,i=t&&r==t?o:null,a="?patient=".concat(t,"&v=").concat(Zt.defaultVisitCustomRepresentation,"&includeInactive=false"),u="/".concat(i),s=(0,re.default)(t?"".concat(Zt.restBaseUrl,"/visit").concat(a):null,Zt.openmrsFetch),c=s.data,l=s.error,f=s.mutate,p=s.isValidating,h=(0,re.default)(t&&i?"".concat(Zt.restBaseUrl,"/visit").concat(u):null,Zt.openmrsFetch),d=h.data,v=h.error,y=h.mutate,m=h.isValidating,g=(0,Bt.useMemo)((function(){return null!==(e=null==c?void 0:c.data.results.find((function(t){return null===t.stopDatetime})))&&void 0!==e?e:null}),[c]),b=(0,Bt.useMemo)((function(){return i?null==d?void 0:d.data:null!=g?g:null}),[d,g,i]);return{error:l||v,mutate:function(){f(),y()},isValidating:p||m,activeVisit:g,currentVisit:b,currentVisitIsRetrospective:Boolean(i),isLoading:Boolean((!c||i&&!d)&&(!l||!v))}},Rt=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},Lt=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,Bt.useState)([]))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||function(t,e){if(t){if("string"==typeof t)return Rt(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(t,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],r=e[1];return(0,Bt.useEffect)((function(){var t=(0,Zt.getVisitTypes)().subscribe((function(t){r(t)}),(function(t){return console.error(t)}));return function(){return t.unsubscribe()}}),[]),n},Mt=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},Ut=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dr,r=function(t){if(Array.isArray(t))return t}(t=(0,Bt.useState)(1))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||function(t,e){if(t){if("string"==typeof t)return Mt(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(t,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1],a=(0,Bt.useMemo)((function(){return"number"==typeof n&&n>0?Math.max(1,Math.ceil(e.length/n)):1}),[e.length,n]),u=(0,Bt.useMemo)((function(){var t=(o-1)*n,r=(o+0)*n;return e.slice(t,r)}),[e,o,n]),s=(0,Bt.useCallback)((function(t){i(Math.max(1,Math.min(a,t)))}),[i,a]),c=(0,Bt.useCallback)((function(){o<a&&i(o+1)}),[o,a,i]),l=(0,Bt.useCallback)((function(){o>1&&i(o-1)}),[o,i]);return(0,Bt.useMemo)((function(){return{results:u,totalPages:a,currentPage:o,paginated:e.length>n,showNextButton:o<a,showPreviousButton:o>1,goTo:s,goToNext:c,goToPrevious:l}}),[u,a,e.length,n,o,s,c,l])};g.r(b),g.d(b,{ComponentContext:function(){return Ft},ConfigurableLink:function(){return a},Extension:function(){return Kt},ExtensionSlot:function(){return I},UserHasAccess:function(){return Yt},createUseStore:function(){return E},getAsyncExtensionLifecycle:function(){return se},getAsyncLifecycle:function(){return z},getLifecycle:function(){return $},getSyncLifecycle:function(){return q},isDesktop:function(){return sr},openmrsComponentDecorator:function(){return W},useAbortController:function(){return Z},useAssignedExtensionIds:function(){return nt},useAssignedExtensions:function(){return _},useAttachments:function(){return rt},useBodyScrollLock:function(){return ot},useConfig:function(){return ct},useConnectedExtensions:function(){return P},useConnectivity:function(){return f},useDebounce:function(){return ft},useExtensionInternalStore:function(){return ur},useExtensionSlot:function(){return k},useExtensionSlotMeta:function(){return pt},useExtensionStore:function(){return zt},useFeatureFlag:function(){return ht},useForceUpdate:function(){return vt},useLayoutType:function(){return gt},useLocations:function(){return wt},useOnClickOutside:function(){return St},useOpenmrsSWR:function(){return Et},usePagination:function(){return Ut},usePatient:function(){return Ct},useRenderableExtensions:function(){return Tt},useSession:function(){return Dt},useStore:function(){return S},useStoreWithActions:function(){return O},useVisit:function(){return Nt},useVisitTypes:function(){return Lt}});var Bt=g(954),Ft=Bt.default.createContext({moduleName:"",featureName:""}),Ht=g(513),Vt=g(45),Kt=function(t){var e,n=t.state,o=t.children,i=t.wrap,a=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,["state","children","wrap"]),s=function(t){if(Array.isArray(t))return t}(e=(0,Bt.useState)())||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(t,e){if(t){if("string"==typeof t)return u(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=s[0],f=s[1],p=(0,Bt.useContext)(Ft).extension,h=(0,Bt.useRef)(null),d=(0,Bt.useRef)(Promise.resolve()),v=(0,Bt.useRef)(!1);(0,Bt.useEffect)((function(){i&&console.warn("'wrap' prop of Extension is being used ".concat((null==p?void 0:p.extensionId)?"by ".concat(p.extensionId," in ").concat(p.extensionSlotName):"",". This will be removed in a future release."))}),[]);var y=(0,Bt.useCallback)((function(t){f(t)}),[f]);(0,Bt.useEffect)((function(){if(null!=l&&(null==p?void 0:p.extensionSlotName)&&p.extensionSlotModuleName&&p.extensionSlotModuleName&&!h.current&&!v.current)return v.current=!0,(0,Vt.renderExtension)(l,p.extensionSlotName,p.extensionSlotModuleName,p.extensionId,void 0,n).then((function(t){h.current=t,v.current=!1})),function(){if(h&&h.current)switch(h.current.getStatus()){case"MOUNTING":h.current.mountPromise.then((function(){var t;"MOUNTED"===(null===(t=h.current)||void 0===t?void 0:t.getStatus())&&h.current.unmount()}));break;case"MOUNTED":h.current.unmount();break;case"UPDATING":d.current&&d.current.then((function(){var t;"MOUNTED"===(null===(t=h.current)||void 0===t?void 0:t.getStatus())&&h.current.unmount()}))}}}),[null==p?void 0:p.extensionSlotName,null==p?void 0:p.extensionId,null==p?void 0:p.extensionSlotModuleName,l]),(0,Bt.useEffect)((function(){h.current&&h.current.update&&"UNMOUNTING"!==h.current.getStatus()&&Promise.all([h.current.mountPromise,d.current]).then((function(){var t;"MOUNTED"===(null==h||null===(t=h.current)||void 0===t?void 0:t.getStatus())&&h.current.update&&(d.current=h.current.update(c({},n)).catch((function(t){var e,n,o;if(n=t,!(null!=(o=Error)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](n):r(n,o))||!t.message.includes("minified message #32")||"MOUNTED"===(null===(e=h.current)||void 0===e?void 0:e.getStatus()))throw t})))}))}),[n]);var m=Bt.default.createElement("div",c({ref:y,"data-extension-id":null==p?void 0:p.extensionId,style:{position:"relative"}},a));return"function"!=typeof o||Bt.default.isValidElement(o)?p&&i?i(m,p):m:Bt.default.createElement(Bt.default.Fragment,null,o(m,p))},Gt=g(728),Wt=g(385),$t=function(t){return t},zt=E((0,Vt.getExtensionStore)()),qt=g(708),Zt=g(766),Yt=function(t){var e,n=t.privilege,r=t.fallback,o=t.children,i=function(t){if(Array.isArray(t))return t}(e=(0,Bt.useState)(null))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(t,e){if(t){if("string"==typeof t)return D(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],u=i[1];return(0,Bt.useEffect)((function(){var t=(0,Zt.getCurrentUser)({includeAuthStatus:!1}).subscribe(u);return function(){return t.unsubscribe()}}),[]),a&&(0,Zt.userHasAccess)(n,a)?Bt.default.createElement(Bt.default.Fragment,null,o):r?Bt.default.createElement(Bt.default.Fragment,null,r):null},Jt=g(645);function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)})(t)}function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)})(t)}var te=null;try{te=n(268).createContext()}catch(N){}var ee={React:null,ReactDOM:null,ReactDOMClient:null,rootComponent:null,loadRootComponent:null,errorBoundary:null,errorBoundaryClass:null,domElementGetter:null,parcelCanUpdate:!0,suppressComponentDidCatchWarning:!1,domElements:{},renderResults:{},updateResolves:{},unmountResolves:{}},ne=g(281),re=g(725);function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},oe(t)}function ie(t,e){return ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ie(t,e)}var ae={strictMode:!0,throwErrorsToConsole:!0,disableTranslations:!1},ue={errorRetryCount:3,fetcher:Zt.openmrsFetch,focusThrottleInterval:3e4},se=z,ce=Z,le=function(t,e){return t===e||t!=t&&e!=e},fe=function(t,e){for(var n=t.length;n--;)if(le(t[n][0],e))return n;return-1},pe=Array.prototype.splice;Y.prototype.clear=function(){this.__data__=[],this.size=0},Y.prototype.delete=function(t){var e=this.__data__,n=fe(e,t);return!(n<0||(n==e.length-1?e.pop():pe.call(e,n,1),--this.size,0))},Y.prototype.get=function(t){var e=this.__data__,n=fe(e,t);return n<0?void 0:e[n][1]},Y.prototype.has=function(t){return fe(this.__data__,t)>-1},Y.prototype.set=function(t,e){var n=this.__data__,r=fe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var he,de=Y,ve="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ye="object"==typeof self&&self&&self.Object===Object&&self,me=ve||ye||Function("return this")(),ge=me.Symbol,be=Object.prototype,we=be.hasOwnProperty,Se=be.toString,Oe=ge?ge.toStringTag:void 0,Ee=Object.prototype.toString,_e=ge?ge.toStringTag:void 0,je=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_e&&_e in Object(t)?function(t){var e=we.call(t,Oe),n=t[Oe];try{t[Oe]=void 0;var r=!0}catch(t){}var o=Se.call(t);return r&&(e?t[Oe]=n:delete t[Oe]),o}(t):function(t){return Ee.call(t)}(t)},xe=function(t){var e=void 0===t?"undefined":o(t);return null!=t&&("object"==e||"function"==e)},Pe=function(t){if(!xe(t))return!1;var e=je(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},ke=me["__core-js_shared__"],Ae=(he=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+he:"",Ce=Function.prototype.toString,Te=function(t){if(null!=t){try{return Ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Ie=/^\[object .+?Constructor\]$/,De=Function.prototype,Ne=Object.prototype,Re=De.toString,Le=Ne.hasOwnProperty,Me=RegExp("^"+Re.call(Le).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!xe(t)||(e=t,Ae&&Ae in e))&&(Pe(t)?Me:Ie).test(Te(t));var e}(n)?n:void 0},Be=Ue(me,"Map"),Fe=Ue(Object,"create"),He=Object.prototype.hasOwnProperty,Ve=Object.prototype.hasOwnProperty;J.prototype.clear=function(){this.__data__=Fe?Fe(null):{},this.size=0},J.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},J.prototype.get=function(t){var e=this.__data__;if(Fe){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return He.call(e,t)?e[t]:void 0},J.prototype.has=function(t){var e=this.__data__;return Fe?void 0!==e[t]:Ve.call(e,t)},J.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Fe&&void 0===e?"__lodash_hash_undefined__":e,this};var Ke=J,Ge=function(t,e){var n,r,i=t.__data__;return("string"==(r=o(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map};X.prototype.clear=function(){this.size=0,this.__data__={hash:new Ke,map:new(Be||de),string:new Ke}},X.prototype.delete=function(t){var e=Ge(this,t).delete(t);return this.size-=e?1:0,e},X.prototype.get=function(t){return Ge(this,t).get(t)},X.prototype.has=function(t){return Ge(this,t).has(t)},X.prototype.set=function(t,e){var n=Ge(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var We=X;Q.prototype.clear=function(){this.__data__=new de,this.size=0},Q.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Q.prototype.get=function(t){return this.__data__.get(t)},Q.prototype.has=function(t){return this.__data__.has(t)},Q.prototype.set=function(t,e){var n=this.__data__;if(r(n,de)){var o=n.__data__;if(!Be||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new We(o)}return n.set(t,e),this.size=n.size,this};var $e=Q;tt.prototype.add=tt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},tt.prototype.has=function(t){return this.__data__.has(t)};var ze=tt,qe=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Ze=function(t,e,n,r,o,i){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(t),l=i.get(e);if(c&&l)return c==e&&l==t;var f=-1,p=!0,h=2&n?new ze:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var d=t[f],v=e[f];if(r)var y=a?r(v,d,f,e,t,i):r(d,v,f,t,e,i);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!qe(e,(function(t,e){if(a=e,!h.has(a)&&(d===t||o(d,t,n,r,i)))return h.push(e);var a}))){p=!1;break}}else if(d!==v&&!o(d,v,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p},Ye=me.Uint8Array,Je=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},Xe=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Qe=ge?ge.prototype:void 0,tn=Qe?Qe.valueOf:void 0,en=Array.isArray,nn=Object.prototype.propertyIsEnumerable,rn=Object.getOwnPropertySymbols,on=rn?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a)&&(i[o++]=a)}return i}(rn(t),(function(e){return nn.call(t,e)})))}:function(){return[]},an=function(t){return null!=t&&"object"==typeof t},un=function(t){return an(t)&&"[object Arguments]"==je(t)},sn=Object.prototype,cn=sn.hasOwnProperty,ln=sn.propertyIsEnumerable,fn=un(function(){return arguments}())?un:function(t){return an(t)&&cn.call(t,"callee")&&!ln.call(t,"callee")},pn=fn,hn=e&&!e.nodeType&&e,dn=hn&&t&&!t.nodeType&&t,vn=dn&&dn.exports===hn?me.Buffer:void 0,yn=(vn?vn.isBuffer:void 0)||function(){return!1},mn=/^(?:0|[1-9]\d*)$/,gn=function(t,e){var n=void 0===t?"undefined":o(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&mn.test(t))&&t>-1&&t%1==0&&t<e},bn=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},wn={};wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Arguments]"]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object Boolean]"]=wn["[object DataView]"]=wn["[object Date]"]=wn["[object Error]"]=wn["[object Function]"]=wn["[object Map]"]=wn["[object Number]"]=wn["[object Object]"]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object WeakMap]"]=!1;var Sn,On=e&&!e.nodeType&&e,En=On&&t&&!t.nodeType&&t,_n=En&&En.exports===On&&ve.process,jn=function(){try{return En&&En.require&&En.require("util").types||_n&&_n.binding&&_n.binding("util")}catch(t){}}(),xn=jn&&jn.isTypedArray,Pn=xn?(Sn=xn,function(t){return Sn(t)}):function(t){return an(t)&&bn(t.length)&&!!wn[je(t)]},kn=Object.prototype.hasOwnProperty,An=Object.prototype,Cn=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),Tn=Object.prototype.hasOwnProperty,In=function(t){return null!=(e=t)&&bn(e.length)&&!Pe(e)?function(t,e){var n=en(t),r=!n&&pn(t),o=!n&&!r&&yn(t),i=!n&&!r&&!o&&Pn(t),a=n||r||o||i,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=u.length;for(var c in t)!kn.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||gn(c,s))||u.push(c);return u}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||An))return Cn(t);var e,n,r=[];for(var o in Object(t))Tn.call(t,o)&&"constructor"!=o&&r.push(o);return r}(t);var e},Dn=function(t){return function(t,e,n){var r=e(t);return en(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,In,on)},Nn=Object.prototype.hasOwnProperty,Rn=Ue(me,"DataView"),Ln=Ue(me,"Promise"),Mn=Ue(me,"Set"),Un=Ue(me,"WeakMap"),Bn="[object Map]",Fn="[object Promise]",Hn="[object Set]",Vn="[object WeakMap]",Kn="[object DataView]",Gn=Te(Rn),Wn=Te(Be),$n=Te(Ln),zn=Te(Mn),qn=Te(Un),Zn=je;(Rn&&Zn(new Rn(new ArrayBuffer(1)))!=Kn||Be&&Zn(new Be)!=Bn||Ln&&Zn(Ln.resolve())!=Fn||Mn&&Zn(new Mn)!=Hn||Un&&Zn(new Un)!=Vn)&&(Zn=function(t){var e=je(t),n="[object Object]"==e?t.constructor:void 0,r=n?Te(n):"";if(r)switch(r){case Gn:return Kn;case Wn:return Bn;case $n:return Fn;case zn:return Hn;case qn:return Vn}return e});var Yn,Jn=Zn,Xn="[object Arguments]",Qn="[object Array]",tr="[object Object]",er=Object.prototype.hasOwnProperty,nr=function t(e,n,o,i,a){return e===n||(null==e||null==n||!an(e)&&!an(n)?e!=e&&n!=n:function(t,e,n,o,i,a){var u=en(t),s=en(e),c=u?Qn:Jn(t),l=s?Qn:Jn(e),f=(c=c==Xn?tr:c)==tr,p=(l=l==Xn?tr:l)==tr,h=c==l;if(h&&yn(t)){if(!yn(e))return!1;u=!0,f=!1}if(h&&!f)return a||(a=new $e),u||Pn(t)?Ze(t,e,n,o,i,a):function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Ye(t),new Ye(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return le(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Je;case"[object Set]":var s=1&r;if(u||(u=Xe),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=Ze(u(t),u(e),r,o,i,a);return a.delete(t),l;case"[object Symbol]":if(tn)return tn.call(t)==tn.call(e)}return!1}(t,e,c,n,o,i,a);if(!(1&n)){var d=f&&er.call(t,"__wrapped__"),v=p&&er.call(e,"__wrapped__");if(d||v){var y=d?t.value():t,m=v?e.value():e;return a||(a=new $e),i(y,m,n,o,a)}}return!!h&&(a||(a=new $e),function(t,e,n,o,i,a){var u=1&n,s=Dn(t),c=s.length;if(c!=Dn(e).length&&!u)return!1;for(var l=c;l--;){var f=s[l];if(!(u?f in e:Nn.call(e,f)))return!1}var p=a.get(t),h=a.get(e);if(p&&h)return p==e&&h==t;var d=!0;a.set(t,e),a.set(e,t);for(var v=u;++l<c;){var y=t[f=s[l]],m=e[f];if(o)var g=u?o(m,y,f,e,t,a):o(y,m,f,t,e,a);if(!(void 0===g?y===m||i(y,m,n,o,a):g)){d=!1;break}v||(v="constructor"==f)}if(d&&!v){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&r(b,b)&&"function"==typeof w&&r(w,w)||(d=!1)}return a.delete(t),a.delete(e),d}(t,e,n,o,i,a))}(e,n,o,i,t,a))},rr=function(t,e){return nr(t,e)},or=g(824),ir={},ar='No ComponentContext has been provided. This should come from "openmrsComponentDecorator".\nUsually this is already applied when using "getAsyncLifecycle" or "getSyncLifecycle".',ur=E((0,Vt.getExtensionInternalStore)()),sr=function(t){return"small-desktop"===t||"large-desktop"===t};!function(t){t.loadPatient="loadPatient",t.newPatient="newPatient",t.loadError="patientLoadError"}(Yn||(Yn={}));var cr,lr={patientUuid:null,patient:null,isPendingUuid:!0,isLoadingPatient:!1,err:null},fr=g(688),pr=g(332),hr=g.n(pr);fr.default.extend(hr());var dr=10}(),b}())}}}))},9760:(t,e,n)=>{"use strict";n.d(e,{Uo:()=>a,ZF:()=>l,Hs:()=>f,F:()=>r,n:()=>u,O$:()=>s});var r="openmrs-routes:";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i=(0,n(4507).canAccessStorage)();function a(t,e){if(i){if("string"==typeof e){if(e.startsWith("http"))return c(t,e);try{var n=JSON.parse(e);if(l(n))return c(t,n);console.error("The supplied routes for ".concat(t," is not a valid OpenmrsAppRoutes object"),e)}catch(e){console.error("Could not add routes override for ".concat(t,": "),e)}}else{if(r=e,null!=(o=URL)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](r):r instanceof o)return c(t,e.toString());if(l(e))return c(t,e)}var r,o;console.error("Override for ".concat(t," is not in a valid format. Expected either a Javascript Object, a JSON string of a Javascript object, or a URL"),e)}}function u(t){if(i){var e=r+t;localStorage.removeItem(e)}}function s(){if(i)for(var t=window.localStorage,e=0;e<t.length;e++){var n=t.key(e);(null==n?void 0:n.startsWith(r))&&t.removeItem(n)}}function c(t,e){var n=r+t;localStorage.setItem(n,JSON.stringify(e))}function l(t){if(t&&"object"==typeof t){var e=Object.prototype.hasOwnProperty,n=t;return!!(!e.call(t,"pages")||Boolean(n.pages)&&Array.isArray(n.pages))&&!!(!e.call(t,"extensions")||Boolean(n.extensions)&&Array.isArray(n.extensions))}return!1}function f(t){if(t&&"object"==typeof t){var e=t;return Object.entries(e).every((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],a=r[1];return"string"==typeof i&&l(a)}))}return!1}},9504:()=>{System.register([],(function(t,e){return{execute:function(){t(function(){"use strict";var t=function(t,e){var n=u[t];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(e,!0),n.active=!0,n.value;var r=a()((function(){return e}));return u[t]={value:r,active:!0},r},e=function(t,e){var n=u[t];if(!n){var r=a()((function(){return null!=e?e:{}}));return u[t]={value:r,active:!1},r}return n.value},n=function(t,e,n){var r=e(t.getState());return t.subscribe((function(t){var o=e(t);o!==r&&(r=o,n(o))}))},r={d:function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};r.r(o),r.d(o,{createGlobalStore:function(){return t},getGlobalStore:function(){return e},subscribeTo:function(){return n}});var i=function(t){var e,n=new Set,r=function(t,r){var o="function"==typeof t?t(e):t;if(!Object.is(o,e)){var i=e;e=(null!=r?r:"object"!=typeof o)?o:Object.assign({},e,o),n.forEach((function(t){return t(e,i)}))}},o=function(){return e},i={setState:r,getState:o,subscribe:function(t){return n.add(t),function(){return n.delete(t)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,o,i),i},a=function(t){return t?i(t):i},u={};return setTimeout((function(){"development"===window.spaEnv&&(window.stores=u)}),1e3),o}())}}}))},842:(t,e,n)=>{function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function u(t){o(a,r,i,u,s,"next",t)}function s(t){o(a,r,i,u,s,"throw",t)}u(void 0)}))}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){c(t,e,n[e])}))}return t}function p(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function y(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function m(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}t=n.nmd(t),System.register(["@openmrs/esm-extensions","@openmrs/esm-react-utils","@openmrs/esm-state","@openmrs/esm-translations","dayjs","i18next","react","react-dom","rxjs"],(function(r,o){var u={},y={},g={},b={},w={},S={},O={},E={},j={};return Object.defineProperty(O,"__esModule",{value:!0}),Object.defineProperty(E,"__esModule",{value:!0}),{setters:[function(t){u.getExtensionInternalStore=t.getExtensionInternalStore,u.getExtensionStore=t.getExtensionStore},function(){},function(t){g.createGlobalStore=t.createGlobalStore,g.getGlobalStore=t.getGlobalStore},function(){},function(t){w.default=t.default},function(t){S.default=t.default},function(t){Object.keys(t).forEach((function(e){O[e]=t[e]}))},function(t){Object.keys(t).forEach((function(e){E[e]=t[e]}))},function(t){j.BehaviorSubject=t.BehaviorSubject,j.Subject=t.Subject}],execute:function(){r(function(){var r={976:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var t,e=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i){var a=void 0===i?"undefined":(t=i)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":void 0===t?"undefined":v(t);if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)){if(i.length){var u=o.apply(null,i);u&&e.push(u)}}else if("object"===a){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var s in i)r.call(i,s)&&i[s]&&e.push(s)}}}return e.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)}()},701:function(t){t.exports=function(){"use strict";return function(t,e,n){e.prototype.isToday=function(){var t="YYYY-MM-DD",e=n();return this.format(t)===e.format(t)}}}()},353:function(t,e,n){!function(e){"use strict";var r=function(t){return function(e,n){return"object"==typeof e&&(n=e,e=null),null==e&&(e=(new Date).toString()),n||(n={}),t.call(this,e,n)}},o=n(42),i=t.exports={generate:r((function(t,e){return new o(t,e)}))};e&&(e.fn.geopattern=r((function(t,n){return this.each((function(){var r=e(this).attr("data-title-sha");r&&(n=e.extend({hash:r},n));var o=i.generate(t,n);e(this).css("background-image",o.toDataUrl())}))})))}("undefined"!=typeof jQuery?jQuery:null)},851:function(t){"use strict";t.exports={hex2rgb:function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},rgb2hex:function(t){return"#"+["r","g","b"].map((function(e){return("0"+t[e].toString(16)).slice(-2)})).join("")},rgb2hsl:function(t){var e=t.r,n=t.g,r=t.b;e/=255,n/=255,r/=255;var o,i,a=Math.max(e,n,r),u=Math.min(e,n,r),s=(a+u)/2;if(a===u)o=i=0;else{var c=a-u;switch(i=s>.5?c/(2-a-u):c/(a+u),a){case e:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-e)/c+2;break;case r:o=(e-n)/c+4}o/=6}return{h:o,s:i,l:s}},hsl2rgb:function(t){var e,n,r,o=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},i=t.h,a=t.s,u=t.l;if(0===a)e=n=r=u;else{var s=u<.5?u*(1+a):u+a-u*a,c=2*u-s;e=o(c,s,i+1/3),n=o(c,s,i),r=o(c,s,i-1/3)}return{r:Math.round(255*e),g:Math.round(255*n),b:Math.round(255*r)}},rgb2rgbString:function(t){return"rgb("+[t.r,t.g,t.b].join(",")+")"}}},42:function(t,e,n){"use strict";var r=function(t,e,n){return parseInt(t.substr(e,n||1),16)},o=function(t,e,n,r,o){return(parseFloat(t)-e)*(o-r)/(n-e)+r},i=function(t){return t%2==0?g:m},a=function(t){return o(t,0,15,S,O)},u=function(t){return[[t,0,t,3*t],[0,t,3*t,t]]},s=function(t){return[0,0,t,t,0,t,0,0].join(",")},c=function(t,e,n,r,o){var u=s(r),c=a(o[0]),l=i(o[0]),f={stroke:b,"stroke-opacity":w,"fill-opacity":c,fill:l};t.polyline(u,f).transform({translate:[e+r,n],scale:[-1,1]}),t.polyline(u,f).transform({translate:[e+r,n+2*r],scale:[1,-1]}),c=a(o[1]),l=i(o[1]),f={stroke:b,"stroke-opacity":w,"fill-opacity":c,fill:l},t.polyline(u,f).transform({translate:[e+r,n+2*r],scale:[-1,-1]}),t.polyline(u,f).transform({translate:[e+r,n],scale:[1,1]})},l=function(t,e,n,r,o){var u=a(o),c=i(o),l=s(r),f={stroke:b,"stroke-opacity":w,"fill-opacity":u,fill:c};t.polyline(l,f).transform({translate:[e,n+r],scale:[1,-1]}),t.polyline(l,f).transform({translate:[e+2*r,n+r],scale:[-1,-1]}),t.polyline(l,f).transform({translate:[e,n+r],scale:[1,1]}),t.polyline(l,f).transform({translate:[e+2*r,n+r],scale:[-1,1]})},f=n(495),p=n(851),h=n(451),d=n(138),v={baseColor:"#933c3c"},y=["octogons","overlappingCircles","plusSigns","xes","sineWaves","hexagons","overlappingRings","plaid","triangles","squares","concentricCircles","diamonds","tessellation","nestedSquares","mosaicSquares","chevrons"],m="#222",g="#ddd",b="#000",w=.02,S=.02,O=.15,E=t.exports=function(t,e){return this.opts=f({},v,e),this.hash=e.hash||h(t),this.svg=new d,this.generateBackground(),this.generatePattern(),this};E.prototype.toSvg=function(){return this.svg.toString()},E.prototype.toString=function(){return this.toSvg()},E.prototype.toBase64=function(){var t=this.toSvg();return"undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa(t):new Buffer(t).toString("base64")},E.prototype.toDataUri=function(){return"data:image/svg+xml;base64,"+this.toBase64()},E.prototype.toDataUrl=function(){return'url("'+this.toDataUri()+'")'},E.prototype.generateBackground=function(){var t,e,n,i;this.opts.color?n=p.hex2rgb(this.opts.color):(e=o(r(this.hash,14,3),0,4095,0,359),i=r(this.hash,17),(t=p.rgb2hsl(p.hex2rgb(this.opts.baseColor))).h=(360*t.h-e+360)%360/360,t.s=i%2==0?Math.min(1,(100*t.s+i)/100):Math.max(0,(100*t.s-i)/100),n=p.hsl2rgb(t)),this.color=p.rgb2hex(n),this.svg.rect(0,0,"100%","100%",{fill:p.rgb2rgbString(n)})},E.prototype.generatePattern=function(){var t=this.opts.generator;if(t){if(y.indexOf(t)<0)throw new Error("The generator "+t+" does not exist.")}else t=y[r(this.hash,20)];return this["geo"+t.slice(0,1).toUpperCase()+t.slice(1)]()},E.prototype.geoHexagons=function(){var t,e,n,u,s,c,l,f=o(r(this.hash,0),0,15,8,60),p=f*Math.sqrt(3),h=2*f,d=function(t){var e=t,n=e/2,r=Math.sin(60*Math.PI/180)*e;return[0,r,n,0,n+e,0,2*e,r,n+e,2*r,n,2*r,0,r].join(",")}(f);for(this.svg.setWidth(3*h+3*f),this.svg.setHeight(6*p),e=0,l=0;l<6;l++)for(c=0;c<6;c++)t=c%2==0?l*p:l*p+p/2,n=a(s=r(this.hash,e)),u={fill:i(s),"fill-opacity":n,stroke:b,"stroke-opacity":w},this.svg.polyline(d,u).transform({translate:[c*f*1.5-h/2,t-p/2]}),0===c&&this.svg.polyline(d,u).transform({translate:[6*f*1.5-h/2,t-p/2]}),0===l&&(t=c%2==0?6*p:6*p+p/2,this.svg.polyline(d,u).transform({translate:[c*f*1.5-h/2,t-p/2]})),0===c&&0===l&&this.svg.polyline(d,u).transform({translate:[6*f*1.5-h/2,5*p+p/2]}),e++},E.prototype.geoSineWaves=function(){var t,e,n,u,s,c,l=Math.floor(o(r(this.hash,0),0,15,100,400)),f=Math.floor(o(r(this.hash,1),0,15,30,100)),p=Math.floor(o(r(this.hash,2),0,15,3,30));for(this.svg.setWidth(l),this.svg.setHeight(36*p),t=0;t<36;t++)e=a(s=r(this.hash,t)),u={fill:"none",stroke:i(s),opacity:e,"stroke-width":p+"px"},n="M0 "+f+" C "+(c=l/4*.7)+" 0, "+(l/2-c)+" 0, "+l/2+" "+f+" S "+(l-c)+" "+2*f+", "+l+" "+f+" S "+(1.5*l-c)+" 0, "+1.5*l+", "+f,this.svg.path(n,u).transform({translate:[-l/4,p*t-1.5*f]}),this.svg.path(n,u).transform({translate:[-l/4,p*t-1.5*f+36*p]})},E.prototype.geoChevrons=function(){var t,e,n,u,s,c,l,f,p,h,d=o(r(this.hash,0),0,15,30,80),v=o(r(this.hash,0),0,15,30,80),y=[[0,0,(t=d)/2,(e=v)-(n=.66*e),t/2,e,0,n,0,0],[t/2,e-n,t,0,t,n,t/2,e,t/2,e-n]].map((function(t){return t.join(",")}));for(this.svg.setWidth(6*d),this.svg.setHeight(6*v*.66),s=0,h=0;h<6;h++)for(p=0;p<6;p++)c=a(f=r(this.hash,s)),u=i(f),l={stroke:b,"stroke-opacity":w,fill:u,"fill-opacity":c,"stroke-width":1},this.svg.group(l).transform({translate:[p*d,h*v*.66-v/2]}).polyline(y).end(),0===h&&this.svg.group(l).transform({translate:[p*d,6*v*.66-v/2]}).polyline(y).end(),s+=1},E.prototype.geoPlusSigns=function(){var t,e,n,s,c,l,f,p=o(r(this.hash,0),0,15,10,25),h=3*p,d=u(p);for(this.svg.setWidth(12*p),this.svg.setHeight(12*p),e=0,f=0;f<6;f++)for(l=0;l<6;l++)n=a(c=r(this.hash,e)),t=f%2==0?0:1,s={fill:i(c),stroke:b,"stroke-opacity":w,"fill-opacity":n},this.svg.group(s).transform({translate:[l*h-l*p+t*p-p,f*h-f*p-h/2]}).rect(d).end(),0===l&&this.svg.group(s).transform({translate:[4*h-l*p+t*p-p,f*h-f*p-h/2]}).rect(d).end(),0===f&&this.svg.group(s).transform({translate:[l*h-l*p+t*p-p,4*h-f*p-h/2]}).rect(d).end(),0===l&&0===f&&this.svg.group(s).transform({translate:[4*h-l*p+t*p-p,4*h-f*p-h/2]}).rect(d).end(),e++},E.prototype.geoXes=function(){var t,e,n,s,c,l,f,p=o(r(this.hash,0),0,15,10,25),h=u(p),d=3*p*.943;for(this.svg.setWidth(3*d),this.svg.setHeight(3*d),e=0,f=0;f<6;f++)for(l=0;l<6;l++)n=a(c=r(this.hash,e)),t=l%2==0?f*d-.5*d:f*d-.5*d+d/4,s={fill:i(c),opacity:n},this.svg.group(s).transform({translate:[l*d/2-d/2,t-f*d/2],rotate:[45,d/2,d/2]}).rect(h).end(),0===l&&this.svg.group(s).transform({translate:[6*d/2-d/2,t-f*d/2],rotate:[45,d/2,d/2]}).rect(h).end(),0===f&&(t=l%2==0?6*d-d/2:6*d-d/2+d/4,this.svg.group(s).transform({translate:[l*d/2-d/2,t-6*d/2],rotate:[45,d/2,d/2]}).rect(h).end()),5===f&&this.svg.group(s).transform({translate:[l*d/2-d/2,t-11*d/2],rotate:[45,d/2,d/2]}).rect(h).end(),0===l&&0===f&&this.svg.group(s).transform({translate:[6*d/2-d/2,t-6*d/2],rotate:[45,d/2,d/2]}).rect(h).end(),e++},E.prototype.geoOverlappingCircles=function(){var t,e,n,u,s,c,l=o(r(this.hash,0),0,15,25,200)/2;for(this.svg.setWidth(6*l),this.svg.setHeight(6*l),t=0,c=0;c<6;c++)for(s=0;s<6;s++)e=a(u=r(this.hash,t)),n={fill:i(u),opacity:e},this.svg.circle(s*l,c*l,l,n),0===s&&this.svg.circle(6*l,c*l,l,n),0===c&&this.svg.circle(s*l,6*l,l,n),0===s&&0===c&&this.svg.circle(6*l,6*l,l,n),t++},E.prototype.geoOctogons=function(){var t,e,n,u,s,c,l=o(r(this.hash,0),0,15,10,60),f=function(t){var e=.33*t;return[e,0,t-e,0,t,e,t,t-e,t-e,t,e,t,0,t-e,0,e,e,0].join(",")}(l);for(this.svg.setWidth(6*l),this.svg.setHeight(6*l),e=0,c=0;c<6;c++)for(s=0;s<6;s++)n=a(u=r(this.hash,e)),t=i(u),this.svg.polyline(f,{fill:t,"fill-opacity":n,stroke:b,"stroke-opacity":w}).transform({translate:[s*l,c*l]}),e+=1},E.prototype.geoSquares=function(){var t,e,n,u,s,c,l=o(r(this.hash,0),0,15,10,60);for(this.svg.setWidth(6*l),this.svg.setHeight(6*l),e=0,c=0;c<6;c++)for(s=0;s<6;s++)n=a(u=r(this.hash,e)),t=i(u),this.svg.rect(s*l,c*l,l,l,{fill:t,"fill-opacity":n,stroke:b,"stroke-opacity":w}),e+=1},E.prototype.geoConcentricCircles=function(){var t,e,n,u,s,c,l=o(r(this.hash,0),0,15,10,60),f=l/5;for(this.svg.setWidth(6*(l+f)),this.svg.setHeight(6*(l+f)),e=0,c=0;c<6;c++)for(s=0;s<6;s++)n=a(u=r(this.hash,e)),t=i(u),this.svg.circle(s*l+s*f+(l+f)/2,c*l+c*f+(l+f)/2,l/2,{fill:"none",stroke:t,opacity:n,"stroke-width":f+"px"}),n=a(u=r(this.hash,39-e)),t=i(u),this.svg.circle(s*l+s*f+(l+f)/2,c*l+c*f+(l+f)/2,l/4,{fill:t,"fill-opacity":n}),e+=1},E.prototype.geoOverlappingRings=function(){var t,e,n,u,s,c,l=o(r(this.hash,0),0,15,10,60),f=l/4;for(this.svg.setWidth(6*l),this.svg.setHeight(6*l),t=0,c=0;c<6;c++)for(s=0;s<6;s++)e=a(u=r(this.hash,t)),n={fill:"none",stroke:i(u),opacity:e,"stroke-width":f+"px"},this.svg.circle(s*l,c*l,l-f/2,n),0===s&&this.svg.circle(6*l,c*l,l-f/2,n),0===c&&this.svg.circle(s*l,6*l,l-f/2,n),0===s&&0===c&&this.svg.circle(6*l,6*l,l-f/2,n),t+=1},E.prototype.geoTriangles=function(){var t,e,n,u,s,c,l,f=o(r(this.hash,0),0,15,15,80),p=f/2*Math.sqrt(3),h=function(t,e){var n=t/2;return[n,0,t,e,0,e,n,0].join(",")}(f,p);for(this.svg.setWidth(3*f),this.svg.setHeight(6*p),t=0,l=0;l<6;l++)for(c=0;c<6;c++)e=a(s=r(this.hash,t)),u={fill:i(s),"fill-opacity":e,stroke:b,"stroke-opacity":w},n=l%2==0?c%2==0?180:0:c%2!=0?180:0,this.svg.polyline(h,u).transform({translate:[c*f*.5-f/2,p*l],rotate:[n,f/2,p/2]}),0===c&&this.svg.polyline(h,u).transform({translate:[6*f*.5-f/2,p*l],rotate:[n,f/2,p/2]}),t+=1},E.prototype.geoDiamonds=function(){var t,e,n,u,s,c,l,f,p,h=o(r(this.hash,0),0,15,10,50),d=o(r(this.hash,1),0,15,10,50),v=[(t=h)/2,0,t,(e=d)/2,t/2,e,0,e/2].join(",");for(this.svg.setWidth(6*h),this.svg.setHeight(3*d),u=0,p=0;p<6;p++)for(f=0;f<6;f++)s=a(l=r(this.hash,u)),c={fill:i(l),"fill-opacity":s,stroke:b,"stroke-opacity":w},n=p%2==0?0:h/2,this.svg.polyline(v,c).transform({translate:[f*h-h/2+n,d/2*p-d/2]}),0===f&&this.svg.polyline(v,c).transform({translate:[6*h-h/2+n,d/2*p-d/2]}),0===p&&this.svg.polyline(v,c).transform({translate:[f*h-h/2+n,d/2*6-d/2]}),0===f&&0===p&&this.svg.polyline(v,c).transform({translate:[6*h-h/2+n,d/2*6-d/2]}),u+=1},E.prototype.geoNestedSquares=function(){var t,e,n,u,s,c,l=o(r(this.hash,0),0,15,4,12),f=7*l;for(this.svg.setWidth(6*(f+l)+6*l),this.svg.setHeight(6*(f+l)+6*l),t=0,c=0;c<6;c++)for(s=0;s<6;s++)e=a(u=r(this.hash,t)),n={fill:"none",stroke:i(u),opacity:e,"stroke-width":l+"px"},this.svg.rect(s*f+s*l*2+l/2,c*f+c*l*2+l/2,f,f,n),e=a(u=r(this.hash,39-t)),n={fill:"none",stroke:i(u),opacity:e,"stroke-width":l+"px"},this.svg.rect(s*f+s*l*2+l/2+2*l,c*f+c*l*2+l/2+2*l,3*l,3*l,n),t+=1},E.prototype.geoMosaicSquares=function(){var t,e,n,i=o(r(this.hash,0),0,15,15,50);for(this.svg.setWidth(8*i),this.svg.setHeight(8*i),t=0,n=0;n<4;n++)for(e=0;e<4;e++)e%2==0?n%2==0?l(this.svg,e*i*2,n*i*2,i,r(this.hash,t)):c(this.svg,e*i*2,n*i*2,i,[r(this.hash,t),r(this.hash,t+1)]):n%2==0?c(this.svg,e*i*2,n*i*2,i,[r(this.hash,t),r(this.hash,t+1)]):l(this.svg,e*i*2,n*i*2,i,r(this.hash,t)),t+=1},E.prototype.geoPlaid=function(){var t,e,n,o,u,s,c=0,l=0;for(e=0;e<36;)c+=r(this.hash,e)+5,n=a(s=r(this.hash,e+1)),t=i(s),o=s+5,this.svg.rect(0,c,"100%",o,{opacity:n,fill:t}),c+=o,e+=2;for(e=0;e<36;)l+=r(this.hash,e)+5,n=a(s=r(this.hash,e+1)),t=i(s),u=s+5,this.svg.rect(l,0,u,"100%",{opacity:n,fill:t}),l+=u,e+=2;this.svg.setWidth(l),this.svg.setHeight(c)},E.prototype.geoTessellation=function(){var t,e,n,u,s,c=o(r(this.hash,0),0,15,5,40),l=c*Math.sqrt(3),f=2*c,p=c/2*Math.sqrt(3),h=function(t,e){return[0,0,e,t/2,0,t,0,0].join(",")}(c,p),d=3*c+2*p,v=2*l+2*c;for(this.svg.setWidth(d),this.svg.setHeight(v),e=0;e<20;e++)switch(n=a(s=r(this.hash,e)),t=i(s),u={stroke:b,"stroke-opacity":w,fill:t,"fill-opacity":n,"stroke-width":1},e){case 0:this.svg.rect(-c/2,-c/2,c,c,u),this.svg.rect(d-c/2,-c/2,c,c,u),this.svg.rect(-c/2,v-c/2,c,c,u),this.svg.rect(d-c/2,v-c/2,c,c,u);break;case 1:this.svg.rect(f/2+p,l/2,c,c,u);break;case 2:this.svg.rect(-c/2,v/2-c/2,c,c,u),this.svg.rect(d-c/2,v/2-c/2,c,c,u);break;case 3:this.svg.rect(f/2+p,1.5*l+c,c,c,u);break;case 4:this.svg.polyline(h,u).transform({translate:[c/2,-c/2],rotate:[0,c/2,p/2]}),this.svg.polyline(h,u).transform({translate:[c/2,v- -c/2],rotate:[0,c/2,p/2],scale:[1,-1]});break;case 5:this.svg.polyline(h,u).transform({translate:[d-c/2,-c/2],rotate:[0,c/2,p/2],scale:[-1,1]}),this.svg.polyline(h,u).transform({translate:[d-c/2,v+c/2],rotate:[0,c/2,p/2],scale:[-1,-1]});break;case 6:this.svg.polyline(h,u).transform({translate:[d/2+c/2,l/2]});break;case 7:this.svg.polyline(h,u).transform({translate:[d-d/2-c/2,l/2],scale:[-1,1]});break;case 8:this.svg.polyline(h,u).transform({translate:[d/2+c/2,v-l/2],scale:[1,-1]});break;case 9:this.svg.polyline(h,u).transform({translate:[d-d/2-c/2,v-l/2],scale:[-1,-1]});break;case 10:this.svg.polyline(h,u).transform({translate:[c/2,v/2-c/2]});break;case 11:this.svg.polyline(h,u).transform({translate:[d-c/2,v/2-c/2],scale:[-1,1]});break;case 12:this.svg.rect(0,0,c,c,u).transform({translate:[c/2,c/2],rotate:[-30,0,0]});break;case 13:this.svg.rect(0,0,c,c,u).transform({scale:[-1,1],translate:[c/2-d,c/2],rotate:[-30,0,0]});break;case 14:this.svg.rect(0,0,c,c,u).transform({translate:[c/2,v/2-c/2-c],rotate:[30,0,c]});break;case 15:this.svg.rect(0,0,c,c,u).transform({scale:[-1,1],translate:[c/2-d,v/2-c/2-c],rotate:[30,0,c]});break;case 16:this.svg.rect(0,0,c,c,u).transform({scale:[1,-1],translate:[c/2,v/2-v-c/2-c],rotate:[30,0,c]});break;case 17:this.svg.rect(0,0,c,c,u).transform({scale:[-1,-1],translate:[c/2-d,v/2-v-c/2-c],rotate:[30,0,c]});break;case 18:this.svg.rect(0,0,c,c,u).transform({scale:[1,-1],translate:[c/2,c/2-v],rotate:[-30,0,0]});break;case 19:this.svg.rect(0,0,c,c,u).transform({scale:[-1,-1],translate:[c/2-d,c/2-v],rotate:[-30,0,0]})}}},451:function(t){"use strict";var e=function(){var t=function(){for(var t=16;t<80;t++){var e=s[t-3]^s[t-8]^s[t-14]^s[t-16];s[t]=e<<1|e>>>31}var n,l,f=r,p=o,h=i,d=a,v=u;for(t=0;t<80;t++){t<20?(n=d^p&(h^d),l=1518500249):t<40?(n=p^h^d,l=1859775393):t<60?(n=p&h|d&(p|h),l=2400959708):(n=p^h^d,l=3395469782);var y=(f<<5|f>>>27)+n+v+l+(0|s[t]);v=d,d=h,h=p<<30|p>>>2,p=f,f=y}for(r=r+f|0,o=o+p|0,i=i+h|0,a=a+d|0,u=u+v|0,c=0,t=0;t<16;t++)s[t]=0},e=function(e){s[c]|=(255&e)<<l,l?l-=8:(c++,l=24),16===c&&t()},n=function(t){for(var e="",n=28;n>=0;n-=4)e+=(t>>n&15).toString(16);return e},r=1732584193,o=4023233417,i=2562383102,a=271733878,u=3285377520,s=new Uint32Array(80),c=0,l=24,f=0;return{update:function(t){if("string"==typeof t)return function(t){var n=t.length;f+=8*n;for(var r=0;r<n;r++)e(t.charCodeAt(r))}(t);var n=t.length;f+=8*n;for(var r=0;r<n;r++)e(t[r])},digest:function(){e(128),(c>14||14===c&&l<24)&&t(),c=14,l=24,e(0),e(0),e(f>0xffffffffff?f/1099511627776:0),e(f>4294967295?f/4294967296:0);for(var s=24;s>=0;s-=8)e(f>>s);return n(r)+n(o)+n(i)+n(a)+n(u)}}};t.exports=function(t){if(void 0===t)return e();var n=e();return n.update(t),n.digest()}},138:function(t,e,n){"use strict";var r=function(){return this.width=100,this.height=100,this.svg=i("svg"),this.context=[],this.setAttributes(this.svg,{xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height}),this},o=n(495),i=n(97);t.exports=r,r.prototype.currentContext=function(){return this.context[this.context.length-1]||this.svg},r.prototype.end=function(){return this.context.pop(),this},r.prototype.currentNode=function(){var t=this.currentContext();return t.lastChild||t},r.prototype.transform=function(t){return this.currentNode().setAttribute("transform",Object.keys(t).map((function(e){return e+"("+t[e].join(",")+")"})).join(" ")),this},r.prototype.setAttributes=function(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))},r.prototype.setWidth=function(t){this.svg.setAttribute("width",Math.floor(t))},r.prototype.setHeight=function(t){this.svg.setAttribute("height",Math.floor(t))},r.prototype.toString=function(){return this.svg.toString()},r.prototype.rect=function(t,e,n,r,a){var u=this;if(Array.isArray(t))return t.forEach((function(t){u.rect.apply(u,t.concat(a))})),this;var s=i("rect");return this.currentContext().appendChild(s),this.setAttributes(s,o({x:t,y:e,width:n,height:r},a)),this},r.prototype.circle=function(t,e,n,r){var a=i("circle");return this.currentContext().appendChild(a),this.setAttributes(a,o({cx:t,cy:e,r:n},r)),this},r.prototype.path=function(t,e){var n=i("path");return this.currentContext().appendChild(n),this.setAttributes(n,o({d:t},e)),this},r.prototype.polyline=function(t,e){var n=this;if(Array.isArray(t))return t.forEach((function(t){n.polyline(t,e)})),this;var r=i("polyline");return this.currentContext().appendChild(r),this.setAttributes(r,o({points:t},e)),this},r.prototype.group=function(t){var e=i("g");return this.currentContext().appendChild(e),this.context.push(e),this.setAttributes(e,o({},t)),this}},97:function(t){"use strict";var e=t.exports=function(t){return(null!=(n=e)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](this):l(this,n))?(this.tagName=t,this.attributes=Object.create(null),this.children=[],this.lastChild=null,this):new e(t);var n};e.prototype.appendChild=function(t){return this.children.push(t),this.lastChild=t,this},e.prototype.setAttribute=function(t,e){return this.attributes[t]=e,this},e.prototype.toString=function(){var t=this;return["<",t.tagName,Object.keys(t.attributes).map((function(e){return[" ",e,'="',t.attributes[e],'"'].join("")})).join(""),">",t.children.map((function(t){return t.toString()})).join(""),"</",t.tagName,">"].join("")}},495:function(t){var e=function(t){if(!t||"[object Object]"!==r.call(t)||t.nodeType||t.setInterval)return!1;var e,o=n.call(t,"constructor"),i=n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!i)return!1;for(e in t);return void 0===e||n.call(t,e)},n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function t(){var n,r,o,i,a,u,s=arguments[0]||{},c=1,l=arguments.length,f=!1;for("boolean"==typeof s&&(f=s,s=arguments[1]||{},c=2),"object"!=typeof s&&"function"!=typeof s&&(s={});c<l;c++)if(null!=(n=arguments[c]))for(r in n)o=s[r],s!==(i=n[r])&&(f&&i&&(e(i)||(a=Array.isArray(i)))?(a?(a=!1,u=o&&Array.isArray(o)?o:[]):u=o&&e(o)?o:{},s[r]=t(f,u,i)):void 0!==i&&(s[r]=i));return s}},279:function(t,e,n){"use strict";var r=n(493);r.createRoot,r.hydrateRoot},978:function(t,e,n){"use strict";var r=function(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i(t,n)}catch(t){return!0}},o=n(954),i="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},a=o.useState,u=o.useEffect,s=o.useLayoutEffect,c=o.useDebugValue,l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),o=a({inst:{value:n,getSnapshot:e}}),i=o[0].inst,l=o[1];return s((function(){i.value=n,i.getSnapshot=e,r(i)&&l({inst:i})}),[t,n,e]),u((function(){return r(i)&&l({inst:i}),t((function(){r(i)&&l({inst:i})}))}),[t]),c(n),n};e.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:l},921:function(t,e,n){"use strict";t.exports=n(978)},641:function(t,e,n){var r=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},o=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},i=function(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):l(t,e)},a=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":void 0===t?"undefined":v(t)};System.register(["@openmrs/esm-config","@openmrs/esm-navigation","@openmrs/esm-error-handling","@openmrs/esm-offline"],(function(t,e){var u={},s={},c={},l={};return{setters:[function(t){u.Type=t.Type,u.defineConfigSchema=t.defineConfigSchema,u.getConfig=t.getConfig,u.validators=t.validators},function(t){s.navigate=t.navigate},function(t){c.reportError=t.reportError},function(t){l.getSynchronizationItems=t.getSynchronizationItems}],execute:function(){t(function(){var t={385:function(){System.register([],(function(t,e){return{execute:function(){t(function(){"use strict";var t=function(t,e){var n=u[t];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(e,!0),n.active=!0,n.value;var r=a()((function(){return e}));return u[t]={value:r,active:!0},r},e=function(t,e){var n=u[t];if(!n){var r=a()((function(){return null!=e?e:{}}));return u[t]={value:r,active:!1},r}return n.value},n=function(t,e,n){var r=e(t.getState());return t.subscribe((function(t){var o=e(t);o!==r&&(r=o,n(o))}))},r={d:function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};r.r(o),r.d(o,{createGlobalStore:function(){return t},getGlobalStore:function(){return e},subscribeTo:function(){return n}});var i=function(t){var e,n=new Set,r=function(t,r){var o="function"==typeof t?t(e):t;if(!Object.is(o,e)){var i=e;e=(null!=r?r:"object"!=typeof o)?o:Object.assign({},e,o),n.forEach((function(t){return t(e,i)}))}},o=function(){return e},i={setState:r,getState:o,subscribe:function(t){return n.add(t),function(){return n.delete(t)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,o,i),i},a=function(t){return t?i(t):i},u={};return setTimeout((function(){"development"===window.spaEnv&&(window.stores=u)}),1e3),o}())}}}))},824:function(t){"use strict";t.exports=u},254:function(t){"use strict";t.exports=c},513:function(t){"use strict";t.exports=s},738:function(t){"use strict";t.exports=l}},e={};function f(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,f),o.exports}f.d=function(t,e){for(var n in e)f.o(e,n)&&!f.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},f.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},f.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var p={};return function(){"use strict";var t=function(t,e){function n(){this.constructor=t}se(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},e=function(t){return"function"==typeof t},u=function(t){setTimeout((function(){throw t}),0)},s=function(t){return null!==t&&"object"==typeof t},c=function(t){return t.reduce((function(t,e){return t.concat(i(e,de)?e.errors:e)}),[])},l=function(t){return t},h=function(t){if(t||(t=le.Promise||Promise),!t)throw new Error("no Promise impl found");return t},d=function(t,e,n){var r=g(t,e,n);Ge.length?Ge.forEach((function(t){return t(r)})):setTimeout((function(){throw r}))},v=function(t){if("function"!=typeof t)throw Error(m(28,!1));Ge.push(t)},y=function(t){if("function"!=typeof t)throw Error(m(29,!1));var e=!1;return Ge=Ge.filter((function(n){var r=n===t;return e=e||r,!r})),e},m=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"single-spa minified message #".concat(t,": ").concat(e?e+" ":"","See https://single-spa.js.org/error/?code=").concat(t).concat(r.length?"&arg=".concat(r.join("&arg=")):"")},g=function(t,e,n){var r,o="".concat(E(e)," '").concat(S(e),"' died in status ").concat(e.status,": ");if(i(t,Error)){try{t.message=o+t.message}catch(t){}r=t}else{console.warn(m(30,!1,e.status,S(e)));try{r=Error(o+JSON.stringify(t))}catch(e){r=t}}return r.appOrParcelName=S(e),e.status=n,r},b=function(t){return t.status===Je},w=function(t){try{return t.activeWhen(window.location)}catch(e){return d(e,t,nn),!1}},S=function(t){return t.name},O=function(t){return Boolean(t.unmountThisParcel)},E=function(t){return O(t)?"parcel":"application"},_=function(){for(var t=arguments.length-1;t>0;t--)for(var e in arguments[t])"__proto__"!==e&&(arguments[t-1][e]=arguments[t][e]);return arguments[0]},j=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},x=function(t){return t&&("function"==typeof t||(e=t,Array.isArray(e)&&!j(e,(function(t){return"function"!=typeof t}))));var e},P=function(t,e){var n=t[e]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var r=E(t),o=S(t);return function(t){return n.reduce((function(n,i,a){return n.then((function(){var n=i(t);return k(n)?n:Promise.reject(m(15,!1,r,o,e,a))}))}),Promise.resolve())}},k=function(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch},A=function(t,e){return Promise.resolve().then((function(){return t.status!==ze?t:(t.status=qe,t.bootstrap?F(t,"bootstrap").then(n).catch((function(n){if(e)throw g(n,t,nn);return d(n,t,nn),t})):Promise.resolve().then(n))}));function n(){return t.status=Ze,t}},C=function(t,e){return Promise.resolve().then((function(){if(t.status!==Je)return t;t.status=Qe;var n=Object.keys(t.parcels).map((function(e){return t.parcels[e].unmountThisParcel()}));return Promise.all(n).then(r,(function(n){return r().then((function(){var r=Error(n.message);if(e)throw g(r,t,nn);d(r,t,nn)}))})).then((function(){return t}));function r(){return F(t,"unmount").then((function(){t.status=Ze}),(function(n){if(e)throw g(n,t,nn);d(n,t,nn)}))}}))},T=function(t,e){return Promise.resolve().then((function(){return t.status!==Ze?t:(on||(window.dispatchEvent(new Ke("single-spa:before-first-mount")),on=!0),t.status=Ye,F(t,"mount").then((function(){return t.status=Je,an||(window.dispatchEvent(new Ke("single-spa:first-mount")),an=!0),t})).catch((function(n){return t.status=Je,C(t,!0).then(r,r);function r(){if(e)throw g(n,t,nn);return d(n,t,nn),t}})))}))},I=function(){return D.apply(sn,arguments)},D=function(t,e){var n=this;if(!t||"object"!=typeof t&&"function"!=typeof t)throw Error(m(2,!1));if(t.name&&"string"!=typeof t.name)throw Error(m(3,!1,a(t.name)));var r=un++,o=t.name||"parcel-".concat(r);if("object"!=typeof e)throw Error(m(4,!1,o,void 0===e?"undefined":a(e)));if(!e.domElement)throw Error(m(5,!1,o));var i,u="function"==typeof t,s=u?t:function(){return Promise.resolve(t)},c={id:r,parcels:{},status:u?$e:ze,customProps:e,parentName:S(n),unmountThisParcel:function(){return d.then((function(){if(c.status!==Je)throw Error(m(6,!1,o,c.status));return C(c,!0)})).then((function(t){return c.parentName&&delete n.parcels[c.id],t})).then((function(t){return f(t),t})).catch((function(t){throw c.status=nn,p(t),t}))}};n.parcels[r]=c;var l=s();if(!l||"function"!=typeof l.then)throw Error(m(7,!1));l=l.then((function(t){if(!t)throw Error(m(8,!1));if(o=t.name||"parcel-".concat(r),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!x(t.bootstrap))throw Error(m(9,!1,o));if(!x(t.mount))throw Error(m(10,!1,o));if(!x(t.unmount))throw Error(m(11,!1,o));if(t.update&&!x(t.update))throw Error(m(12,!1,o));var e=P(t,"bootstrap"),n=P(t,"mount"),a=P(t,"unmount");c.status=ze,c.name=o,c.bootstrap=e,c.mount=n,c.unmount=a,c.timeouts=H(t.timeouts),t.update&&(c.update=P(t,"update"),i.update=function(t){return c.customProps=t,N((e=c,Promise.resolve().then((function(){if(e.status!==Je)throw Error(m(32,!1,S(e)));return e.status=Xe,F(e,"update").then((function(){return e.status=Je,e})).catch((function(t){throw g(t,e,nn)}))}))));var e})}));var f,p,h=l.then((function(){return A(c,!0)})),d=h.then((function(){return T(c,!0)})),v=new Promise((function(t,e){f=t,p=e}));return i={mount:function(){return N(Promise.resolve().then((function(){if(c.status!==Ze)throw Error(m(13,!1,o,c.status));return n.parcels[r]=c,T(c)})))},unmount:function(){return N(c.unmountThisParcel())},getStatus:function(){return c.status},loadPromise:N(l),bootstrapPromise:N(h),mountPromise:N(d),unmountPromise:N(v)}},N=function(t){return t.then((function(){return null}))},R=function(t){var e=S(t),n="function"==typeof t.customProps?t.customProps(e,window.location):t.customProps;("object"!=typeof n||null===n||Array.isArray(n))&&(n={},console.warn(m(40,!1),e,n));var r=_({},n,{name:e,mountParcel:D.bind(t),singleSpa:He});return O(t)&&(r.unmountSelf=t.unmountThisParcel),r},L=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(m(16,!1));cn.bootstrap={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},M=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(m(17,!1));cn.mount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},U=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(m(18,!1));cn.unmount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},B=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(m(19,!1));cn.unload={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},F=function(t,e){var n=t.timeouts[e],r=n.warningMillis,o=E(t);return new Promise((function(i,a){var u=!1,s=!1;t[e](R(t)).then((function(t){u=!0,i(t)})).catch((function(t){u=!0,a(t)})),setTimeout((function(){return l(1)}),r),setTimeout((function(){return l(!0)}),n.millis);var c=m(31,!1,e,o,S(t),n.millis);function l(t){if(!u)if(!0===t)s=!0,n.dieOnTimeout?a(Error(c)):console.error(c);else if(!s){var e=t,o=e*r;console.warn(c),o+r<n.millis&&setTimeout((function(){return l(e+1)}),r)}}}))},H=function(t){var e={};for(var n in cn)e[n]=_({},cn[n],t&&t[n]||{});return e},V=function(t){return Promise.resolve().then((function(){return t.loadPromise?t.loadPromise:t.status!==We&&t.status!==en?t:(t.status=$e,t.loadPromise=Promise.resolve().then((function(){var r=t.loadApp(R(t));if(!k(r))throw n=!0,Error(m(33,!1,S(t)));return r.then((function(n){var r;t.loadErrorTime=null,"object"!=typeof(e=n)&&(r=34),Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!x(e.bootstrap)&&(r=35),x(e.mount)||(r=36),x(e.unmount)||(r=37);var o=E(e);if(r){var i;try{i=JSON.stringify(e)}catch(t){}return console.error(m(r,!1,o,S(t),i),e),d(void 0,t,nn),t}return e.devtools&&e.devtools.overlays&&(t.devtools.overlays=_({},t.devtools.overlays,e.devtools.overlays)),t.status=ze,t.bootstrap=P(e,"bootstrap"),t.mount=P(e,"mount"),t.unmount=P(e,"unmount"),t.unload=P(e,"unload"),t.timeouts=H(e.timeouts),delete t.loadPromise,t}))})).catch((function(e){var r;return delete t.loadPromise,n?r=nn:(r=en,t.loadErrorTime=(new Date).getTime()),d(e,t,r),t})));var e,n}))},K=function(t){var e;if("string"==typeof t)e=t;else if(this&&this.href)e=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error(m(14,!1));e=t.currentTarget.href,t.preventDefault()}var n=q(window.location.href),r=q(e);0===e.indexOf("#")?window.location.hash=r.hash:n.host!==r.host&&r.host?window.location.href=e:r.pathname===n.pathname&&r.search===n.search?window.location.hash=r.hash:window.history.pushState(null,null,e)},G=function(t){var e=this;if(t){var n=t[0].type;pn.indexOf(n)>=0&&fn[n].forEach((function(n){try{n.apply(e,t)}catch(t){setTimeout((function(){throw t}))}}))}},W=function(){On([],arguments)},$=function(t,e){return function(){var n=window.location.href,r=t.apply(this,arguments),o=window.location.href;return Fe&&n===o||window.dispatchEvent(function(t,e){var n;try{n=new PopStateEvent("popstate",{state:t})}catch(e){(n=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,t)}return n.singleSpa=!0,n.singleSpaTrigger=e,n}(window.history.state,e)),r}},z=function(t){if(dn)throw Error(m(43,!1));Fe=!t||!t.hasOwnProperty("urlRerouteOnly")||t.urlRerouteOnly,dn=!0,hn=window.history.replaceState,window.addEventListener("hashchange",W),window.addEventListener("popstate",W);var e=window.addEventListener,n=window.removeEventListener;window.addEventListener=function(t,n){if(!("function"==typeof n&&pn.indexOf(t)>=0)||j(fn[t],(function(t){return t===n})))return e.apply(this,arguments);fn[t].push(n)},window.removeEventListener=function(t,e){if(!("function"==typeof e&&pn.indexOf(t)>=0))return n.apply(this,arguments);fn[t]=fn[t].filter((function(t){return t!==e}))},window.history.pushState=$(window.history.pushState,"pushState"),window.history.replaceState=$(hn,"replaceState")},q=function(t){var e=document.createElement("a");return e.href=t,e},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!vn){var e=t.fn.on,n=t.fn.off;t.fn.on=function(t,n){return Y.call(this,e,window.addEventListener,t,n,arguments)},t.fn.off=function(t,e){return Y.call(this,n,window.removeEventListener,t,e,arguments)},vn=!0}},Y=function(t,e,n,r,o){return"string"!=typeof n?t.apply(this,o):(n.split(/\s+/).forEach((function(t){pn.indexOf(t)>=0&&(e(t,r),n=n.replace(t,""))})),""===n.trim()?this:t.apply(this,o))},J=function(t){return Promise.resolve().then((function(){var e=yn[S(t)];if(!e)return t;if(t.status===We)return X(t,e),t;if(t.status===tn)return e.promise.then((function(){return t}));if(t.status!==Ze&&t.status!==en)return t;var n=t.status===en?Promise.resolve():F(t,"unload");return t.status=tn,n.then((function(){return X(t,e),t})).catch((function(n){return function(t,e,n){delete yn[S(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,d(n,t,nn),e.reject(n)}(t,e,n),t}))}))},X=function(t,e){delete yn[S(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=We,e.resolve()},Q=function(t,e,n,r){yn[S(t)]={app:t,resolve:n,reject:r},Object.defineProperty(yn[S(t)],"promise",{get:e})},tt=function(t){return yn[t]},et=function(){return mn.filter(b).map(S)},nt=function(){return mn.map(S)},rt=function(t){var e=j(mn,(function(e){return S(e)===t}));return e?e.status:null},ot=function(t,e,n,r){var o=function(t,e,n,r){var o,i={name:null,loadApp:null,activeWhen:null,customProps:null};return"object"==typeof t?(function(t){if(Array.isArray(t)||null===t)throw Error(m(39,!1));var e=["name","app","activeWhen","customProps"],n=Object.keys(t).reduce((function(t,n){return e.indexOf(n)>=0?t:t.concat(n)}),[]);if(0!==n.length)throw Error(m(38,!1,e.join(", "),n.join(", ")));if("string"!=typeof t.name||0===t.name.length)throw Error(m(20,!1));if("object"!=typeof t.app&&"function"!=typeof t.app)throw Error(m(20,!1));var r=function(t){return"string"==typeof t||"function"==typeof t};if(!(r(t.activeWhen)||Array.isArray(t.activeWhen)&&t.activeWhen.every(r)))throw Error(m(24,!1));if(!ct(t.customProps))throw Error(m(22,!1))}(t),i.name=t.name,i.loadApp=t.app,i.activeWhen=t.activeWhen,i.customProps=t.customProps):(function(t,e,n,r){if("string"!=typeof t||0===t.length)throw Error(m(20,!1));if(!e)throw Error(m(23,!1));if("function"!=typeof n)throw Error(m(24,!1));if(!ct(r))throw Error(m(22,!1))}(t,e,n,r),i.name=t,i.loadApp=e,i.activeWhen=n,i.customProps=r),i.loadApp="function"!=typeof(o=i.loadApp)?function(){return Promise.resolve(o)}:o,i.customProps=function(t){return t||{}}(i.customProps),i.activeWhen=function(t){var e=Array.isArray(t)?t:[t];return e=e.map((function(t){return"function"==typeof t?t:lt(t)})),function(t){return e.some((function(e){return e(t)}))}}(i.activeWhen),i}(t,e,n,r);if(dt()||gn||(gn=!0,setTimeout((function(){dt()||console.warn(m(1,!1))}),5e3)),-1!==nt().indexOf(o.name))throw Error(m(21,!1,o.name));mn.push(_({loadErrorTime:null,status:We,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},o)),ln&&(Z(),On())},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;return mn.filter((function(e){return e.activeWhen(t)})).map(S)},at=function(t){if(0===mn.filter((function(e){return S(e)===t})).length)throw Error(m(25,!1,t));return(ln?ut(t,{waitForUnmount:!1}):Promise.resolve()).then((function(){var e=mn.map(S).indexOf(t);mn.splice(e,1)}))},ut=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof t)throw Error(m(26,!1));var n=j(mn,(function(e){return S(e)===t}));if(!n)throw Error(m(27,!1,t));var r,o=tt(S(n));if(e&&e.waitForUnmount){if(o)return o.promise;var i=new Promise((function(t,e){Q(n,(function(){return i}),t,e)}));return i}return o?(r=o.promise,st(n,o.resolve,o.reject)):r=new Promise((function(t,e){Q(n,(function(){return r}),t,e),st(n,t,e)})),r},st=function(t,e,n){Promise.resolve().then((function(){if(j(it(),(function(e){return e===S(t)})))return ft()})).then((function(){return C(t).then(J).then((function(){e(),setTimeout((function(){On()}))}))})).catch(n)},ct=function(t){return!t||"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},lt=function(t,e){var n=function(t,e){var n=0,r=!1,o="^";"/"!==t[0]&&(t="/"+t);for(var i=0;i<t.length;i++){var a=t[i];(!r&&":"===a||r&&"/"===a)&&u(i)}return u(t.length),new RegExp(o,"i");function u(i){var a=t.slice(n,i).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(o+=r?"[^/]+/?":a,i===t.length)if(r)e&&(o+="$");else{var u=e?"":".*";o="/"===o.charAt(o.length-1)?"".concat(o).concat(u,"$"):"".concat(o,"(/").concat(u,")?(#.*)?$")}r=!r,n=i}}(t,e);return function(t){var e=t.origin;e||(e="".concat(t.protocol,"//").concat(t.host));var r=t.href.replace(e,"").replace(t.search,"").split("?")[0];return n.test(r)}},ft=function(){return On()},pt=function(t,e){return w(t)?A(t).then((function(t){return e.then((function(){return w(t)?T(t):t}))})):e.then((function(){return t}))},ht=function(t){En=!0,ln&&(z(t),On())},dt=function(){return En},vt=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},yt=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},mt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},gt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},bt=function(t){return t&&t.startsWith("http")?t:("/"!==t[0]&&(t="/"+t),window.openmrsBase+t)},wt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof t)throw Error("The first argument to @openmrs/api's openmrsFetch function must be a url string");if("object"!=typeof e)throw Error("The second argument to @openmrs/api's openmrsFetch function must be a plain object.");if(!window.openmrsBase)throw Error("@openmrs/api is running in a browser that doesn't have window.openmrsBase, which is provided by openmrs-module-spa's HTML file.");var n=bt(t);if(e.headers||(e.headers={}),Le(e.body)&&(e.body=JSON.stringify(e.body)),void 0===e.headers.Accept&&(e.headers.Accept="application/json"),null===e.headers.Accept&&delete e.headers.Accept,t.startsWith(Cn)&&void 0===e.headers["Disable-WWW-Authenticate"]&&(e.headers["Disable-WWW-Authenticate"]="true"),t.startsWith(Tn)){var r=new URL(n,window.location.toString());r.searchParams.has("_summary")||(r.searchParams.set("_summary","data"),n=r.toString())}var o,i,a=Error();return window.fetch(n,e).then((o=function(t){var e,r;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(o){switch(o.label){case 0:return(e=t).ok?204===e.status?(e.data=null,[2,e]):[2,e.clone().text().then((function(t){try{t&&(e.data=JSON.parse(t))}catch(t){}return e}))]:[3,1];case 1:return[4,(0,Me.getConfig)("@openmrs/esm-api")];case 2:return r=o.sent().redirectAuthFailure,n===bt(In)&&403===e.status||r.enabled&&r.errors.includes(e.status)?(sessionStorage.removeItem(jn),(0,Ue.navigate)({to:r.url}),[2,r.resolvePromise?Promise.resolve():new Promise((function(){}))]):[2,e.clone().text().then((function(t){var r=t;try{r=JSON.parse(t)}catch(t){}throw new Dn(n,e,r,a)}),(function(t){throw new Dn(n,e,null,a)}))];case 3:return[2]}}))},i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){yt(i,n,r,a,u,"next",t)}function u(t){yt(i,n,r,a,u,"throw",t)}a(void 0)}))},function(t){return i.apply(this,arguments)}))},St=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof e)throw Error("The second argument to openmrsObservableFetch must be either omitted or an object");var n=new AbortController;return e.signal=n.signal,new we((function(r){var o=!1;return wt(t,e).then((function(t){o=!0,r.next(t),r.complete()}),(function(t){o=!0,r.error(t)})),function(){o||n.abort()}}))},Ot=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},Et=function(t,e){return wt("".concat(Nn,"/").concat(t),{signal:e.signal})},_t=function(t,e,n){return wt("".concat(Nn,"?patient=").concat(t,"&includeEncounterless=").concat(e),{signal:n.signal})},jt=function(t,e){return Rn.apply(this,arguments)},xt=function(t,e){return wt("".concat(Nn,"/").concat(t),{method:"DELETE",signal:e.signal})},Pt=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},kt=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Pt(i,r,o,a,u,"next",t)}function u(t){Pt(i,r,o,a,u,"throw",t)}a(void 0)}))}},At=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeAuthStatus:!0};return(Bn<Date.now()-6e4||!Un.getState().loaded)&&Dt(),new we((function(e){var n=function(n){var r;n.loaded&&(t.includeAuthStatus?e.next(n.session):e.next(null===(r=n.session)||void 0===r?void 0:r.user))};return n(Un.getState()),Un.subscribe(n)}))},Tt=function(){return(Bn<Date.now()-6e4||!Un.getState().loaded)&&Dt(),Un},It=function(t){var e,n,r,o=null!==(r=null==t||null===(e=t.user)||void 0===e||null===(n=e.userProperties)||void 0===n?void 0:n.defaultLocale)&&void 0!==r?r:t.locale,i=document.documentElement.getAttribute("lang");(function(t){if(void 0===t||"string"!=typeof t)return!1;try{new Intl.Locale(t)}catch(t){return!1}return!0})(o)&&o!==i&&document.documentElement.setAttribute("lang",o)},Dt=function(t,e){Bn=Date.now();var n={};return t&&e&&(n.Authorization="Basic ".concat(window.btoa("".concat(t,":").concat(e)))),Ft(wt(In,{headers:n}))},Nt=function(){Un.setState({loaded:!0,session:{authenticated:!1,sessionId:""}})},Rt=function(t,e){return void 0===e?Boolean(t):!Boolean(t)||function(t,e){return"string"==typeof t?!Mn(e.privileges.find((function(e){return t===e.display}))):Array.isArray(t)?t.every((function(t){return!Mn(e.privileges.find((function(e){return t===e.display})))})):(Mn(t)||console.error('Could not understand privileges "'.concat(t,'"')),!0)}(t,e)||function(t){return!Mn(t.roles.find((function(t){return"System Developer"===t.display})))}(e)},Lt=function(){var t,e;return new Promise((function(n){var r=function(r){r.loaded&&r.session.user&&(t=r.session.user,n(r.session.user),e&&e())};r(Un.getState()),t||(e=Un.subscribe(r))}))},Mt=function(){return new Promise((function(t,e){Ct().subscribe((function(e){t(e.sessionLocation)}),e).unsubscribe()}))},Ut=function(t,e){return Fn.apply(this,arguments)},Bt=function(t,e,n){return Hn.apply(this,arguments)},Ft=function(t){return new Promise((function(e,n){t.then((function(t){var r;"object"==typeof(null==t?void 0:t.data)?(r={loaded:!0,session:t.data},Un.setState(r),e(r)):(r={loaded:!1,session:null},Un.setState(r),n(r))})).catch((function(t){(0,Ln.reportError)("Failed to fetch new session information: ".concat(t));var e={loaded:!1,session:null};Un.setState(e),n(e)}))}))},Ht=function(){(0,Me.defineConfigSchema)("@openmrs/esm-api",{redirectAuthFailure:{enabled:{_type:Me.Type.Boolean,_default:!0,_description:"Whether to redirect logged-out users to `redirectAuthFailure.url`"},url:{_type:Me.Type.String,_default:"${openmrsSpaBase}/login",_validators:[Me.validators.isUrl]},errors:{_type:Me.Type.Array,_default:[401],_elements:{_type:Me.Type.Number,_validators:[Me.validators.inRange(100,600)]},_description:"The HTTP error codes for which users will be redirected"},resolvePromise:{_type:Me.Type.Boolean,_default:!1,_description:"Changes how requests that fail authentication are handled. Try messing with this if redirects to the login page aren't working correctly."}}}),Dt()},Vt=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},Kt=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},Gt=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Kt(i,r,o,a,u,"next",t)}function u(t){Kt(i,r,o,a,u,"throw",t)}a(void 0)}))}},Wt=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},$t=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},zt=function(t,e){return Kn.apply(this,arguments)},qt=function(t){return Gn.apply(this,arguments)},Zt=function(t){return function(e){return 0===t?Xn:e.lift(new Qn(t))}},Yt=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new er(t,e))}},Jt=function(){return(0,Be.getGlobalStore)("visit",or)},Xt=function(t,e){Jt().setState({patientUuid:t,manuallySetVisitUuid:e})},Qt=function(t,e,n){var r=null!=n?n:rr;return St("".concat(Cn,"/visit?patient=").concat(t,"&v=").concat(r),{signal:e.signal,method:"GET",headers:{"Content-type":"application/json"}}).pipe(Zt(1)).pipe(Yt((function(t){return t})))},te=function(t,e){return St("".concat(Cn,"/visit"),{signal:e.signal,method:"POST",headers:{"Content-type":"application/json"},body:t})},ee=function(t,e,n){return St("".concat(Cn,"/visit/").concat(t),{signal:n.signal,method:"POST",headers:{"Content-type":"application/json"},body:e})},ne=function(t){return{uuid:t.uuid,display:t.display,name:t.name}},re=function(){return St("".concat(Cn,"/visittype")).pipe(Yt((function(t){return t.data.results.map(ne)}))).pipe(Zt(1))},oe=function(t){return{uuid:t.uuid,display:t.display}},ie=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return St("".concat(Cn,"/location")+(t?"?tag="+t:"")).pipe(Yt((function(t){return t.data.results.map(oe)}))).pipe(Zt(1))};f.r(p),f.d(p,{OpenmrsFetchError:function(){return Dn},VisitMode:function(){return ir},VisitStatus:function(){return ar},attachmentUrl:function(){return Nn},backendDependencies:function(){return sr},clearCurrentUser:function(){return Nt},createAttachment:function(){return jt},defaultVisitCustomRepresentation:function(){return rr},deleteAttachmentPermanently:function(){return xt},fetchCurrentPatient:function(){return zt},fhirBaseUrl:function(){return Tn},getAttachmentByUuid:function(){return Et},getAttachments:function(){return _t},getCurrentUser:function(){return Ct},getLocations:function(){return ie},getLoggedInUser:function(){return Lt},getSessionLocation:function(){return Mt},getSessionStore:function(){return Tt},getStartedVisit:function(){return ur},getVisitStore:function(){return Jt},getVisitTypes:function(){return re},getVisitsForPatient:function(){return Qt},makeUrl:function(){return bt},openmrsFetch:function(){return wt},openmrsObservableFetch:function(){return St},refetchCurrentUser:function(){return Dt},restBaseUrl:function(){return Cn},saveVisit:function(){return te},sessionEndpoint:function(){return In},setCurrentVisit:function(){return Xt},setSessionLocation:function(){return Ut},setUserLanguage:function(){return It},setUserProperties:function(){return Bt},setupApiModule:function(){return Ht},toLocationObject:function(){return oe},toVisitTypeObject:function(){return ne},updateVisit:function(){return ee},userHasAccess:function(){return Rt}});var ae,ue,se=function(t,e){return se=Object.setPrototypeOf||i({__proto__:[]},Array)&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},se(t,e)},ce=!1,le={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,ce=t},get useDeprecatedSynchronousErrorHandling(){return ce}},fe={closed:!0,next:function(t){},error:function(t){if(le.useDeprecatedSynchronousErrorHandling)throw t;u(t)},complete:function(){}},pe=Array.isArray||function(t){return t&&"number"==typeof t.length},he=function(){var t=function(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this};return t.prototype=Object.create(Error.prototype),t}(),de=he,ve=function(){var t=function(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)};return t.prototype.unsubscribe=function(){var n;if(!this.closed){var r=this,o=r._parentOrParents,a=r._ctorUnsubscribe,u=r._unsubscribe,l=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i(o,t))o.remove(this);else if(null!==o)for(var f=0;f<o.length;++f)o[f].remove(this);if(e(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(t){n=i(t,de)?c(t.errors):[t]}}if(pe(l)){f=-1;for(var p=l.length;++f<p;){var h=l[f];if(s(h))try{h.unsubscribe()}catch(t){n=n||[],i(t,de)?n=n.concat(c(t.errors)):n.push(t)}}}if(n)throw new de(n)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(void 0===e?"undefined":a(e)){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!i(n,t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(i(o,t)){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var u=this._subscriptions;return null===u?this._subscriptions=[n]:u.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}(),ye="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),me=function(e){function n(t,r,o){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=fe;break;case 1:if(!t){a.destination=fe;break}if("object"==typeof t){i(t,n)?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(a)):(a.syncErrorThrowable=!0,a.destination=new ge(a,t));break}default:a.syncErrorThrowable=!0,a.destination=new ge(a,t,r,o)}return a}return t(n,e),n.prototype[ye]=function(){return this},n.create=function(t,e,r){var o=new n(t,e,r);return o.syncErrorThrowable=!1,o},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},n}(ve),ge=function(n){var r=function(t,r,o,i){var a,u=n.call(this)||this;u._parentSubscriber=t;var s=u;return e(r)?a=r:r&&(a=r.next,o=r.error,i=r.complete,r!==fe&&(e((s=Object.create(r)).unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=a,u._error=o,u._complete=i,u};return t(r,n),r.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;le.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=le.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):u(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;u(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};le.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),le.useDeprecatedSynchronousErrorHandling)throw t;u(t)}},r.prototype.__tryOrSetError=function(t,e,n){if(!le.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return le.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(u(e),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(me),be="function"==typeof Symbol&&Symbol.observable||"@@observable",we=function(){var t=function(t){this._isScalar=!1,t&&(this._subscribe=t)};return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(i(t,me))return t;if(t[ye])return t[ye]()}return t||e||n?new me(t,e,n):new me(fe)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||le.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),le.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){le.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&i(r,me)?r:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=h(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[be]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:(0===(n=t).length?l:1===n.length?n[0]:function(t){return n.reduce((function(t,e){return e(t)}),t)})(this);var n},t.prototype.toPromise=function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}(),Se="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Oe="object"==typeof self&&self&&self.Object===Object&&self,Ee=(Se||Oe||Function("return this")()).Symbol,_e=Object.prototype,je=_e.hasOwnProperty,xe=_e.toString,Pe=Ee?Ee.toStringTag:void 0,ke=Object.prototype.toString,Ae=Ee?Ee.toStringTag:void 0,Ce=(ae=Object.getPrototypeOf,ue=Object,function(t){return ae(ue(t))}),Te=Function.prototype,Ie=Object.prototype,De=Te.toString,Ne=Ie.hasOwnProperty,Re=De.call(Object),Le=function(t){if(!function(t){return null!=t&&"object"==typeof t}(t)||"[object Object]"!=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ae&&Ae in Object(t)?function(t){var e=je.call(t,Pe),n=t[Pe];try{t[Pe]=void 0;var r=!0}catch(t){}var o=xe.call(t);return r&&(e?t[Pe]=n:delete t[Pe]),o}(t):function(t){return ke.call(t)}(t)}(t))return!1;var e=Ce(t);if(null===e)return!0;var n=Ne.call(e,"constructor")&&e.constructor;return"function"==typeof n&&i(n,n)&&De.call(n)==Re},Me=f(824),Ue=f(513),Be=f(385);(0,Be.createGlobalStore)("breadcrumbs",[]);var Fe,He=Object.freeze({__proto__:null,get start(){return ht},get ensureJQuerySupport(){return Z},get setBootstrapMaxTime(){return L},get setMountMaxTime(){return M},get setUnmountMaxTime(){return U},get setUnloadMaxTime(){return B},get registerApplication(){return ot},get unregisterApplication(){return at},get getMountedApps(){return et},get getAppStatus(){return rt},get unloadApplication(){return ut},get checkActivityFunctions(){return it},get getAppNames(){return nt},get pathToActiveWhen(){return lt},get navigateToUrl(){return K},get patchHistoryApi(){return z},get triggerAppChange(){return ft},get addErrorHandler(){return v},get removeErrorHandler(){return y},get mountRootParcel(){return I},get NOT_LOADED(){return We},get LOADING_SOURCE_CODE(){return $e},get NOT_BOOTSTRAPPED(){return ze},get BOOTSTRAPPING(){return qe},get NOT_MOUNTED(){return Ze},get MOUNTING(){return Ye},get UPDATING(){return Xe},get LOAD_ERROR(){return en},get MOUNTED(){return Je},get UNLOADING(){return tn},get UNMOUNTING(){return Qe},get SKIP_BECAUSE_BROKEN(){return nn}}),Ve=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).CustomEvent,Ke=function(){try{var t=new Ve("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?Ve:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n},Ge=[],We="NOT_LOADED",$e="LOADING_SOURCE_CODE",ze="NOT_BOOTSTRAPPED",qe="BOOTSTRAPPING",Ze="NOT_MOUNTED",Ye="MOUNTING",Je="MOUNTED",Xe="UPDATING",Qe="UNMOUNTING",tn="UNLOADING",en="LOAD_ERROR",nn="SKIP_BECAUSE_BROKEN",rn=[],on=!1,an=!1,un=0,sn={parcels:{}},cn={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:1e3},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},update:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3}},ln="undefined"!=typeof window,fn={hashchange:[],popstate:[]},pn=["hashchange","popstate"],hn=null,dn=!1;ln&&(window.singleSpaNavigate?console.warn(m(41,!1)):window.singleSpaNavigate=K);var vn=!1,yn={},mn=[],gn=!1,bn=!1,wn=[],Sn=ln&&window.location.href;function On(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bn)return new Promise((function(t,n){wn.push({resolve:t,reject:n,eventArguments:e})}));var r,i=function(){var t=[],e=[],n=[],r=[],o=(new Date).getTime();return mn.forEach((function(i){var a=i.status!==nn&&w(i);switch(i.status){case en:a&&o-i.loadErrorTime>=200&&n.push(i);break;case We:case $e:a&&n.push(i);break;case ze:case Ze:!a&&tt(S(i))?t.push(i):a&&r.push(i);break;case Je:a||e.push(i)}})),{appsToUnload:t,appsToUnmount:e,appsToLoad:n,appsToMount:r}}(),a=i.appsToUnload,u=i.appsToUnmount,s=i.appsToLoad,c=i.appsToMount,l=[],f=Sn,p=Sn=window.location.href;return dt()?(bn=!0,r=a.concat(s,u,c),Promise.resolve().then((function(){return g(0===r.length?"before-no-app-change":"before-app-change",y(!0)),g("before-routing-event",y(!0,{cancelNavigation:h})),Promise.all(l).then((function(n){if(n.some((function(t){return t})))return hn.call(window.history,history.state,"",f.substring(location.origin.length)),Sn=location.href,bn=!1,On(t,e,!0);var r=a.map(J),o=u.map(C).map((function(t){return t.then(J)})).concat(r),i=Promise.all(o);i.then((function(){g("before-mount-routing-event",y(!0))}),(function(t){throw t}));var l=s.map((function(t){return V(t).then((function(t){return pt(t,i)}))})),p=c.filter((function(t){return s.indexOf(t)<0})).map((function(t){return pt(t,i)}));return i.catch((function(t){throw v(),t})).then((function(){return v(),Promise.all(l.concat(p)).catch((function(e){throw t.forEach((function(t){return t.reject(e)})),e})).then(d).then((function(){}),(function(t){throw t}))}))}))}))):(r=s,Promise.resolve().then((function(){var t=s.map(V);return Promise.all(t).then(v).then((function(){return[]})).catch((function(t){throw v(),t})).finally((function(){}))})));function h(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="function"==typeof(null==t?void 0:t.then)?t:Promise.resolve(t);l.push(e.catch((function(t){return console.warn(Error(m(42,!1))),console.warn(t),!1})))}function d(){var e=et();t.forEach((function(t){return t.resolve(e)}));try{g(0===r.length?"no-app-change":"app-change",y()),g("routing-event",y())}catch(t){setTimeout((function(){throw t}))}if(bn=!1,wn.length>0){var n=wn;wn=[],On(n)}return e}function v(){n||(t.forEach((function(t){G(t.eventArguments)})),G(e))}function y(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,l={},h=(o(t={},Je,[]),o(t,Ze,[]),o(t,We,[]),o(t,nn,[]),t);n?(s.concat(c).forEach((function(t,e){v(t,Je)})),a.forEach((function(t){v(t,We)})),u.forEach((function(t){v(t,Ze)}))):r.forEach((function(t){v(t)}));var d={detail:{newAppStatuses:l,appsByNewStatus:h,totalAppChanges:r.length,originalEvent:null==e?void 0:e[0],oldUrl:f,newUrl:p}};return i&&_(d.detail,i),d;function v(t,e){var n=S(t);e=e||rt(n),l[n]=e,(h[e]=h[e]||[]).push(n)}}function g(t,e){n||window.dispatchEvent(new Ke("single-spa:".concat(t),e))}}var En=!1,_n={getRawAppData:function(){return function(t){if(Array.isArray(t))return r(t)}(t=mn)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t},reroute:On,NOT_LOADED:We,toLoadPromise:V,toBootstrapPromise:A,unregisterApplication:at,getProfilerData:function(){return rn}};ln&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=_n);var jn="openmrs:history";function xn(t,e,n){return xn=gt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&kn(o,n.prototype),o},xn.apply(null,arguments)}function Pn(t){return Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pn(t)}function kn(t,e){return kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},kn(t,e)}function An(t){var e="function"==typeof Map?new Map:void 0;return An=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return xn(t,arguments,Pn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),kn(r,t)},An(t)}var Cn="/ws/rest/v1",Tn="/ws/fhir2/R4",In="".concat(Cn,"/session"),Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(o,t);var e,n,r=(e=o,n=gt(),function(){var t,r=Pn(e);if(n){var o=Pn(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){return!e||"object"!=((n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":a(n))&&"function"!=typeof e?vt(t):e;var n}(this,t)});function o(t,e,n,a){var u;return function(t,e){if(!i(t,e))throw new TypeError("Cannot call a class as a function")}(this,o),mt(vt(u=r.call(this)),"response",void 0),mt(vt(u),"responseBody",void 0),u.message="Server responded with ".concat(e.status," (").concat(e.statusText,") for url ").concat(t,". Check err.responseBody or network tab in dev tools for more info"),a.message=u.message,u.responseBody=n,u.response=e,u.stack="Stacktrace for outgoing request:\n".concat(a.stack,"\nStacktrace for incoming response:\n").concat(u.stack),u}return o}(An(Error)),Nn="".concat(Cn,"/attachment");function Rn(){var t;return t=function(t,e){var n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){return(n=new FormData).append("fileCaption",e.fileDescription),n.append("patient",t),e.file?n.append("file",e.file):(n.append("file",new File([""],e.fileName),e.fileName),n.append("base64Content",e.base64Content)),[2,wt("".concat(Nn),{method:"POST",body:n})]}))},Rn=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ot(i,r,o,a,u,"next",t)}function u(t){Ot(i,r,o,a,u,"throw",t)}a(void 0)}))},Rn.apply(this,arguments)}var Ln=f(254),Mn=function(t){return void 0===t},Un=(0,Be.createGlobalStore)("session",{loaded:!1,session:null}),Bn=0;function Fn(){return(Fn=kt((function(t,e){return At(this,(function(n){return[2,Ft(wt(In,{method:"POST",body:{sessionLocation:t},headers:{"Content-Type":"application/json"},signal:e.signal}))]}))}))).apply(this,arguments)}function Hn(){return(Hn=kt((function(t,e,n){return At(this,(function(r){switch(r.label){case 0:return n||(n=new AbortController),[4,wt("".concat(Cn,"/user/").concat(t),{method:"POST",body:{userProperties:e},headers:{"Content-Type":"application/json"},signal:n.signal})];case 1:return r.sent(),[2,Dt()]}}))}))).apply(this,arguments)}Un.subscribe((function(t){return t.session&&It(t.session)}));var Vn=f(738);function Kn(){return Kn=Gt((function(t,e){var n,r,o,i,a,u=arguments;return $t(this,(function(s){switch(s.label){case 0:return n=!(u.length>2&&void 0!==u[2])||u[2],t?(r=null,[4,Promise.all([wt("".concat(Tn,"/Patient/").concat(t),e).catch((function(t){return r=t})),n?qt(t):Promise.resolve(null)])]):[3,2];case 1:if(o=Wt.apply(void 0,[s.sent(),2]),i=o[0],a=o[1],i.ok)return[2,i.data];if(a)return[2,a];if(r)throw r;s.label=2;case 2:return[2,null]}}))})),Kn.apply(this,arguments)}function Gn(){return(Gn=Gt((function(t){var e,n,r;return $t(this,(function(o){switch(o.label){case 0:return[4,(0,Vn.getSynchronizationItems)("patient-registration")];case 1:return e=o.sent(),n=e.find((function(e){return e.fhirPatient.id===t})),[2,null!==(r=null==n?void 0:n.fhirPatient)&&void 0!==r?r:null]}}))}))).apply(this,arguments)}var Wn=function(){var t=function(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this};return t.prototype=Object.create(Error.prototype),t}(),$n=function(e){var n=function(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r};return t(n,e),n.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},n}(ve),zn=function(e){var n=function(t){var n=e.call(this,t)||this;return n.destination=t,n};return t(n,e),n}(me),qn=function(e){var n=function(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t};return t(n,e),n.prototype[ye]=function(){return new zn(this)},n.prototype.lift=function(t){var e=new Zn(this,this);return e.operator=t,e},n.prototype.next=function(t){if(this.closed)throw new Wn;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},n.prototype.error=function(t){if(this.closed)throw new Wn;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},n.prototype.complete=function(){if(this.closed)throw new Wn;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},n.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},n.prototype._trySubscribe=function(t){if(this.closed)throw new Wn;return e.prototype._trySubscribe.call(this,t)},n.prototype._subscribe=function(t){if(this.closed)throw new Wn;return this.hasError?(t.error(this.thrownError),ve.EMPTY):this.isStopped?(t.complete(),ve.EMPTY):(this.observers.push(t),new $n(this,t))},n.prototype.asObservable=function(){var t=new we;return t.source=this,t},n.create=function(t,e){return new Zn(t,e)},n}(we),Zn=function(e){var n=function(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r};return t(n,e),n.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},n.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},n.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},n.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):ve.EMPTY},n}(qn),Yn=function(e){var n=function(t){var n=e.call(this)||this;return n._value=t,n};return t(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Wn;return this._value},n.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},n}(qn),Jn=function(){var t=function(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this};return t.prototype=Object.create(Error.prototype),t}(),Xn=new we((function(t){return t.complete()})),Qn=function(){var t=function(t){if(this.total=t,this.total<0)throw new Jn};return t.prototype.call=function(t,e){return e.subscribe(new tr(t,this.total))},t}(),tr=function(e){var n=function(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r};return t(n,e),n.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},n}(me),er=function(){var t=function(t,e){this.project=t,this.thisArg=e};return t.prototype.call=function(t,e){return e.subscribe(new nr(t,this.project,this.thisArg))},t}(),nr=function(e){var n=function(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o};return t(n,e),n.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(me),rr="custom:(uuid,encounters:(uuid,encounterDatetime,form:(uuid,name),location:ref,encounterType:ref,encounterProviders:(uuid,display,provider:(uuid,display))),patient:(uuid,uuid),visitType:(uuid,name,display),attributes:(uuid,display,attributeType:(name,datatypeClassname,uuid),value),location:(uuid,name,display),startDatetime,stopDatetime)",or=function(){try{return JSON.parse(localStorage.getItem("openmrs:visitStoreState")||"null")}catch(t){return null}}()||{patientUuid:null,manuallySetVisitUuid:null};Jt().subscribe((function(t){var e;e=t,localStorage.setItem("openmrs:visitStoreState",JSON.stringify(e))}));var ir,ar,ur=new Yn(null);!function(t){t.NEWVISIT="startVisit",t.EDITVISIT="editVisit",t.LOADING="loadingVisit"}(ir||(ir={})),function(t){t.NOTSTARTED="notStarted",t.ONGOING="ongoing"}(ar||(ar={}));var sr={"webservices.rest":"2.24.0",fhir2:"1.0.0-SNAPSHOT"}}(),p}())}}}))},714:function(){var t=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":void 0===t?"undefined":v(t)};System.register(["@openmrs/esm-state"],(function(e,n){var r={};return{setters:[function(t){r.createGlobalStore=t.createGlobalStore,r.getGlobalStore=t.getGlobalStore}],execute:function(){e(function(){"use strict";var e={685:function(t){t.exports=r}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return function(){var e=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]},n=function(t){return function n(r){return 0===arguments.length||e(r)?n:t.apply(this,arguments)}},r=function(t){return function r(o,i){switch(arguments.length){case 0:return r;case 1:return e(o)?r:n((function(e){return t(o,e)}));default:return e(o)&&e(i)?r:e(o)?n((function(e){return t(e,i)})):e(i)?n((function(e){return t(o,e)})):t(o,i)}}},a=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n},u=function(t,e,n){for(var r=0,o=n.length;r<o;){if(t(e,n[r]))return!0;r+=1}return!1},s=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)},c=function(t,e,n,r){var o=a(t);function i(t,e){return ft(t,e,n.slice(),r.slice())}return!u((function(t,e){return!u(i,e,t)}),a(e),o)},l=function(t){return function o(i,a,u){switch(arguments.length){case 0:return o;case 1:return e(i)?o:r((function(e,n){return t(i,e,n)}));case 2:return e(i)&&e(a)?o:e(i)?r((function(e,n){return t(e,a,n)})):e(a)?r((function(e,n){return t(i,e,n)})):n((function(e){return t(i,a,e)}));default:return e(i)&&e(a)&&e(u)?o:e(i)&&e(a)?r((function(e,n){return t(e,n,u)})):e(i)&&e(u)?r((function(e,n){return t(e,a,n)})):e(a)&&e(u)?r((function(e,n){return t(i,e,n)})):e(i)?n((function(e){return t(e,a,u)})):e(a)?n((function(e){return t(i,e,u)})):e(u)?n((function(e){return t(i,a,e)})):t(i,a,u)}}},f=function(t){return"[object Object]"===Object.prototype.toString.call(t)},p=function(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)},h=function(t,e,n,r){return t["@@transducer/result"](n[r](_t(t["@@transducer/step"],t),e))},d=function(t,e){return function(n){if(!t(n))return"function"==typeof e?e(n):e}},v=function(t){return(0,Dt.getGlobalStore)("config-module-".concat(t),{config:null,loaded:!1,translationOverridesLoaded:!1})},y=function(){return(0,Dt.getGlobalStore)("config-extension-slots",{slots:{}})},m=function(t){return g(y().getState(),t)},g=function(t,e){var n=t.slots[e];return null!=n?n:{loaded:!1,config:{}}},b=function(){return(0,Dt.getGlobalStore)("config-extensions",{configs:{}})},w=function(t,e){var n=Object.assign({},S(b().getState(),t,e));return n.config=yt(["Display conditions","Translation overrides"],n.config),n},S=function(t,e,n){var r,o=null===(r=t.configs[e])||void 0===r?void 0:r[n];return null!=o?o:{loaded:!1,config:null}},O=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},E=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},_=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){E(t,e,n[e])}))}return t},j=function(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t},x=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||k(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},P=function(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||k(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},k=function(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}},A=function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(t.schemas)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=v(u);if(t.moduleLoaded[u]){var c=G(u,t,e);s.setState({translationOverridesLoaded:!0,loaded:!0,config:c})}else{var l=W(u,t,e);s.setState({translationOverridesLoaded:!0,loaded:!1,config:l})}}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},C=function(t,e){var n,r,o=(n=z(K(t,e)),function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(t)[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=x(o.value,2),u=a[0],s=a[1],c=!0,l=!1,f=void 0;try{for(var p,h=Object.entries(s)[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var d=x(p.value,2),v=d[0];V(d[1],u,v)}}catch(t){l=!0,f=t}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}(r=Object.keys(n).reduce((function(t,e){var r,o;return(null===(r=n[e])||void 0===r?void 0:r.extensionSlots)&&(t[e]=null===(o=n[e])||void 0===o?void 0:o.extensionSlots),t}),{})),Object.keys(r).reduce((function(t,e){return _({},t,r[e])}),{})),i=Object.fromEntries(Object.entries(o).map((function(t){var e=x(t,2);return[e[0],{loaded:!0,config:e[1]}]}))),a=y(),u=a.getState(),s={slots:_({},u.slots,i)};pt(u,s)||a.setState(s)},T=function(t,e){var n=function(t,e){var n=Ut(bt(t.schemas)),r=P(t.providedConfigs.map((function(t){return[t.config,t.source]}))).concat([[e.config,"temporary config"]]),o=!0,i=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=x(u.value,2);n=z([n,Bt(c[0],c[1])])}}catch(t){i=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e);Mt.setState({config:n})},I=function(t,e,n){var r={},o=!0,i=!1,a=void 0;try{for(var u,s=e.mountedExtensions[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,l=H(c.slotModuleName,c.extensionModuleName,c.slotName,c.extensionId,t,n);r[c.slotName]=j(_({},r[c.slotName]),E({},c.extensionId,{config:l,loaded:!0}))}}catch(t){i=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}b().setState({configs:r})},D=function(t,e){Ft(t,e);var n=vt(e,$t),r=Nt.getState();Nt.setState({schemas:j(_({},r.schemas),E({},t,n)),moduleLoaded:j(_({},r.moduleLoaded),E({},t,!0))})},N=function(t){var e=Nt.getState();Nt.setState({schemas:j(_({},e.schemas),E({},t,$t))})},R=function(t){var e=Nt.getState();Nt.setState({schemas:j(_({},e.schemas),E({},t,Wt))})},L=function(t,e){Ft(t,e);var n=vt(e,$t),r=Nt.getState();r.schemas[t]&&console.error("Config schema for extension ".concat(t," already exists. If there are multiple extensions with this same name, one will probably crash.")),Nt.setState({schemas:j(_({},r.schemas),E({},t,n))})},M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"provided",n=Nt.getState();Nt.setState({providedConfigs:P(n.providedConfigs).concat([{source:e,config:t}])})},U=function(t){return new Promise((function(e){var n=function(t){if(t.loaded&&t.config){var n=yt(["Display conditions","Translation overrides"],t.config);e(n),o&&o()}},r=v(t);n(r.getState());var o=r.subscribe(n)}))},B=function(t){return new Promise((function(e){var n=function(t){if(t.translationOverridesLoaded&&t.config){var n,r=null!==(n=t.config["Translation overrides"])&&void 0!==n?n:{};e(r),o&&o()}},r=v(t);n(r.getState());var o=r.subscribe(n)}))},F=function(t,e,n){q(t,e,n);var r=Kt(t,e);return Vt(t,r,n),r},H=function(t,e,n,r,o,i){var a,u,s,c,l=function(t){return x(t.split("#"),1)[0]}(r),f=o.schemas[l],p=f?l:e,h=K(o,i),d=$(t,h),v=null!==(c=null==d||null===(a=d.extensionSlots)||void 0===a||null===(u=a[n])||void 0===u||null===(s=u.configure)||void 0===s?void 0:s[r])&&void 0!==c?c:{},y=z([$(p,h),v]),m=null!=f?f:o.schemas[e];q(m,y,p);var g=Kt(m,y);return Vt(m,g,p),delete g.extensionSlots,g},V=function(t,e,n){var r="".concat(e,".extensionSlots.").concat(n),o="Extension slot config '".concat(r,"'"),i=Object.keys(t).filter((function(t){return!["add","remove","order","configure"].includes(t)}));i.length&&Q(r,o+"' contains invalid keys '".concat(i.join("', '"),"'")),t.add&&(Array.isArray(t.add)&&t.add.every((function(t){return"string"==typeof t}))||Q(r,o+".add' is invalid. Must be an array of strings (extension IDs)")),t.remove&&(Array.isArray(t.remove)&&t.remove.every((function(t){return"string"==typeof t}))||Q(r,o+".remove' is invalid. Must be an array of strings (extension IDs)")),t.order&&(Array.isArray(t.order)&&t.order.every((function(t){return"string"==typeof t}))||Q(r,o+".order' is invalid. Must be an array of strings (extension IDs)")),t.configure&&(X(t.configure)||Q(r,o+".configure' is invalid. Must be an object with extension IDs for keys"))},K=function(t,e){return P(t.providedConfigs.map((function(t){return t.config}))).concat([e.config])},G=function(t,e,n){var r=e.schemas[t],o=$(t,K(e,n));q(r,o,t);var i=Kt(r,o);return Vt(r,i,t),delete i.extensionSlots,i},W=function(t,e,n){var r=$(t,K(e,n)),o=Kt($t,r);return Vt($t,o,t),delete o.extensionSlots,o},$=function(t,e){return z(e.map((function(e){return e[t]})).filter((function(t){return!!t})))},z=function(t){return xt(vt)({},t)},q=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=e[s],l=n+"."+s,f=t[s];t.hasOwnProperty(s)?Ht(f,c,l):"extensionSlots"===s&&""!==n||Q(l,"Unknown config key '".concat(l,"' provided. Ignoring."))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}},Z=function(t,e,n){e&&Y(t,[{Array:Pt,Boolean:kt,ConceptUuid:It,Number:At,Object:Tt,String:Ct,UUID:It,PersonAttributeTypeUuid:It,PatientIdentifierTypeUuid:It}[e]],n)},Y=function(t,e,n){if(e)try{var r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=(0,a.value)(n);"string"==typeof s&&Q(t,"object"==typeof n?"Invalid configuration for ".concat(t,": ").concat(s):"Invalid configuration value ".concat(n," for ").concat(t,": ").concat(s))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}catch(e){console.error('Skipping invalid validator at "'.concat(t,'". Encountered error\n\t').concat(e))}},J=function(t){return!!t&&Object.keys(t).filter((function(t){return!["_default","_validators"].includes(t)})).length>0},X=function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t},Q=function(t,e){var n="".concat(t,":::").concat(e);Gt.has(n)||(console.error(e),Gt.add(n))},tt=function(t){t?Gt.forEach((function(e){e.startsWith(t)&&Gt.delete(e)})):Gt.clear()};o.r(i),o.d(i,{Type:function(){return gt},clearConfigErrors:function(){return tt},configExtensionStore:function(){return Lt},configInternalStore:function(){return Nt},defineConfigSchema:function(){return D},defineExtensionConfigSchema:function(){return L},getConfig:function(){return U},getConfigStore:function(){return v},getExtensionConfig:function(){return w},getExtensionConfigFromStore:function(){return S},getExtensionSlotConfig:function(){return m},getExtensionSlotConfigFromStore:function(){return g},getExtensionSlotsConfigStore:function(){return y},getExtensionsConfigStore:function(){return b},getTranslationOverrides:function(){return B},implementerToolsConfigStore:function(){return Mt},inRange:function(){return zt},isUrl:function(){return Zt},isUrlWithTemplateParameters:function(){return qt},oneOf:function(){return Yt},processConfig:function(){return F},provide:function(){return M},registerModuleWithConfigSystem:function(){return N},registerTranslationNamespace:function(){return R},temporaryConfigStore:function(){return Rt},validator:function(){return d},validators:function(){return Jt}});var et="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},nt=Object.prototype.toString,rt=function(){return"[object Arguments]"===nt.call(arguments)?function(t){return"[object Arguments]"===nt.call(t)}:function(t){return s("callee",t)}}(),ot=rt,it=!{toString:null}.propertyIsEnumerable("toString"),at=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ut=function(){return arguments.propertyIsEnumerable("length")}(),st=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},ct="function"!=typeof Object.keys||ut?n((function(t){if(Object(t)!==t)return[];var e,n,r=[],o=ut&&ot(t);for(e in t)!s(e,t)||o&&"length"===e||(r[r.length]=e);if(it)for(n=at.length-1;n>=0;)s(e=at[n],t)&&!st(r,e)&&(r[r.length]=e),n-=1;return r})):n((function(t){return Object(t)!==t?[]:Object.keys(t)})),lt=n((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function ft(e,n,r,o){if(et(e,n))return!0;var i,a,u=lt(e);if(u!==lt(n))return!1;if(null==e||null==n)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof n.equals)return"function"==typeof e.equals&&e.equals(n)&&"function"==typeof n.equals&&n.equals(e);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(i=e.constructor,null==(a=String(i).match(/^function (\w*)/))?"":a[1]))return e===n;break;case"Boolean":case"Number":case"String":if((void 0===e?"undefined":t(e))!=(void 0===n?"undefined":t(n))||!et(e.valueOf(),n.valueOf()))return!1;break;case"Date":if(!et(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(e.source!==n.source||e.global!==n.global||e.ignoreCase!==n.ignoreCase||e.multiline!==n.multiline||e.sticky!==n.sticky||e.unicode!==n.unicode)return!1}for(var l=r.length-1;l>=0;){if(r[l]===e)return o[l]===n;l-=1}switch(u){case"Map":return e.size===n.size&&c(e.entries(),n.entries(),r.concat([e]),o.concat([n]));case"Set":return e.size===n.size&&c(e.values(),n.values(),r.concat([e]),o.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var f=ct(e);if(f.length!==ct(n).length)return!1;var p=r.concat([e]),h=o.concat([n]);for(l=f.length-1;l>=0;){var d=f[l];if(!s(d,n)||!ft(n[d],e[d],p,h))return!1;l-=1}return!0}var pt=r((function(t,e){return ft(t,e,[],[])})),ht=l((function(t,e,n){var r,o={};for(r in e)s(r,e)&&(o[r]=s(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)s(r,n)&&!s(r,o)&&(o[r]=n[r]);return o})),dt=l((function t(e,n,r){return ht((function(n,r,o){return f(r)&&f(o)?t(e,r,o):e(n,r,o)}),n,r)})),vt=r((function(t,e){return dt((function(t,e,n){return n}),t,e)})),yt=r((function(t,e){for(var n={},r={},o=0,i=t.length;o<i;)r[t[o]]=1,o+=1;for(var a in e)r.hasOwnProperty(a)||(n[a]=e[a]);return n}));function mt(t,e,n,r){var o,i=function(o){for(var i=e.length,a=0;a<i;){if(t===e[a])return n[a];a+=1}for(var u in e[a+1]=t,n[a+1]=o,t)o[u]=r?mt(t[u],e,n,!0):t[u];return o};switch(lt(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return o=t,new RegExp(o.source,(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.sticky?"y":"")+(o.unicode?"u":""));default:return t}}var gt,bt=n((function(t){return null!=t&&"function"==typeof t.clone?t.clone():mt(t,[],[],!0)})),wt=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},St=n((function(t){return!!wt(t)||!!t&&"object"==typeof t&&!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1))})),Ot=function(){var t=function(t){this.f=t};return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}(),Et=r((function(t,e){return function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,a){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,a,u){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,a,u,s){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,a,u,s,c){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,a,u,s,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(t.length,(function(){return t.apply(e,arguments)}))})),_t=Et,jt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",xt=l((function(t,e,n){if("function"==typeof t&&(t=function(t){return new Ot(t)}(t)),St(n))return function(t,e,n){for(var r=0,o=n.length;r<o;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return h(t,e,n,"fantasy-land/reduce");if(null!=n[jt])return p(t,e,n[jt]());if("function"==typeof n.next)return p(t,e,n);if("function"==typeof n.reduce)return h(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}));!function(t){t.Array="Array",t.Boolean="Boolean",t.ConceptUuid="ConceptUuid",t.Number="Number",t.Object="Object",t.String="String",t.UUID="UUID",t.PersonAttributeTypeUuid="PersonAttributeTypeUuid",t.PatientIdentifierTypeUuid="PatientIdentifierTypeUuid"}(gt||(gt={}));var Pt=d((function(t){return Array.isArray(t)}),"must be an array"),kt=d((function(t){return"boolean"==typeof t}),"must be a boolean"),At=d((function(t){return"number"==typeof t}),"must be a number"),Ct=d((function(t){return"string"==typeof t}),"must be a string"),Tt=d((function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t}),"must be an object (not an array or null)"),It=d((function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)||/^[0-9a-f]{36}$/i.test(t)}),"must be a valid UUID or a 36-character hexadecimal string"),Dt=o(685),Nt=(0,Dt.createGlobalStore)("config-internal",{providedConfigs:[],schemas:{},moduleLoaded:{}}),Rt=(0,Dt.createGlobalStore)("temporary-config",{config:function(){try{return JSON.parse(localStorage.getItem("openmrs:temporaryConfig")||"{}")}catch(t){return{}}}()});Rt.subscribe((function(t){var e;e=t.config,localStorage.setItem("openmrs:temporaryConfig",JSON.stringify(e))}));var Lt=(0,Dt.createGlobalStore)("config-store-of-extension-state",{mountedExtensions:[]}),Mt=(0,Dt.createGlobalStore)("config-implementer-tools",{config:{}});function Ut(t){return t.hasOwnProperty("_default")?j(_({},t),{_value:t._default,_source:"default"}):X(t)?Object.keys(t).reduce((function(e,n){return e[n]=Ut(t[n]),e}),{}):{}}function Bt(t,e){return X(t)?Object.keys(t).reduce((function(n,r){return n[r]=Bt(t[r],e),n}),{}):{_value:t,_source:e}}function Ft(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="Please verify that you are running the latest version and, if so, alert the maintainer.",o=!0,i=!1,a=void 0;try{for(var u,s=function(){var o=u.value,i=n+(n&&".")+o,a=e[o];if("Display conditions"===i&&console.error("".concat(t,' declares a configuration option called "Display conditions"; the "Display conditions" option is a reserved name. ').concat(r)),"Translation overrides"===i&&console.error("".concat(t,' declares a configuration option called "Translation overrides"; the "Translation overrides" option is a reserved name. ').concat(r)),!X(a))return console.error("".concat(t," has bad config schema definition for key '").concat(i,"'. ").concat(r)),"continue";a.hasOwnProperty("_default")||Ft(t,a,i);var s=a._elements;if(J(s)&&Ft(t,s,i+"._elements"),a._validators){var c=!0,l=!1,f=void 0;try{for(var p,h=a._validators[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var d=p.value;"function"!=typeof d&&console.error("".concat(t," has invalid validator for key '").concat(i,"' ").concat(r,".")+"\n\nIf you're the maintainer: validators must be functions that return either "+"undefined or an error string. Received ".concat(d,"."))}}catch(t){l=!0,f=t}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}}var v=a._type;v&&!Object.values(gt).includes(v)&&console.error("".concat(t," has invalid type for key '").concat(i,"' ").concat(r,".")+"\n\nIf you're the maintainer: the allowed types are ".concat(Object.values(gt).join(", "),". ")+"Received '".concat(v,"'")),Object.keys(a).every((function(t){return["_description","_validators","_elements","_type"].includes(t)}))&&!n.includes("._elements")&&console.error("".concat(t," has bad config schema definition for key '").concat(i,"'. ").concat(r,".")+"\n\nIf you're the maintainer: all config elements must have a default. "+"Received ".concat(JSON.stringify(a))),s&&v&&![gt.Array,gt.Object].includes(v)&&console.error("".concat(t," has bad config schema definition for key '").concat(i,"'. ").concat(r,".")+"\n\nIf you're the maintainer: the 'elements' key only works with '_type' equal to 'Array' or 'Object'. "+"Received ".concat(JSON.stringify(v)))},c=Object.keys(e).filter((function(t){return!t.startsWith("_")}))[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)s()}catch(t){i=!0,a=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}function Ht(t,e,n){Z(n,t._type,e),X(e)?t._type===gt.Object?function(t,e,n){if(t._elements){var r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=e[s];q(t._elements,c,"".concat(n,".").concat(s))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}}(t,e,n):t.hasOwnProperty("_default")||q(t,e,n):t._type===gt.Array&&function(t,e,n){if(J(t._elements))for(var r=0;r<e.length;r++)Ht(t._elements,e[r],"".concat(n,"[").concat(r,"]"));for(var o=0;o<e.length;o++){var i;Z("".concat(n,"[").concat(o,"]"),null===(i=t._elements)||void 0===i?void 0:i._type,e[o])}}(t,e,n)}function Vt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t)if(e!==t._default&&Y(n,t._validators,e),X(e)){var r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=e[s],l=n+"."+s,f=t[s];t._type===gt.Object&&t._elements?Vt(t._elements,c,l):Vt(f,c,l)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}else if(Array.isArray(e)&&t._elements)for(var p=0;p<e.length;p++)Vt(t._elements,e[p],"".concat(n,"[").concat(p,"]"))}A(Nt.getState(),Rt.getState()),Nt.subscribe((function(t){return A(t,Rt.getState())})),Rt.subscribe((function(t){return A(Nt.getState(),t)})),T(Nt.getState(),Rt.getState()),Nt.subscribe((function(t){return T(t,Rt.getState())})),Rt.subscribe((function(t){return T(Nt.getState(),t)})),C(Nt.getState(),Rt.getState()),Nt.subscribe((function(t){return C(t,Rt.getState())})),Rt.subscribe((function(t){return C(Nt.getState(),t)})),I(Nt.getState(),Lt.getState(),Rt.getState()),Nt.subscribe((function(t){I(t,Lt.getState(),Rt.getState())})),Lt.subscribe((function(t){I(Nt.getState(),t,Rt.getState())})),Rt.subscribe((function(t){I(Nt.getState(),Lt.getState(),t)}));var Kt=function(t,e){var n=bt(e);if(!t)return n;var r=!0,o=!1,i=void 0;try{for(var a,u=function(){var e=a.value,r=n[e],o=t[e];if(o&&o.hasOwnProperty("_default")){n.hasOwnProperty(e)||(n[e]=o._default);var i=o._elements;if(r&&J(i))if(o._type===gt.Array&&Array.isArray(r)){var u=r.map((function(t){return Kt(i,t)}));n[e]=u}else if(o._type===gt.Object){var s=!0,c=!1,l=void 0;try{for(var f,p=Object.keys(r)[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var h=f.value;r[h]=Kt(i,r[h])}}catch(t){c=!0,l=t}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}else if(X(o)){var d=n.hasOwnProperty(e)?r:{};X(d)&&(n[e]=Kt(o,d))}},s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)u()}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},Gt=new Set,Wt={"Translation overrides":{_description:"Per-language overrides for frontend translations should be keyed by language code and each language dictionary contains the translation key and the display value",_type:gt.Object,_default:{},_validators:[d((function(t){return Object.keys(t).every((function(t){return/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(t)}))}),(function(t){var e=Object.keys(t).filter((function(t){return!/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(t)}));return"The 'Translation overrides' object should have language codes for keys. Language codes must be in the form of a two-to-three letter language code optionally followed by a hyphen and a two-to-three letter country code. The following keys do not conform: ".concat(e.join(", "),".")}))]}},$t=_({"Display conditions":{privileges:{_description:"The privilege(s) the user must have to use this extension",_type:gt.Array,_default:[]}}},Wt),zt=function(t,e){return d((function(n){return t<=n&&n<=e}),"must be between ".concat(t," and ").concat(e))},qt=function(t){var e=t.concat(["openmrsBase","openmrsSpaBase"]);return d((function(t){if(!t||"string"!=typeof t)return!1;for(var n=/\${(.*?)}/g,r=n.exec(t);r;){if(!e.includes(r[1]))return!1;r=n.exec(t)}return!0}),"Should be a URL or path. The allowed template parameters are "+e.map((function(t){return"${"+t+"}"})).join(", "))},Zt=qt([]),Yt=function(t){return d((function(e){return t.includes(e)}),"Must be one of the following: '".concat(t.join("', '"),"'."))},Jt={inRange:zt,isUrl:Zt,isUrlWithTemplateParameters:qt,oneOf:Yt}}(),i}())}}}))},674:function(){System.register(["@openmrs/esm-globals"],(function(t,e){var n={};return{setters:[function(t){n.dispatchToastShown=t.dispatchToastShown}],execute:function(){t(function(){"use strict";var t={728:function(t){t.exports=n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return function(){var t=function(t){var e=n(t);setTimeout((function(){throw e}))},e=function(){var e=Error();return function(r){n(r).stack+="\nAsync stacktrace:\n".concat(e.stack),t(r)}},n=function(t){var e,n,r,o,i;if(n=t,null!=(r=Error)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):(o=n,null!=(i=r)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](o):l(o,i)))return t;if(null===t)return Error("'null' was thrown as an error");if("object"==typeof t){try{e="Object thrown as error: ".concat(JSON.stringify(t))}catch(n){e="Object thrown as error with the following properties: ".concat(Object.keys(t))}return Error(e)}return void 0===t?Error("'undefined' was thrown as an error"):Error(t.toString())};r.r(o),r.d(o,{createErrorHandler:function(){return e},reportError:function(){return t}});var i=r(728);window.onerror=function(t){return console.error("Unexpected error: ",t),(0,i.dispatchToastShown)({description:null!=t?t:"Oops! An unexpected error occurred.",kind:"error",title:"Error"}),!1},window.onunhandledrejection=function(t){var e;console.error("Unhandled rejection: ",t.reason),(0,i.dispatchToastShown)({description:null!==(e=t.reason)&&void 0!==e?e:"Oops! An unhandled promise rejection occurred.",kind:"error",title:"Error"})}}(),o}())}}}))},570:function(){System.register(["@openmrs/esm-state"],(function(t,e){var n={};return{setters:[function(t){n.getGlobalStore=t.getGlobalStore}],execute:function(){t(function(){"use strict";var t={685:function(t){t.exports=n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return function(){var t=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},e=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},n=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(n){e(t,n,r[n])}))}return t},i=function(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t},a=function(t,r,o){var a;p.setState((function(u){var s;return{flags:i(n({},u.flags),e({},t,{enabled:null!==(a=null===(s=u.flags[t])||void 0===s?void 0:s.enabled)&&void 0!==a&&a,label:r,description:o}))}}))},u=function(t){return p.getState().flags[t].enabled},s=function(t,e){p.subscribe((function(n){e(n.flags[t].enabled)}))},c=function(t,r){p.setState((function(o){return{flags:i(n({},o.flags),e({},t,i(n({},o.flags[t]),{enabled:r})))}}))};r.r(o),r.d(o,{featureFlagsStore:function(){return p},getFeatureFlag:function(){return u},registerFeatureFlag:function(){return a},setFeatureFlag:function(){return c},subscribeToFeatureFlag:function(){return s}});var l=r(685),f={flags:function(){var t={},e=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(localStorage)[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var u=i.value;if(u.startsWith("openmrs:feature-flag:")){var s=u.replace("openmrs:feature-flag:",""),c=JSON.parse(localStorage.getItem("openmrs:feature-flag-meta:".concat(s))||"{}");t[s]=n({enabled:"true"===localStorage.getItem(u)},c)}}}catch(t){r=!0,o=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw o}}return t}()},p=(0,l.getGlobalStore)("feature-flags",f);p.subscribe((function(e){var n,r=!0,o=!1,i=void 0;try{for(var a,u=Object.entries(e.flags)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=function(t){if(Array.isArray(t))return t}(n=a.value)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(n)||function(e,n){if(e){if("string"==typeof e)return t(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],l=s[1];localStorage.setItem("openmrs:feature-flag:".concat(c),l.enabled.toString()),localStorage.setItem("openmrs:feature-flag-meta:".concat(c),JSON.stringify({label:l.label,description:l.description}))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}))}(),o}())}}}))},103:function(){System.register([],(function(t,e){return{execute:function(){t(function(){"use strict";var t=function(t){window.dispatchEvent(new CustomEvent(v,{detail:{online:t}}))},e=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(v,e),function(){return window.removeEventListener(v,e)}},n=function(t){return t({online:navigator.onLine}),e(t)},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent(y,{detail:t}))},o=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(y,e),function(){return window.removeEventListener(y,e)}},i=function(t){window.dispatchEvent(new CustomEvent(m,{detail:t}))},a=function(t){window.dispatchEvent(new CustomEvent(g,{detail:t}))},u=function(t){window.dispatchEvent(new CustomEvent(w,{detail:t}))},s=function(t){window.dispatchEvent(new CustomEvent(b,{detail:t}))},c=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(m,e),function(){return window.removeEventListener(m,e)}},l=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(g,e),function(){return window.removeEventListener(g,e)}},f=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(b,e),function(){return window.removeEventListener(b,e)}},p=function(t){var e=function(e){return t(e.detail)};return window.addEventListener(w,e),function(){return window.removeEventListener(w,e)}},h={d:function(t,e){for(var n in e)h.o(e,n)&&!h.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},d={};h.r(d),h.d(d,{dispatchActionableNotificationShown:function(){return a},dispatchConnectivityChanged:function(){return t},dispatchNotificationShown:function(){return i},dispatchPrecacheStaticDependencies:function(){return r},dispatchSnackbarShown:function(){return u},dispatchToastShown:function(){return s},subscribeActionableNotificationShown:function(){return l},subscribeConnectivity:function(){return n},subscribeConnectivityChanged:function(){return e},subscribeNotificationShown:function(){return c},subscribePrecacheStaticDependencies:function(){return o},subscribeSnackbarShown:function(){return p},subscribeToastShown:function(){return f}});var v="openmrs:connectivity-changed",y="openmrs:precache-static-dependencies",m="openmrs:notification-shown",g="openmrs:actionable-notification-shown",b="openmrs:toast-shown",w="openmrs:snack-bar-shown";return d}())}}}))},367:function(t,e,n){var r=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},o=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},i=function(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):l(t,e)},a=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":void 0===t?"undefined":v(t)};System.register(["@openmrs/esm-state"],(function(t,e){var u={};return{setters:[function(t){u.createGlobalStore=t.createGlobalStore}],execute:function(){t(function(){"use strict";var t={685:function(t){t.exports=u}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,s),o.exports}s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var c={};return function(){var t=function(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")},e=function(t){return t&&t.sensitive?"":"i"},u=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},l=function(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},f=function(t){return e=t.matcher,(null!=(n=RegExp)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](e):i(e,n))?t.matcher:"string"==typeof t.matcher?kt(t.matcher):kt(t.path);var e,n},p=function(t){return h([t])},h=function(t){var e=d(),n=t.map((function(t){return{matcher:f(t),settings:t}})),r=l(e).concat(l(n));At.setState(r,!0)},d=function(){return At.getState()},v=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},y=function(t,e){if(t.length>0){var n=Ct(t,e);if(n){for(var r=[n],o=Ct(t,n.settings.parent);void 0!==o;)r.push(o),o=Ct(t,o.settings.parent);return r.reverse()}}return[]},m=function(t){return y(d(),t)},g=function(t,e,n){var r=O(t,e,n);Rt.length?Rt.forEach((function(t){return t(r)})):setTimeout((function(){throw r}))},b=function(t){if("function"!=typeof t)throw Error(S(28,!1));Rt.push(t)},w=function(t){if("function"!=typeof t)throw Error(S(29,!1));var e=!1;return Rt=Rt.filter((function(n){var r=n===t;return e=e||r,!r})),e},S=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"single-spa minified message #".concat(t,": ").concat(e?e+" ":"","See https://single-spa.js.org/error/?code=").concat(t).concat(r.length?"&arg=".concat(r.join("&arg=")):"")},O=function(t,e,n){var r,o="".concat(P(e)," '").concat(j(e),"' died in status ").concat(e.status,": ");if(i(t,Error)){try{t.message=o+t.message}catch(t){}r=t}else{console.warn(S(30,!1,e.status,j(e)));try{r=Error(o+JSON.stringify(t))}catch(e){r=t}}return r.appOrParcelName=j(e),e.status=n,r},E=function(t){return t.status===Vt},_=function(t){try{return t.activeWhen(window.location)}catch(e){return g(e,t,zt),!1}},j=function(t){return t.name},x=function(t){return Boolean(t.unmountThisParcel)},P=function(t){return x(t)?"parcel":"application"},k=function(){for(var t=arguments.length-1;t>0;t--)for(var e in arguments[t])"__proto__"!==e&&(arguments[t-1][e]=arguments[t][e]);return arguments[0]},A=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},C=function(t){return t&&("function"==typeof t||(e=t,Array.isArray(e)&&!A(e,(function(t){return"function"!=typeof t}))));var e},T=function(t,e){var n=t[e]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var r=P(t),o=j(t);return function(t){return n.reduce((function(n,i,a){return n.then((function(){var n=i(t);return I(n)?n:Promise.reject(S(15,!1,r,o,e,a))}))}),Promise.resolve())}},I=function(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch},D=function(t,e){return Promise.resolve().then((function(){return t.status!==Ut?t:(t.status=Bt,t.bootstrap?G(t,"bootstrap").then(n).catch((function(n){if(e)throw O(n,t,zt);return g(n,t,zt),t})):Promise.resolve().then(n))}));function n(){return t.status=Ft,t}},N=function(t,e){return Promise.resolve().then((function(){if(t.status!==Vt)return t;t.status=Gt;var n=Object.keys(t.parcels).map((function(e){return t.parcels[e].unmountThisParcel()}));return Promise.all(n).then(r,(function(n){return r().then((function(){var r=Error(n.message);if(e)throw O(r,t,zt);g(r,t,zt)}))})).then((function(){return t}));function r(){return G(t,"unmount").then((function(){t.status=Ft}),(function(n){if(e)throw O(n,t,zt);g(n,t,zt)}))}}))},R=function(t,e){return Promise.resolve().then((function(){return t.status!==Ft?t:(Zt||(window.dispatchEvent(new Nt("single-spa:before-first-mount")),Zt=!0),t.status=Ht,G(t,"mount").then((function(){return t.status=Vt,Yt||(window.dispatchEvent(new Nt("single-spa:first-mount")),Yt=!0),t})).catch((function(n){return t.status=Vt,N(t,!0).then(r,r);function r(){if(e)throw O(n,t,zt);return g(n,t,zt),t}})))}))},L=function(){return M.apply(Xt,arguments)},M=function(t,e){var n=this;if(!t||"object"!=typeof t&&"function"!=typeof t)throw Error(S(2,!1));if(t.name&&"string"!=typeof t.name)throw Error(S(3,!1,a(t.name)));var r=Jt++,o=t.name||"parcel-".concat(r);if("object"!=typeof e)throw Error(S(4,!1,o,void 0===e?"undefined":a(e)));if(!e.domElement)throw Error(S(5,!1,o));var i,u="function"==typeof t,s=u?t:function(){return Promise.resolve(t)},c={id:r,parcels:{},status:u?Mt:Ut,customProps:e,parentName:j(n),unmountThisParcel:function(){return d.then((function(){if(c.status!==Vt)throw Error(S(6,!1,o,c.status));return N(c,!0)})).then((function(t){return c.parentName&&delete n.parcels[c.id],t})).then((function(t){return f(t),t})).catch((function(t){throw c.status=zt,p(t),t}))}};n.parcels[r]=c;var l=s();if(!l||"function"!=typeof l.then)throw Error(S(7,!1));l=l.then((function(t){if(!t)throw Error(S(8,!1));if(o=t.name||"parcel-".concat(r),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!C(t.bootstrap))throw Error(S(9,!1,o));if(!C(t.mount))throw Error(S(10,!1,o));if(!C(t.unmount))throw Error(S(11,!1,o));if(t.update&&!C(t.update))throw Error(S(12,!1,o));var e=T(t,"bootstrap"),n=T(t,"mount"),a=T(t,"unmount");c.status=Ut,c.name=o,c.bootstrap=e,c.mount=n,c.unmount=a,c.timeouts=W(t.timeouts),t.update&&(c.update=T(t,"update"),i.update=function(t){return c.customProps=t,U((e=c,Promise.resolve().then((function(){if(e.status!==Vt)throw Error(S(32,!1,j(e)));return e.status=Kt,G(e,"update").then((function(){return e.status=Vt,e})).catch((function(t){throw O(t,e,zt)}))}))));var e})}));var f,p,h=l.then((function(){return D(c,!0)})),d=h.then((function(){return R(c,!0)})),v=new Promise((function(t,e){f=t,p=e}));return i={mount:function(){return U(Promise.resolve().then((function(){if(c.status!==Ft)throw Error(S(13,!1,o,c.status));return n.parcels[r]=c,R(c)})))},unmount:function(){return U(c.unmountThisParcel())},getStatus:function(){return c.status},loadPromise:U(l),bootstrapPromise:U(h),mountPromise:U(d),unmountPromise:U(v)}},U=function(t){return t.then((function(){return null}))},B=function(t){var e=j(t),n="function"==typeof t.customProps?t.customProps(e,window.location):t.customProps;("object"!=typeof n||null===n||Array.isArray(n))&&(n={},console.warn(S(40,!1),e,n));var r=k({},n,{name:e,mountParcel:M.bind(t),singleSpa:It});return x(t)&&(r.unmountSelf=t.unmountThisParcel),r},F=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(S(16,!1));Qt.bootstrap={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},H=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(S(17,!1));Qt.mount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},V=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(S(18,!1));Qt.unmount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},K=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(S(19,!1));Qt.unload={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},G=function(t,e){var n=t.timeouts[e],r=n.warningMillis,o=P(t);return new Promise((function(i,a){var u=!1,s=!1;t[e](B(t)).then((function(t){u=!0,i(t)})).catch((function(t){u=!0,a(t)})),setTimeout((function(){return l(1)}),r),setTimeout((function(){return l(!0)}),n.millis);var c=S(31,!1,e,o,j(t),n.millis);function l(t){if(!u)if(!0===t)s=!0,n.dieOnTimeout?a(Error(c)):console.error(c);else if(!s){var e=t,o=e*r;console.warn(c),o+r<n.millis&&setTimeout((function(){return l(e+1)}),r)}}}))},W=function(t){var e={};for(var n in Qt)e[n]=k({},Qt[n],t&&t[n]||{});return e},$=function(t){return Promise.resolve().then((function(){return t.loadPromise?t.loadPromise:t.status!==Lt&&t.status!==$t?t:(t.status=Mt,t.loadPromise=Promise.resolve().then((function(){var r=t.loadApp(B(t));if(!I(r))throw n=!0,Error(S(33,!1,j(t)));return r.then((function(n){var r;t.loadErrorTime=null,"object"!=typeof(e=n)&&(r=34),Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!C(e.bootstrap)&&(r=35),C(e.mount)||(r=36),C(e.unmount)||(r=37);var o=P(e);if(r){var i;try{i=JSON.stringify(e)}catch(t){}return console.error(S(r,!1,o,j(t),i),e),g(void 0,t,zt),t}return e.devtools&&e.devtools.overlays&&(t.devtools.overlays=k({},t.devtools.overlays,e.devtools.overlays)),t.status=Ut,t.bootstrap=T(e,"bootstrap"),t.mount=T(e,"mount"),t.unmount=T(e,"unmount"),t.unload=T(e,"unload"),t.timeouts=W(e.timeouts),delete t.loadPromise,t}))})).catch((function(e){var r;return delete t.loadPromise,n?r=zt:(r=$t,t.loadErrorTime=(new Date).getTime()),g(e,t,r),t})));var e,n}))},z=function(t){var e;if("string"==typeof t)e=t;else if(this&&this.href)e=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error(S(14,!1));e=t.currentTarget.href,t.preventDefault()}var n=X(window.location.href),r=X(e);0===e.indexOf("#")?window.location.hash=r.hash:n.host!==r.host&&r.host?window.location.href=e:r.pathname===n.pathname&&r.search===n.search?window.location.hash=r.hash:window.history.pushState(null,null,e)},q=function(t){var e=this;if(t){var n=t[0].type;ne.indexOf(n)>=0&&ee[n].forEach((function(n){try{n.apply(e,t)}catch(t){setTimeout((function(){throw t}))}}))}},Z=function(){pe([],arguments)},Y=function(t,e){return function(){var n=window.location.href,r=t.apply(this,arguments),o=window.location.href;return Tt&&n===o||window.dispatchEvent(function(t,e){var n;try{n=new PopStateEvent("popstate",{state:t})}catch(e){(n=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,t)}return n.singleSpa=!0,n.singleSpaTrigger=e,n}(window.history.state,e)),r}},J=function(t){if(oe)throw Error(S(43,!1));Tt=!t||!t.hasOwnProperty("urlRerouteOnly")||t.urlRerouteOnly,oe=!0,re=window.history.replaceState,window.addEventListener("hashchange",Z),window.addEventListener("popstate",Z);var e=window.addEventListener,n=window.removeEventListener;window.addEventListener=function(t,n){if(!("function"==typeof n&&ne.indexOf(t)>=0)||A(ee[t],(function(t){return t===n})))return e.apply(this,arguments);ee[t].push(n)},window.removeEventListener=function(t,e){if(!("function"==typeof e&&ne.indexOf(t)>=0))return n.apply(this,arguments);ee[t]=ee[t].filter((function(t){return t!==e}))},window.history.pushState=Y(window.history.pushState,"pushState"),window.history.replaceState=Y(re,"replaceState")},X=function(t){var e=document.createElement("a");return e.href=t,e},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!ie){var e=t.fn.on,n=t.fn.off;t.fn.on=function(t,n){return tt.call(this,e,window.addEventListener,t,n,arguments)},t.fn.off=function(t,e){return tt.call(this,n,window.removeEventListener,t,e,arguments)},ie=!0}},tt=function(t,e,n,r,o){return"string"!=typeof n?t.apply(this,o):(n.split(/\s+/).forEach((function(t){ne.indexOf(t)>=0&&(e(t,r),n=n.replace(t,""))})),""===n.trim()?this:t.apply(this,o))},et=function(t){return Promise.resolve().then((function(){var e=ae[j(t)];if(!e)return t;if(t.status===Lt)return nt(t,e),t;if(t.status===Wt)return e.promise.then((function(){return t}));if(t.status!==Ft&&t.status!==$t)return t;var n=t.status===$t?Promise.resolve():G(t,"unload");return t.status=Wt,n.then((function(){return nt(t,e),t})).catch((function(n){return function(t,e,n){delete ae[j(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,g(n,t,zt),e.reject(n)}(t,e,n),t}))}))},nt=function(t,e){delete ae[j(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=Lt,e.resolve()},rt=function(t,e,n,r){ae[j(t)]={app:t,resolve:n,reject:r},Object.defineProperty(ae[j(t)],"promise",{get:e})},ot=function(t){return ae[t]},it=function(){return ue.filter(E).map(j)},at=function(){return ue.map(j)},ut=function(t){var e=A(ue,(function(e){return j(e)===t}));return e?e.status:null},st=function(t,e,n,r){var o=function(t,e,n,r){var o,i={name:null,loadApp:null,activeWhen:null,customProps:null};return"object"==typeof t?(function(t){if(Array.isArray(t)||null===t)throw Error(S(39,!1));var e=["name","app","activeWhen","customProps"],n=Object.keys(t).reduce((function(t,n){return e.indexOf(n)>=0?t:t.concat(n)}),[]);if(0!==n.length)throw Error(S(38,!1,e.join(", "),n.join(", ")));if("string"!=typeof t.name||0===t.name.length)throw Error(S(20,!1));if("object"!=typeof t.app&&"function"!=typeof t.app)throw Error(S(20,!1));var r=function(t){return"string"==typeof t||"function"==typeof t};if(!(r(t.activeWhen)||Array.isArray(t.activeWhen)&&t.activeWhen.every(r)))throw Error(S(24,!1));if(!ht(t.customProps))throw Error(S(22,!1))}(t),i.name=t.name,i.loadApp=t.app,i.activeWhen=t.activeWhen,i.customProps=t.customProps):(function(t,e,n,r){if("string"!=typeof t||0===t.length)throw Error(S(20,!1));if(!e)throw Error(S(23,!1));if("function"!=typeof n)throw Error(S(24,!1));if(!ht(r))throw Error(S(22,!1))}(t,e,n,r),i.name=t,i.loadApp=e,i.activeWhen=n,i.customProps=r),i.loadApp="function"!=typeof(o=i.loadApp)?function(){return Promise.resolve(o)}:o,i.customProps=function(t){return t||{}}(i.customProps),i.activeWhen=function(t){var e=Array.isArray(t)?t:[t];return e=e.map((function(t){return"function"==typeof t?t:dt(t)})),function(t){return e.some((function(e){return e(t)}))}}(i.activeWhen),i}(t,e,n,r);if(gt()||se||(se=!0,setTimeout((function(){gt()||console.warn(S(1,!1))}),5e3)),-1!==at().indexOf(o.name))throw Error(S(21,!1,o.name));ue.push(k({loadErrorTime:null,status:Lt,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},o)),te&&(Q(),pe())},ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;return ue.filter((function(e){return e.activeWhen(t)})).map(j)},lt=function(t){if(0===ue.filter((function(e){return j(e)===t})).length)throw Error(S(25,!1,t));return(te?ft(t,{waitForUnmount:!1}):Promise.resolve()).then((function(){var e=ue.map(j).indexOf(t);ue.splice(e,1)}))},ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof t)throw Error(S(26,!1));var n=A(ue,(function(e){return j(e)===t}));if(!n)throw Error(S(27,!1,t));var r,o=ot(j(n));if(e&&e.waitForUnmount){if(o)return o.promise;var i=new Promise((function(t,e){rt(n,(function(){return i}),t,e)}));return i}return o?(r=o.promise,pt(n,o.resolve,o.reject)):r=new Promise((function(t,e){rt(n,(function(){return r}),t,e),pt(n,t,e)})),r},pt=function(t,e,n){Promise.resolve().then((function(){if(A(ct(),(function(e){return e===j(t)})))return vt()})).then((function(){return N(t).then(et).then((function(){e(),setTimeout((function(){pe()}))}))})).catch(n)},ht=function(t){return!t||"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},dt=function(t,e){var n=function(t,e){var n=0,r=!1,o="^";"/"!==t[0]&&(t="/"+t);for(var i=0;i<t.length;i++){var a=t[i];(!r&&":"===a||r&&"/"===a)&&u(i)}return u(t.length),new RegExp(o,"i");function u(i){var a=t.slice(n,i).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(o+=r?"[^/]+/?":a,i===t.length)if(r)e&&(o+="$");else{var u=e?"":".*";o="/"===o.charAt(o.length-1)?"".concat(o).concat(u,"$"):"".concat(o,"(/").concat(u,")?(#.*)?$")}r=!r,n=i}}(t,e);return function(t){var e=t.origin;e||(e="".concat(t.protocol,"//").concat(t.host));var r=t.href.replace(e,"").replace(t.search,"").split("?")[0];return n.test(r)}},vt=function(){return pe()},yt=function(t,e){return _(t)?D(t).then((function(t){return e.then((function(){return _(t)?R(t):t}))})):e.then((function(){return t}))},mt=function(t){he=!0,te&&(J(t),pe())},gt=function(){return he},bt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},wt=function(t,e){var n=window.getOpenmrsSpaBase().replace(/\/$/,"");return St(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){bt(t,e,n[e])}))}return t}({openmrsBase:window.openmrsBase,openmrsSpaBase:n},e)).replace(/^\/\//,"/")},St=function(t,e){return Object.keys(e).reduce((function(t,n){return t.split("${"+n+"}").join(e[n])}),t)},Ot=function(t){var e=t.to,n=t.templateParams,r=window.getOpenmrsSpaBase().replace(/\/$/,""),o=wt(e,n).replace(window.location.origin,"");o.startsWith(r)?z(o):window.location.assign(o)},Et=function(t){var e,n=JSON.parse(null!==(e=sessionStorage.getItem(ve))&&void 0!==e?e:"[]")||[];n.push(t),n.length>50&&(n=n.slice(-50)),sessionStorage.setItem(ve,JSON.stringify(n))},_t=function(){var t;0===JSON.parse(null!==(t=sessionStorage.getItem(ve))&&void 0!==t?t:"[]").length&&document.referrer&&Et(document.referrer),window.addEventListener("single-spa:routing-event",(function(t){var e,n,r=jt();"replaceState"==(null===(e=t.detail.originalEvent)||void 0===e?void 0:e.singleSpaTrigger)?(r[r.length-1]=window.location.href,sessionStorage.setItem(ve,JSON.stringify(r))):!(null===(n=t.detail.originalEvent)||void 0===n?void 0:n.singleSpa)&&r.includes(window.location.href)?xt({toUrl:window.location.href}):r[r.length-1]!==window.location.href&&Et(window.location.href)}))},jt=function(){var t;return JSON.parse(null!==(t=sessionStorage.getItem(ve))&&void 0!==t?t:"[]")},xt=function(t){var e=t.toUrl,n=jt(),r=n.lastIndexOf(e);if(-1==r)throw new Error("URL ".concat(e," not found in history; cannot go back to it."));var o=n.slice(0,r+1);Ot({to:n[r]}),sessionStorage.setItem(ve,JSON.stringify(o))},Pt=function(){sessionStorage.removeItem(ve)};function kt(n,r,o){return i(n,RegExp)?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:"",suffix:"",modifier:"",pattern:""});return t}(n,r):Array.isArray(n)?function(t,n,r){var o=t.map((function(t){return kt(t,n,r).source}));return new RegExp("(?:"+o.join("|")+")",e(r))}(n,r,o):function(n,r,o){return function(n,r,o){void 0===o&&(o={});for(var i=o.strict,a=void 0!==i&&i,u=o.start,s=void 0===u||u,c=o.end,l=void 0===c||c,f=o.encode,p=void 0===f?function(t){return t}:f,h="["+t(o.endsWith||"")+"]|$",d="["+t(o.delimiter||"/#?")+"]",v=s?"^":"",y=0,m=n;y<m.length;y++){var g=m[y];if("string"==typeof g)v+=t(p(g));else{var b=t(p(g.prefix)),w=t(p(g.suffix));if(g.pattern)if(r&&r.push(g),b||w)if("+"===g.modifier||"*"===g.modifier){var S="*"===g.modifier?"?":"";v+="(?:"+b+"((?:"+g.pattern+")(?:"+w+b+"(?:"+g.pattern+"))*)"+w+")"+S}else v+="(?:"+b+"("+g.pattern+")"+w+")"+g.modifier;else v+="("+g.pattern+")"+g.modifier;else v+="(?:"+b+w+")"+g.modifier}}if(l)a||(v+=d+"?"),v+=o.endsWith?"(?="+h+")":"$";else{var O=n[n.length-1],E="string"==typeof O?d.indexOf(O[O.length-1])>-1:void 0===O;a||(v+="(?:"+d+"(?="+h+"))?"),E||(v+="(?="+d+"|"+h+")")}return new RegExp(v,e(o))}(function(e,n){void 0===n&&(n={});for(var r=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)e.push({type:"CHAR",index:n,value:t[n++]});else{var o=1,i="";if("?"===t[u=n+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<t.length;)if("\\"!==t[u]){if(")"===t[u]){if(0==--o){u++;break}}else if("("===t[u]&&(o++,"?"!==t[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);i+=t[u++]}else i+=t[u++]+t[u++];if(o)throw new TypeError("Unbalanced pattern at "+n);if(!i)throw new TypeError("Missing pattern at "+n);e.push({type:"PATTERN",index:n,value:i}),n=u}else{for(var a="",u=n+1;u<t.length;){var s=t.charCodeAt(u);if(!(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s))break;a+=t[u++]}if(!a)throw new TypeError("Missing parameter name at "+n);e.push({type:"NAME",index:n,value:a}),n=u}else e.push({type:"CLOSE",index:n,value:t[n++]});else e.push({type:"OPEN",index:n,value:t[n++]});else e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});else e.push({type:"MODIFIER",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}(e),o=n.prefixes,i=void 0===o?"./":o,a="[^"+t(n.delimiter||"/#?")+"]+?",u=[],s=0,c=0,l="",f=function(t){if(c<r.length&&r[c].type===t)return r[c++].value},p=function(t){var e=f(t);if(void 0!==e)return e;var n=r[c],o=n.type,i=n.index;throw new TypeError("Unexpected "+o+" at "+i+", expected "+t)},h=function(){for(var t,e="";t=f("CHAR")||f("ESCAPED_CHAR");)e+=t;return e};c<r.length;){var d=f("CHAR"),v=f("NAME"),y=f("PATTERN");if(v||y){var m=d||"";-1===i.indexOf(m)&&(l+=m,m=""),l&&(u.push(l),l=""),u.push({name:v||s++,prefix:m,suffix:"",pattern:y||a,modifier:f("MODIFIER")||""})}else{var g=d||f("ESCAPED_CHAR");if(g)l+=g;else if(l&&(u.push(l),l=""),f("OPEN")){m=h();var b=f("NAME")||"",w=f("PATTERN")||"",S=h();p("CLOSE"),u.push({name:b||(w?s++:""),pattern:b&&!w?a:w,prefix:m,suffix:S,modifier:f("MODIFIER")||""})}else p("END")}}return u}(n,o),r,o)}(n,r,o)}s.r(c),s.d(c,{clearHistory:function(){return Pt},filterBreadcrumbs:function(){return y},getBreadcrumbs:function(){return d},getBreadcrumbsFor:function(){return m},getHistory:function(){return jt},goBackInHistory:function(){return xt},interpolateString:function(){return St},interpolateUrl:function(){return wt},navigate:function(){return Ot},registerBreadcrumb:function(){return p},registerBreadcrumbs:function(){return h},setupHistory:function(){return _t}});var At=(0,s(685).createGlobalStore)("breadcrumbs",[]);function Ct(t,e){if(e)return function(t,e){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),1!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||function(t,e){if(t){if("string"==typeof t)return v(t,1);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,1):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.filter((function(t){return t.matcher.test(e)})));return n[0]}(t,e)||function(t,e){for(var n=e.split("/");n.length>1;){n.pop();var r=Ct(t,n.join("/"));if(r)return r}}(t,e)}var Tt,It=Object.freeze({__proto__:null,get start(){return mt},get ensureJQuerySupport(){return Q},get setBootstrapMaxTime(){return F},get setMountMaxTime(){return H},get setUnmountMaxTime(){return V},get setUnloadMaxTime(){return K},get registerApplication(){return st},get unregisterApplication(){return lt},get getMountedApps(){return it},get getAppStatus(){return ut},get unloadApplication(){return ft},get checkActivityFunctions(){return ct},get getAppNames(){return at},get pathToActiveWhen(){return dt},get navigateToUrl(){return z},get patchHistoryApi(){return J},get triggerAppChange(){return vt},get addErrorHandler(){return b},get removeErrorHandler(){return w},get mountRootParcel(){return L},get NOT_LOADED(){return Lt},get LOADING_SOURCE_CODE(){return Mt},get NOT_BOOTSTRAPPED(){return Ut},get BOOTSTRAPPING(){return Bt},get NOT_MOUNTED(){return Ft},get MOUNTING(){return Ht},get UPDATING(){return Kt},get LOAD_ERROR(){return $t},get MOUNTED(){return Vt},get UNLOADING(){return Wt},get UNMOUNTING(){return Gt},get SKIP_BECAUSE_BROKEN(){return zt}}),Dt=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).CustomEvent,Nt=function(){try{var t=new Dt("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?Dt:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n},Rt=[],Lt="NOT_LOADED",Mt="LOADING_SOURCE_CODE",Ut="NOT_BOOTSTRAPPED",Bt="BOOTSTRAPPING",Ft="NOT_MOUNTED",Ht="MOUNTING",Vt="MOUNTED",Kt="UPDATING",Gt="UNMOUNTING",Wt="UNLOADING",$t="LOAD_ERROR",zt="SKIP_BECAUSE_BROKEN",qt=[],Zt=!1,Yt=!1,Jt=0,Xt={parcels:{}},Qt={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:1e3},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},update:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3}},te="undefined"!=typeof window,ee={hashchange:[],popstate:[]},ne=["hashchange","popstate"],re=null,oe=!1;te&&(window.singleSpaNavigate?console.warn(S(41,!1)):window.singleSpaNavigate=z);var ie=!1,ae={},ue=[],se=!1,ce=!1,le=[],fe=te&&window.location.href;function pe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ce)return new Promise((function(t,n){le.push({resolve:t,reject:n,eventArguments:e})}));var r,i=function(){var t=[],e=[],n=[],r=[],o=(new Date).getTime();return ue.forEach((function(i){var a=i.status!==zt&&_(i);switch(i.status){case $t:a&&o-i.loadErrorTime>=200&&n.push(i);break;case Lt:case Mt:a&&n.push(i);break;case Ut:case Ft:!a&&ot(j(i))?t.push(i):a&&r.push(i);break;case Vt:a||e.push(i)}})),{appsToUnload:t,appsToUnmount:e,appsToLoad:n,appsToMount:r}}(),a=i.appsToUnload,u=i.appsToUnmount,s=i.appsToLoad,c=i.appsToMount,l=[],f=fe,p=fe=window.location.href;return gt()?(ce=!0,r=a.concat(s,u,c),Promise.resolve().then((function(){return m(0===r.length?"before-no-app-change":"before-app-change",y(!0)),m("before-routing-event",y(!0,{cancelNavigation:h})),Promise.all(l).then((function(n){if(n.some((function(t){return t})))return re.call(window.history,history.state,"",f.substring(location.origin.length)),fe=location.href,ce=!1,pe(t,e,!0);var r=a.map(et),o=u.map(N).map((function(t){return t.then(et)})).concat(r),i=Promise.all(o);i.then((function(){m("before-mount-routing-event",y(!0))}),(function(t){throw t}));var l=s.map((function(t){return $(t).then((function(t){return yt(t,i)}))})),p=c.filter((function(t){return s.indexOf(t)<0})).map((function(t){return yt(t,i)}));return i.catch((function(t){throw v(),t})).then((function(){return v(),Promise.all(l.concat(p)).catch((function(e){throw t.forEach((function(t){return t.reject(e)})),e})).then(d).then((function(){}),(function(t){throw t}))}))}))}))):(r=s,Promise.resolve().then((function(){var t=s.map($);return Promise.all(t).then(v).then((function(){return[]})).catch((function(t){throw v(),t})).finally((function(){}))})));function h(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="function"==typeof(null==t?void 0:t.then)?t:Promise.resolve(t);l.push(e.catch((function(t){return console.warn(Error(S(42,!1))),console.warn(t),!1})))}function d(){var e=it();t.forEach((function(t){return t.resolve(e)}));try{m(0===r.length?"no-app-change":"app-change",y()),m("routing-event",y())}catch(t){setTimeout((function(){throw t}))}if(ce=!1,le.length>0){var n=le;le=[],pe(n)}return e}function v(){n||(t.forEach((function(t){q(t.eventArguments)})),q(e))}function y(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,l={},h=(o(t={},Vt,[]),o(t,Ft,[]),o(t,Lt,[]),o(t,zt,[]),t);n?(s.concat(c).forEach((function(t,e){v(t,Vt)})),a.forEach((function(t){v(t,Lt)})),u.forEach((function(t){v(t,Ft)}))):r.forEach((function(t){v(t)}));var d={detail:{newAppStatuses:l,appsByNewStatus:h,totalAppChanges:r.length,originalEvent:null==e?void 0:e[0],oldUrl:f,newUrl:p}};return i&&k(d.detail,i),d;function v(t,e){var n=j(t);e=e||ut(n),l[n]=e,(h[e]=h[e]||[]).push(n)}}function m(t,e){n||window.dispatchEvent(new Nt("single-spa:".concat(t),e))}}var he=!1,de={getRawAppData:function(){return function(t){if(Array.isArray(t))return r(t)}(t=ue)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t},reroute:pe,NOT_LOADED:Lt,toLoadPromise:$,toBootstrapPromise:D,unregisterApplication:lt,getProfilerData:function(){return qt}};te&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=de);var ve="openmrs:history"}(),c}())}}}))},45:function(t){"use strict";t.exports=u},740:function(t){"use strict";t.exports=y},685:function(t){"use strict";t.exports=g},901:function(t){"use strict";t.exports=b},688:function(t){"use strict";t.exports=w},64:function(t){"use strict";t.exports=S},954:function(t){"use strict";t.exports=O},493:function(t){"use strict";t.exports=E},792:function(t){"use strict";t.exports=j}},o={};function x(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={exports:{}};return r[t].call(n.exports,n,n.exports,x),n.exports}x.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return x.d(e,{a:e}),e},x.d=function(t,e){for(var n in e)x.o(e,n)&&!x.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},x.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),x.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},x.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var P={};return function(){"use strict";var r=function(t,e){var n=(new DOMParser).parseFromString(e,"text/html").querySelector("svg");n&&(n.id=t,Xr.appendChild(n))},o=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},u=function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}},y=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},g=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},b=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},w=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":void 0===t?"undefined":v(t)},S=function(t,e,n){var r=P(t,e,n);vo.length?vo.forEach((function(t){return t(r)})):setTimeout((function(){throw r}))},O=function(t){if("function"!=typeof t)throw Error(j(28,!1));vo.push(t)},E=function(t){if("function"!=typeof t)throw Error(j(29,!1));var e=!1;return vo=vo.filter((function(n){var r=n===t;return e=e||r,!r})),e},j=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"single-spa minified message #".concat(t,": ").concat(e?e+" ":"","See https://single-spa.js.org/error/?code=").concat(t).concat(r.length?"&arg=".concat(r.join("&arg=")):"")},P=function(t,e,n){var r,o,i,a="".concat(I(e)," '").concat(C(e),"' died in status ").concat(e.status,": ");if(o=t,null!=(i=Error)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](o):l(o,i)){try{t.message=a+t.message}catch(t){}r=t}else{console.warn(j(30,!1,e.status,C(e)));try{r=Error(a+JSON.stringify(t))}catch(e){r=t}}return r.appOrParcelName=C(e),e.status=n,r},k=function(t){return t.status===Oo},A=function(t){try{return t.activeWhen(window.location)}catch(e){return S(e,t,Po),!1}},C=function(t){return t.name},T=function(t){return Boolean(t.unmountThisParcel)},I=function(t){return T(t)?"parcel":"application"},D=function(){for(var t=arguments.length-1;t>0;t--)for(var e in arguments[t])"__proto__"!==e&&(arguments[t-1][e]=arguments[t][e]);return arguments[0]},N=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},R=function(t){return t&&("function"==typeof t||(e=t,Array.isArray(e)&&!N(e,(function(t){return"function"!=typeof t}))));var e},L=function(t,e){var n=t[e]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var r=I(t),o=C(t);return function(t){return n.reduce((function(n,i,a){return n.then((function(){var n=i(t);return M(n)?n:Promise.reject(j(15,!1,r,o,e,a))}))}),Promise.resolve())}},M=function(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch},U=function(t,e){var n=function(){return t.status=wo,t};return Promise.resolve().then((function(){return t.status!==go?t:(t.status=bo,t.bootstrap?Z(t,"bootstrap").then(n).catch((function(n){if(e)throw P(n,t,Po);return S(n,t,Po),t})):Promise.resolve().then(n))}))},B=function(t,e){return Promise.resolve().then((function(){var n=function(){return Z(t,"unmount").then((function(){t.status=wo}),(function(n){if(e)throw P(n,t,Po);S(n,t,Po)}))};if(t.status!==Oo)return t;t.status=_o;var r=Object.keys(t.parcels).map((function(e){return t.parcels[e].unmountThisParcel()}));return Promise.all(r).then(n,(function(r){return n().then((function(){var n=Error(r.message);if(e)throw P(n,t,Po);S(n,t,Po)}))})).then((function(){return t}))}))},F=function(t,e){return Promise.resolve().then((function(){return t.status!==wo?t:(Ao||(window.dispatchEvent(new ho("single-spa:before-first-mount")),Ao=!0),t.status=So,Z(t,"mount").then((function(){return t.status=Oo,Co||(window.dispatchEvent(new ho("single-spa:first-mount")),Co=!0),t})).catch((function(n){var r=function(){if(e)throw P(n,t,Po);return S(n,t,Po),t};return t.status=Oo,B(t,!0).then(r,r)})))}))},H=function(){return V.apply(Io,arguments)},V=function(t,e){var n=this;if(!t||"object"!=typeof t&&"function"!=typeof t)throw Error(j(2,!1));if(t.name&&"string"!=typeof t.name)throw Error(j(3,!1,w(t.name)));var r=To++,o=t.name||"parcel-".concat(r);if("object"!=typeof e)throw Error(j(4,!1,o,void 0===e?"undefined":w(e)));if(!e.domElement)throw Error(j(5,!1,o));var i,a="function"==typeof t,u=a?t:function(){return Promise.resolve(t)},s={id:r,parcels:{},status:a?mo:go,customProps:e,parentName:C(n),unmountThisParcel:function(){return h.then((function(){if(s.status!==Oo)throw Error(j(6,!1,o,s.status));return B(s,!0)})).then((function(t){return s.parentName&&delete n.parcels[s.id],t})).then((function(t){return l(t),t})).catch((function(t){throw s.status=Po,f(t),t}))}};n.parcels[r]=s;var c=u();if(!c||"function"!=typeof c.then)throw Error(j(7,!1));c=c.then((function(t){if(!t)throw Error(j(8,!1));if(o=t.name||"parcel-".concat(r),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!R(t.bootstrap))throw Error(j(9,!1,o));if(!R(t.mount))throw Error(j(10,!1,o));if(!R(t.unmount))throw Error(j(11,!1,o));if(t.update&&!R(t.update))throw Error(j(12,!1,o));var e=L(t,"bootstrap"),n=L(t,"mount"),a=L(t,"unmount");s.status=go,s.name=o,s.bootstrap=e,s.mount=n,s.unmount=a,s.timeouts=Y(t.timeouts),t.update&&(s.update=L(t,"update"),i.update=function(t){return s.customProps=t,K((e=s,Promise.resolve().then((function(){if(e.status!==Oo)throw Error(j(32,!1,C(e)));return e.status=Eo,Z(e,"update").then((function(){return e.status=Oo,e})).catch((function(t){throw P(t,e,Po)}))}))));var e})}));var l,f,p=c.then((function(){return U(s,!0)})),h=p.then((function(){return F(s,!0)})),d=new Promise((function(t,e){l=t,f=e}));return i={mount:function(){return K(Promise.resolve().then((function(){if(s.status!==wo)throw Error(j(13,!1,o,s.status));return n.parcels[r]=s,F(s)})))},unmount:function(){return K(s.unmountThisParcel())},getStatus:function(){return s.status},loadPromise:K(c),bootstrapPromise:K(p),mountPromise:K(h),unmountPromise:K(d)}},K=function(t){return t.then((function(){return null}))},G=function(t){var e=C(t),n="function"==typeof t.customProps?t.customProps(e,window.location):t.customProps;("object"!=typeof n||null===n||Array.isArray(n))&&(n={},console.warn(j(40,!1),e,n));var r=D({},n,{name:e,mountParcel:V.bind(t),singleSpa:fo});return T(t)&&(r.unmountSelf=t.unmountThisParcel),r},W=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(j(16,!1));Do.bootstrap={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},$=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(j(17,!1));Do.mount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},z=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(j(18,!1));Do.unmount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},q=function(t,e,n){if("number"!=typeof t||t<=0)throw Error(j(19,!1));Do.unload={millis:t,dieOnTimeout:e,warningMillis:n||1e3}},Z=function(t,e){var n=t.timeouts[e],r=n.warningMillis,o=I(t);return new Promise((function(i,a){var u=!1,s=!1;t[e](G(t)).then((function(t){u=!0,i(t)})).catch((function(t){u=!0,a(t)})),setTimeout((function(){return l(1)}),r),setTimeout((function(){return l(!0)}),n.millis);var c=j(31,!1,e,o,C(t),n.millis);function l(t){if(!u)if(!0===t)s=!0,n.dieOnTimeout?a(Error(c)):console.error(c);else if(!s){var e=t,o=e*r;console.warn(c),o+r<n.millis&&setTimeout((function(){return l(e+1)}),r)}}}))},Y=function(t){var e={};for(var n in Do)e[n]=D({},Do[n],t&&t[n]||{});return e},J=function(t){return Promise.resolve().then((function(){return t.loadPromise?t.loadPromise:t.status!==yo&&t.status!==xo?t:(t.status=mo,t.loadPromise=Promise.resolve().then((function(){var r=t.loadApp(G(t));if(!M(r))throw n=!0,Error(j(33,!1,C(t)));return r.then((function(n){var r;t.loadErrorTime=null,"object"!=typeof(e=n)&&(r=34),Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!R(e.bootstrap)&&(r=35),R(e.mount)||(r=36),R(e.unmount)||(r=37);var o=I(e);if(r){var i;try{i=JSON.stringify(e)}catch(t){}return console.error(j(r,!1,o,C(t),i),e),S(void 0,t,Po),t}return e.devtools&&e.devtools.overlays&&(t.devtools.overlays=D({},t.devtools.overlays,e.devtools.overlays)),t.status=go,t.bootstrap=L(e,"bootstrap"),t.mount=L(e,"mount"),t.unmount=L(e,"unmount"),t.unload=L(e,"unload"),t.timeouts=Y(e.timeouts),delete t.loadPromise,t}))})).catch((function(e){var r;return delete t.loadPromise,n?r=Po:(r=xo,t.loadErrorTime=(new Date).getTime()),S(e,t,r),t})));var e,n}))},X=function(t){var e;if("string"==typeof t)e=t;else if(this&&this.href)e=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error(j(14,!1));e=t.currentTarget.href,t.preventDefault()}var n=rt(window.location.href),r=rt(e);0===e.indexOf("#")?window.location.hash=r.hash:n.host!==r.host&&r.host?window.location.href=e:r.pathname===n.pathname&&r.search===n.search?window.location.hash=r.hash:window.history.pushState(null,null,e)},Q=function(t){var e=this;if(t){var n=t[0].type;Lo.indexOf(n)>=0&&Ro[n].forEach((function(n){try{n.apply(e,t)}catch(t){setTimeout((function(){throw t}))}}))}},tt=function(){$o([],arguments)},et=function(t,e){return function(){var n=window.location.href,r=t.apply(this,arguments),o=window.location.href;return lo&&n===o||window.dispatchEvent(function(t,e){var n;try{n=new PopStateEvent("popstate",{state:t})}catch(e){(n=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,t)}return n.singleSpa=!0,n.singleSpaTrigger=e,n}(window.history.state,e)),r}},nt=function(t){if(Uo)throw Error(j(43,!1));lo=!t||!t.hasOwnProperty("urlRerouteOnly")||t.urlRerouteOnly,Uo=!0,Mo=window.history.replaceState,window.addEventListener("hashchange",tt),window.addEventListener("popstate",tt);var e=window.addEventListener,n=window.removeEventListener;window.addEventListener=function(t,n){if(!("function"==typeof n&&Lo.indexOf(t)>=0)||N(Ro[t],(function(t){return t===n})))return e.apply(this,arguments);Ro[t].push(n)},window.removeEventListener=function(t,e){if(!("function"==typeof e&&Lo.indexOf(t)>=0))return n.apply(this,arguments);Ro[t]=Ro[t].filter((function(t){return t!==e}))},window.history.pushState=et(window.history.pushState,"pushState"),window.history.replaceState=et(Mo,"replaceState")},rt=function(t){var e=document.createElement("a");return e.href=t,e},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!Bo){var e=t.fn.on,n=t.fn.off;t.fn.on=function(t,n){return it.call(this,e,window.addEventListener,t,n,arguments)},t.fn.off=function(t,e){return it.call(this,n,window.removeEventListener,t,e,arguments)},Bo=!0}},it=function(t,e,n,r,o){return"string"!=typeof n?t.apply(this,o):(n.split(/\s+/).forEach((function(t){Lo.indexOf(t)>=0&&(e(t,r),n=n.replace(t,""))})),""===n.trim()?this:t.apply(this,o))},at=function(t){return Promise.resolve().then((function(){var e=Fo[C(t)];if(!e)return t;if(t.status===yo)return ut(t,e),t;if(t.status===jo)return e.promise.then((function(){return t}));if(t.status!==wo&&t.status!==xo)return t;var n=t.status===xo?Promise.resolve():Z(t,"unload");return t.status=jo,n.then((function(){return ut(t,e),t})).catch((function(n){return function(t,e,n){delete Fo[C(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,S(n,t,Po),e.reject(n)}(t,e,n),t}))}))},ut=function(t,e){delete Fo[C(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=yo,e.resolve()},st=function(t,e,n,r){Fo[C(t)]={app:t,resolve:n,reject:r},Object.defineProperty(Fo[C(t)],"promise",{get:e})},ct=function(t){return Fo[t]},lt=function(){return Ho.filter(k).map(C)},ft=function(){return Ho.map(C)},pt=function(t){var e=N(Ho,(function(e){return C(e)===t}));return e?e.status:null},ht=function(t,e,n,r){var o=function(t,e,n,r){var o,i={name:null,loadApp:null,activeWhen:null,customProps:null};return"object"==typeof t?(function(t){if(Array.isArray(t)||null===t)throw Error(j(39,!1));var e=["name","app","activeWhen","customProps"],n=Object.keys(t).reduce((function(t,n){return e.indexOf(n)>=0?t:t.concat(n)}),[]);if(0!==n.length)throw Error(j(38,!1,e.join(", "),n.join(", ")));if("string"!=typeof t.name||0===t.name.length)throw Error(j(20,!1));if("object"!=typeof t.app&&"function"!=typeof t.app)throw Error(j(20,!1));var r=function(t){return"string"==typeof t||"function"==typeof t};if(!(r(t.activeWhen)||Array.isArray(t.activeWhen)&&t.activeWhen.every(r)))throw Error(j(24,!1));if(!gt(t.customProps))throw Error(j(22,!1))}(t),i.name=t.name,i.loadApp=t.app,i.activeWhen=t.activeWhen,i.customProps=t.customProps):(function(t,e,n,r){if("string"!=typeof t||0===t.length)throw Error(j(20,!1));if(!e)throw Error(j(23,!1));if("function"!=typeof n)throw Error(j(24,!1));if(!gt(r))throw Error(j(22,!1))}(t,e,n,r),i.name=t,i.loadApp=e,i.activeWhen=n,i.customProps=r),i.loadApp="function"!=typeof(o=i.loadApp)?function(){return Promise.resolve(o)}:o,i.customProps=function(t){return t||{}}(i.customProps),i.activeWhen=function(t){var e=Array.isArray(t)?t:[t];return e=e.map((function(t){return"function"==typeof t?t:bt(t)})),function(t){return e.some((function(e){return e(t)}))}}(i.activeWhen),i}(t,e,n,r);if(Et()||Vo||(Vo=!0,setTimeout((function(){Et()||console.warn(j(1,!1))}),5e3)),-1!==ft().indexOf(o.name))throw Error(j(21,!1,o.name));Ho.push(D({loadErrorTime:null,status:yo,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},o)),No&&(ot(),$o())},dt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;return Ho.filter((function(e){return e.activeWhen(t)})).map(C)},vt=function(t){if(0===Ho.filter((function(e){return C(e)===t})).length)throw Error(j(25,!1,t));return(No?yt(t,{waitForUnmount:!1}):Promise.resolve()).then((function(){var e=Ho.map(C).indexOf(t);Ho.splice(e,1)}))},yt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof t)throw Error(j(26,!1));var n=N(Ho,(function(e){return C(e)===t}));if(!n)throw Error(j(27,!1,t));var r,o=ct(C(n));if(e&&e.waitForUnmount){if(o)return o.promise;var i=new Promise((function(t,e){st(n,(function(){return i}),t,e)}));return i}return o?(r=o.promise,mt(n,o.resolve,o.reject)):r=new Promise((function(t,e){st(n,(function(){return r}),t,e),mt(n,t,e)})),r},mt=function(t,e,n){Promise.resolve().then((function(){if(N(dt(),(function(e){return e===C(t)})))return wt()})).then((function(){return B(t).then(at).then((function(){e(),setTimeout((function(){$o()}))}))})).catch(n)},gt=function(t){return!t||"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},bt=function(t,e){var n=function(t,e){var n=function(n){var a=t.slice(r,n).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(i+=o?"[^/]+/?":a,n===t.length)if(o)e&&(i+="$");else{var u=e?"":".*";i="/"===i.charAt(i.length-1)?"".concat(i).concat(u,"$"):"".concat(i,"(/").concat(u,")?(#.*)?$")}o=!o,r=n},r=0,o=!1,i="^";"/"!==t[0]&&(t="/"+t);for(var a=0;a<t.length;a++){var u=t[a];(!o&&":"===u||o&&"/"===u)&&n(a)}return n(t.length),new RegExp(i,"i")}(t,e);return function(t){var e=t.origin;e||(e="".concat(t.protocol,"//").concat(t.host));var r=t.href.replace(e,"").replace(t.search,"").split("?")[0];return n.test(r)}},wt=function(){return $o()},St=function(t,e){return A(t)?U(t).then((function(t){return e.then((function(){return A(t)?F(t):t}))})):e.then((function(){return t}))},Ot=function(t){zo=!0,No&&(nt(t),$o())},Et=function(){return zo},_t=function(t,e){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(t){n(t.data)},t.postMessage(e,[r.port2])}))},jt=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},xt=function(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href},Pt=function(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)},kt=function(){},At=function(t,e){if(!e)return t&&t.then?t.then(kt):Promise.resolve()},Ct=function(t,e){return"object"!=typeof e||ai(e).forEach((function(n){t[n]=e[n]})),t},Tt=function(t,e){return ci.call(t,e)},It=function(t,e){"function"==typeof e&&(e=e(si(t))),("undefined"==typeof Reflect?ai:Reflect.ownKeys)(e).forEach((function(n){Dt(t,n,e[n])}))},Dt=function(t,e,n,r){li(t,e,Ct(n&&Tt(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))},Nt=function(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Dt(t.prototype,"constructor",t),{extend:It.bind(null,t.prototype)}}}},Rt=function(t,e,n){return hi.call(t,e,n)},Lt=function(t,e){return e(t)},Mt=function(t){if(!t)throw new Error("Assertion Failed")},Ut=function(t){ii.setImmediate?setImmediate(t):setTimeout(t,0)},Bt=function(t,e){return t.reduce((function(t,n,r){var o=e(n,r);return o&&(t[o[0]]=o[1]),t}),{})},Ft=function(t){var e={};for(var n in t)Tt(t,n)&&(e[n]=t[n]);return e},Ht=function(t){return yi.apply([],t)},Vt=function(t){bi="undefined"!=typeof WeakMap&&new WeakMap;var e=wi(t);return bi=null,e},Kt=function(t){return Si.call(t).slice(8,-1)},Gt=function(t){var e,n,r,o;if(1===arguments.length){if(ui(t))return t.slice();if(this===_i&&"string"==typeof t)return[t];if(o=Ei(t)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n},Wt=function(t,e){xi=t,Pi=e},$t=function(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(Pi).map((function(t){return"\n"+t})).join("")):""},zt=function(t,e){this._e=Ai(),this.name=t,this.message=e},qt=function(t,e){return t+". Errors: "+Object.keys(e).map((function(t){return e[t].toString()})).filter((function(t,e,n){return n.indexOf(t)===e})).join("\n")},Zt=function(t,e,n,r){this._e=Ai(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=qt(t,e)},Yt=function(t,e){this._e=Ai(),this.name="BulkError",this.failures=Object.keys(e).map((function(t){return e[t]})),this.failuresByPos=e,this.message=qt(t,e)},Jt=function(){},Xt=function(t){return t},Qt=function(t,e){return null==t||t===Xt?e:function(n){return e(t(n))}},te=function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}},ee=function(t,e){return t===Jt?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?te(r,this.onsuccess):r),o&&(this.onerror=this.onerror?te(o,this.onerror):o),void 0!==i?i:n}},ne=function(t,e){return t===Jt?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?te(n,this.onsuccess):n),r&&(this.onerror=this.onerror?te(r,this.onerror):r)}},re=function(t,e){return t===Jt?e:function(n){var r=t.apply(this,arguments);Ct(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?te(o,this.onsuccess):o),i&&(this.onerror=this.onerror?te(i,this.onerror):i),void 0===r?void 0===a?void 0:a:Ct(r,a)}},oe=function(t,e){return t===Jt?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}},ie=function(t,e){return t===Jt?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return e.apply(r,i)}))}return e.apply(this,arguments)}},ae=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Jt,this._lib=!1;var e=this._PSD=na;if(xi&&(this._stackHolder=Ai(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==Ui)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&se(this,this._value))}this._state=null,this._value=null,++e.ref,ua(this,t)},ue=function(t,e,n,r,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=o},se=function(t,e){if(Xi.push(e),null===t._state){var n=t._lib&&de();e=ta(e),t._state=!1,t._value=e,xi&&null!==e&&"object"==typeof e&&!e._promise&&function(t,e,n){try{t.apply(null,void 0)}catch(t){}}((function(){var n=pi(e,"stack");e._promise=t,Dt(e,"stack",{get:function(){return $i?n&&(n.get?n.get.apply(e):n.value):t.stack}})})),function(t){Ji.some((function(e){return e._value===t._value}))||Ji.push(t)}(t),ce(t),n&&ve()}},ce=function(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)le(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),0===oa&&(++oa,qi((function(){0==--oa&&ye()}),[]))},le=function(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++oa,qi(fe,[n,t,e])}else t._listeners.push(e)},fe=function(t,e,n){try{Qi=e;var r,o=e._value;e._state?r=t(o):(Xi.length&&(Xi=[]),r=t(o),-1===Xi.indexOf(o)&&function(t){for(var e=Ji.length;e;)if(Ji[--e]._value===t._value)return void Ji.splice(e,1)}(e)),n.resolve(r)}catch(t){n.reject(t)}finally{Qi=null,0==--oa&&ye(),--n.psd.ref||n.psd.finalize()}},pe=function(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)},he=function(){de()&&ve()},de=function(){var t=Zi;return Zi=!1,Yi=!1,t},ve=function(){var t,e,n;do{for(;ra.length>0;)for(t=ra,ra=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(ra.length>0);Zi=!0,Yi=!0},ye=function(){var t=Ji;Ji=[],t.forEach((function(t){t._PSD.onunhandled.call(null,t._value,t)}));for(var e=ia.slice(0),n=e.length;n;)e[--n]()},me=function(t){return new ae(Ui,!1,t)},ge=function(t,e){var n=na;return function(){var r=de(),o=na;try{return je(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{je(o,!1),r&&ve()}}},be=function(t,e,n,r){var o=na,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++da;var a=ea.env;i.env=Wi?{Promise:ae,PromiseProp:{value:ae,configurable:!0,writable:!0},all:ae.all,race:ae.race,allSettled:ae.allSettled,any:ae.any,resolve:ae.resolve,reject:ae.reject,nthen:Ce(a.nthen,i),gthen:Ce(a.gthen,i)}:{},e&&Ct(i,e),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Pe(i,t,n,r);return 0===i.ref&&i.finalize(),u},we=function(){return ca.id||(ca.id=++la),++ca.awaits,ca.echoes+=100,ca.id},Se=function(){return!!ca.awaits&&(0==--ca.awaits&&(ca.id=0),ca.echoes=100*ca.awaits,!0)},Oe=function(t){return ca.echoes&&t&&t.constructor===Gi?(we(),t.then((function(t){return Se(),t}),(function(t){return Se(),va(t)}))):t},Ee=function(t){++ha,ca.echoes&&0!=--ca.echoes||(ca.echoes=ca.id=0),fa.push(na),je(t,!0)},_e=function(){var t=fa[fa.length-1];fa.pop(),je(t,!1)},je=function(t,e){var n=na;if((e?!ca.echoes||pa++&&t===na:!pa||--pa&&t===na)||ke(e?Ee.bind(null,t):_e),t!==na&&(na=t,n===ea&&(ea.env=xe()),Wi)){var r=ea.env.Promise,o=t.env;Hi.then=o.nthen,r.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(ii,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}},xe=function(){var t=ii.Promise;return Wi?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(ii,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Hi.then,gthen:t.prototype.then}:{}},Pe=function(t,e,n,r,o){var i=na;try{return je(t,!0),e(n,r,o)}finally{je(i,!1)}},ke=function(t){Ki.call(Fi,t)},Ae=function(t,e,n,r){return"function"!=typeof t?t:function(){var o=na;n&&we(),je(e,!0);try{return t.apply(this,arguments)}finally{je(o,!1),r&&ke(Se)}}},Ce=function(t,e){return function(n,r){return t.call(this,Ae(n,e),Ae(r,e))}},Te=function(t,e){var n;try{n=e.onuncatched(t)}catch(t){}if(!1!==n)try{var r,o={promise:e,reason:t};if(ii.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),Ct(r,o)):ii.CustomEvent&&Ct(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&ii.dispatchEvent&&(dispatchEvent(r),!ii.PromiseRejectionEvent&&ii.onunhandledrejection))try{ii.onunhandledrejection(r)}catch(t){}xi&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: ".concat(t.stack||t))}catch(t){}},Ie=function(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e},De=function(t){return"string"!=typeof t||/\./.test(t)?function(t){return t}:function(e){return void 0===e[t]&&t in e&&delete(e=Vt(e))[t],e}},Ne=function(t){var e={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return e[n].subscribe.apply(null,i),t}if("string"==typeof n)return e[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(t,r,o){if("object"==typeof t)return function(t){ai(t).forEach((function(e){var n=t[e];if(ui(n))i(e,t[e][0],t[e][1]);else{if("asap"!==n)throw new Ri.InvalidArgument("Invalid event config");var r=i(e,Xt,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];r.subscribers.forEach((function(t){Ut((function(){t.apply(null,e)}))}))}))}}))}(t);r||(r=oe),o||(o=Jt);var a={subscribers:[],fire:o,subscribe:function(t){-1===a.subscribers.indexOf(t)&&(a.subscribers.push(t),a.fire=r(a.fire,t))},unsubscribe:function(t){a.subscribers=a.subscribers.filter((function(e){return e!==t})),a.fire=a.subscribers.reduce(r,o)}};return e[t]=n[t]=a,a}},Re=function(t,e){return Nt(e).from({prototype:t}),e},Le=function(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)},Me=function(t,e){t.filter=Ie(t.filter,e)},Ue=function(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return Ie(r(),e())}:e,t.justLimit=n&&!r},Be=function(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new Ri.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n},Fe=function(t,e,n){var r=Be(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})},He=function(t,e,n,r){var o=t.replayFilter?Ie(t.filter,t.replayFilter()):t.filter;if(t.or){var i={},a=function(t,n,r){if(!o||o(n,r,(function(t){return n.stop(t)}),(function(t){return n.fail(t)}))){var a=n.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),Tt(i,u)||(i[u]=!0,e(t,n,r))}};return Promise.all([t.or._iterate(a,n),Ve(Fe(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return Ve(Fe(t,r,n),Ie(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)},Ve=function(t,e,n,r){var o=ge(r?function(t,e,o){return n(r(t),e,o)}:n);return t.then((function(t){if(t)return t.start((function(){var n=function(){return t.continue()};e&&!e(t,(function(t){return n=t}),(function(e){t.stop(e),n=Jt}),(function(e){t.fail(e),n=Jt}))||o(t.value,t,(function(t){return n=t})),n()}))}))},Ke=function(t){var e=void 0===t?"undefined":v(t);if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";var n=Kt(t);return"ArrayBuffer"===n?"binary":n},Ge=function(t){return l(t,Uint8Array)?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)},We=function(t,e){return t<e?-1:t===e?0:1},$e=function(t,e){return t>e?-1:t===e?0:1},ze=function(t,e,n){var r=l(t,Aa)?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r},qe=function(t){return new t.Collection(t,(function(){return Xe("")})).limit(0)},Ze=function(t,e,n,r,o,i){for(var a=Math.min(t.length,r.length),u=-1,s=0;s<a;++s){var c=e[s];if(c!==r[s])return o(t[s],n[s])<0?t.substr(0,s)+n[s]+n.substr(s+1):o(t[s],r[s])<0?t.substr(0,s)+r[s]+n.substr(s+1):u>=0?t.substr(0,u)+e[u]+n.substr(u+1):null;o(t[s],c)<0&&(u=s)}return a<r.length&&"next"===i?t+n.substr(t.length):a<t.length&&"prev"===i?t.substr(0,n.length):u<0?null:t.substr(0,u)+r[u]+n.substr(u+1)},Ye=function(t,e,n,r){var o,i,a,u,s,c,l,f=n.length;if(!n.every((function(t){return"string"==typeof t})))return ze(t,"String expected.");function p(t){o=function(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}(t),i=function(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}(t),a="next"===t?We:$e;var e=n.map((function(t){return{lower:i(t),upper:o(t)}})).sort((function(t,e){return a(t.lower,e.lower)}));u=e.map((function(t){return t.upper})),s=e.map((function(t){return t.lower})),c=t,l="next"===t?"":r}p("next");var h=new t.Collection(t,(function(){return Je(u[0],s[f-1]+r)}));h._ondirectionchange=function(t){p(t)};var d=0;return h._addAlgorithm((function(t,n,r){var o=t.key;if("string"!=typeof o)return!1;var p=i(o);if(e(p,s,d))return!0;for(var h=null,v=d;v<f;++v){var y=Ze(o,p,u[v],s[v],a,c);null===y&&null===h?d=v+1:(null===h||a(h,y)>0)&&(h=y)}return n(null!==h?function(){t.continue(h+l)}:r),!1})),h},Je=function(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}},Xe=function(t){return{type:1,lower:t,upper:t}},Qe=function(t){return ge((function(e){return tn(e),t(e.target.error),!1}))},tn=function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()},en=function(t,e,n,r,o,i,a){return{name:t,keyPath:e,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+nn(e)}},nn=function(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""},rn=function(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Bt(n,(function(t){return[t.name,t]}))}},on=function(t){return null==t?function(){}:"string"==typeof t?function(t){return 1===t.split(".").length?function(e){return e[t]}:function(e){return di(e,t)}}(t):function(e){return di(e,t)}},an=function(t){return[].slice.call(t)},un=function(t){return null==t?":id":"string"==typeof t?t:"[".concat(t.join("+"),"]")},sn=function(t,e){var n=t._novip,r=e.db,o=function(t,e,n,r){var o=n.IDBKeyRange,i=(n.indexedDB,function(t,e){return e.reduce((function(t,e){return f({},t,(0,e.create)(t))}),t)}(function(t,e,n){function r(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=t.lower,r=t.upper,o=t.lowerOpen,i=t.upperOpen;return void 0===n?void 0===r?null:e.upperBound(r,!!i):void 0===r?e.lowerBound(n,!!o):e.bound(n,r,!!o,!!i)}var o=function(t,e){var n=an(t.objectStoreNames);return{schema:{name:t.name,tables:n.map((function(t){return e.objectStore(t)})).map((function(t){var e=t.keyPath,n=t.autoIncrement,r=ui(e),o=null==e,i={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:on(e)},indexes:an(t.indexNames).map((function(e){return t.index(e)})).map((function(t){var e=t.name,n=t.unique,r=t.multiEntry,o=t.keyPath,a={name:e,compound:ui(o),keyPath:o,unique:n,multiEntry:r,extractKey:on(o)};return i[un(o)]=a,a})),getIndexByKeyPath:function(t){return i[un(t)]}};return i[":id"]=a.primaryKey,null!=e&&(i[un(e)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in e.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),i=o.schema,a=o.hasGetAll,u=i.tables.map((function(t){return function(t){var e=t.name;return{name:e,schema:t,mutate:function(t){var n=t.trans,o=t.type,i=t.keys,a=t.values,u=t.range;return new Promise((function(t,s){t=ge(t);var c=n.objectStore(e),l=null==c.keyPath,f="put"===o||"add"===o;if(!f&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var p,d=(i||a||{length:1}).length;if(i&&a&&i.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return t({numFailures:0,failures:{},results:[],lastResult:void 0});var v=[],y=[],m=0,g=function(t){++m,tn(t)};if("deleteRange"===o){if(4===u.type)return t({numFailures:m,failures:y,results:[],lastResult:void 0});3===u.type?v.push(p=c.clear()):v.push(p=c.delete(r(u)))}else{var b=h(f?l?[a,i]:[a,null]:[i,null],2),w=b[0],S=b[1];if(f)for(var O=0;O<d;++O)v.push(p=S&&void 0!==S[O]?c[o](w[O],S[O]):c[o](w[O])),p.onerror=g;else for(var E=0;E<d;++E)v.push(p=c[o](w[E])),p.onerror=g}var _=function(e){var n=e.target.result;v.forEach((function(t,e){return null!=t.error&&(y[e]=t.error)})),t({numFailures:m,failures:y,results:"delete"===o?i:v.map((function(t){return t.result})),lastResult:n})};p.onerror=function(t){g(t),_(t)},p.onsuccess=_}))},getMany:function(t){var n=t.trans,r=t.keys;return new Promise((function(t,o){t=ge(t);for(var i,a=n.objectStore(e),u=r.length,s=new Array(u),c=0,l=0,f=function(e){var n=e.target;s[n._pos]=n.result,++l===c&&t(s)},p=Qe(o),h=0;h<u;++h)null!=r[h]&&((i=a.get(r[h]))._pos=h,i.onsuccess=f,i.onerror=p,++c);0===c&&t(s)}))},get:function(t){var n=t.trans,r=t.key;return new Promise((function(t,o){t=ge(t);var i=n.objectStore(e).get(r);i.onsuccess=function(e){return t(e.target.result)},i.onerror=Qe(o)}))},query:function(t){return function(n){return new Promise((function(o,i){o=ge(o);var a=n.trans,u=n.values,s=n.limit,c=n.query,l=s===1/0?void 0:s,f=c.index,p=c.range,h=a.objectStore(e),d=f.isPrimaryKey?h:h.index(f.name),v=r(p);if(0===s)return o({result:[]});if(t){var y=u?d.getAll(v,l):d.getAllKeys(v,l);y.onsuccess=function(t){return o({result:t.target.result})},y.onerror=Qe(i)}else{var m=0,g=u||!("openKeyCursor"in d)?d.openCursor(v):d.openKeyCursor(v),b=[];g.onsuccess=function(t){var e=g.result;return e?(b.push(u?e.value:e.primaryKey),++m===s?o({result:b}):void e.continue()):o({result:b})},g.onerror=Qe(i)}}))}}(a),openCursor:function(t){var n=t.trans,o=t.values,i=t.query,a=t.reverse,u=t.unique;return new Promise((function(t,s){t=ge(t);var c=i.index,l=i.range,f=n.objectStore(e),p=c.isPrimaryKey?f:f.index(c.name),h=a?u?"prevunique":"prev":u?"nextunique":"next",d=o||!("openKeyCursor"in p)?p.openCursor(r(l),h):p.openKeyCursor(r(l),h);d.onerror=Qe(s),d.onsuccess=ge((function(e){var r=d.result;if(r){r.___id=++Da,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=ge(s),r.next=function(){var t=this,e=1;return this.start((function(){return e--?t.continue():t.stop()})).then((function(){return t}))},r.start=function(t){var e=new Promise((function(t,e){t=ge(t),d.onerror=Qe(e),r.fail=e,r.stop=function(e){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,t(e)}})),n=function(){if(d.result)try{t()}catch(t){r.fail(t)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return d.onsuccess=ge((function(t){d.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),e},t(r)}else t(null)}),s)}))},count:function(t){var n=t.query,o=t.trans,i=n.index,a=n.range;return new Promise((function(t,n){var u=o.objectStore(e),s=i.isPrimaryKey?u:u.index(i.name),c=r(a),l=c?s.count(c):s.count();l.onsuccess=ge((function(e){return t(e.target.result)})),l.onerror=Qe(n)}))}}}(t)})),s={};return u.forEach((function(t){return s[t.name]=t})),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(t){if(!s[t])throw new Error("Table '".concat(t,"' not found"));return s[t]},MIN_KEY:-1/0,MAX_KEY:Ia(e),schema:i}}(e,o,r),t.dbcore));return{dbcore:i}}(n._middlewares,r,n._deps,e);n.core=o.dbcore,n.tables.forEach((function(t){var e=t.name;n.core.schema.tables.some((function(t){return t.name===e}))&&(t.core=n.core.table(e),l(n[e],n.Table)&&(n[e].core=t.core))}))},cn=function(t,e,n,r){var o=t._novip;n.forEach((function(t){var n=r[t];e.forEach((function(e){var r=pi(e,t);(!r||"value"in r&&void 0===r.value)&&(e===o.Transaction.prototype||l(e,o.Transaction)?Dt(e,t,{get:function(){return this.table(t)},set:function(e){li(this,t,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):e[t]=new o.Table(t,n))}))}))},ln=function(t,e){var n=t._novip;e.forEach((function(t){for(var e in t)l(t[e],n.Table)&&delete t[e]}))},fn=function(t,e){return t._cfg.version-e._cfg.version},pn=function(t,e){var n,r={del:[],add:[],change:[]};for(n in t)e[n]||r.del.push(n);for(n in e){var o=t[n],i=e[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!wa)a.recreate=!0,r.change.push(a);else{var u=o.idxByName,s=i.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var l=u[c],f=s[c];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r},hn=function(t,e,n,r){var o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(t){return dn(o,t)})),o},dn=function(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})},vn=function(t,e,n){var r={};return Rt(e.objectStoreNames,0).forEach((function(t){for(var e=n.objectStore(t),o=e.keyPath,i=en(nn(o),o||"",!1,!1,!!e.autoIncrement,o&&"string"!=typeof o,!0),a=[],u=0;u<e.indexNames.length;++u){var s=e.index(e.indexNames[u]);o=s.keyPath;var c=en(s.name,o,!!s.unique,!!s.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(c)}r[t]=rn(t,i,a)})),r},yn=function(t,e,n){for(var r=t._novip,o=n.db.objectStoreNames,i=0;i<o.length;++i){var a=o[i],u=n.objectStore(a);r._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var c=u.indexNames[s],f=u.index(c).keyPath,p="string"==typeof f?f:"["+Rt(f).join("+")+"]";if(e[a]){var h=e[a].idxByName[p];h&&(h.name=c,delete e[a].idxByName[p],e[a].idxByName[c]=h)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ii.WorkerGlobalScope&&l(ii,ii.WorkerGlobalScope)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)},mn=function(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Ga("__dbnames",{addons:[],indexedDB:t,IDBKeyRange:e})).version(1).stores({dbnames:"name"}),n.table("dbnames")},gn=function(t){return t&&"function"==typeof t.databases},bn=function(t){return be((function(){return na.letThrough=!0,t()}))},wn=function(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()},Sn=function(t){var e=function(e){return t.next(e)},n=o(e),r=o((function(e){return t.throw(e)}));function o(t){return function(e){var o=t(e),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):ui(i)?Promise.all(i).then(n,r):n(i)}}return o(e)()},On=function(t,e,n){var r=arguments.length;if(r<2)throw new Ri.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[t,Ht(o),n]},En=function(t,e,n){for(var r=ui(t)?t.slice():[t],o=0;o<n;++o)r.push(e);return r},_n=function(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;for(var r=[],o=0,i=0;o<e.keys.length&&i<t.length;++o)0===xa(e.keys[o],t[i])&&(r.push(n?Vt(e.values[o]):e.values[o]),++i);return r.length===t.length?r:null}catch(t){return null}},jn=function(t){return!("from"in t)},xn=function(t,e){jn(e)||function t(e,n){var r=n.from,o=n.to,i=n.l,a=n.r;Ha(e,r,o),i&&t(e,i),a&&t(e,a)}(t,e)},Pn=function(t){var e=jn(t)?null:{s:0,n:t};return{next:function(t){for(var n=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&xa(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||xa(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}},kn=function(t){var e,n,r=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){var i="r"===o?"l":"r",a=f({},t),u=t[o];t.from=u.from,t.to=u.to,t[o]=u[o],a[o]=u[i],t[i]=a,a.d=An(a)}t.d=An(t)},An=function(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1},Cn=function(t,e){return ai(e).forEach((function(n){xn(t[n]||(t[n]=new Fa),e[n])})),t},Tn=function(t){var e=qa;try{qa=!0,Ca.storagemutated.fire(t)}finally{qa=e}},In=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},Dn=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Nn=function(t,e){return function(n){if(!t(n))return"function"==typeof e?e(n):e}},Rn=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]},Ln=function(t){return function e(n){return 0===arguments.length||Rn(n)?e:t.apply(this,arguments)}},Mn=function(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return Rn(n)?e:Ln((function(e){return t(n,e)}));default:return Rn(n)&&Rn(r)?e:Rn(n)?Ln((function(e){return t(e,r)})):Rn(r)?Ln((function(e){return t(n,e)})):t(n,r)}}},Un=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n},Bn=function(t,e,n){for(var r=0,o=n.length;r<o;){if(t(e,n[r]))return!0;r+=1}return!1},Fn=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)},Hn=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":void 0===t?"undefined":v(t)},Vn=function(t,e,n,r){var o=function(t,e){return yu(t,e,n.slice(),r.slice())},i=Un(t);return!Bn((function(t,e){return!Bn(o,e,t)}),Un(e),i)},Kn=function(t){return function e(n,r,o){switch(arguments.length){case 0:return e;case 1:return Rn(n)?e:Mn((function(e,r){return t(n,e,r)}));case 2:return Rn(n)&&Rn(r)?e:Rn(n)?Mn((function(e,n){return t(e,r,n)})):Rn(r)?Mn((function(e,r){return t(n,e,r)})):Ln((function(e){return t(n,r,e)}));default:return Rn(n)&&Rn(r)&&Rn(o)?e:Rn(n)&&Rn(r)?Mn((function(e,n){return t(e,n,o)})):Rn(n)&&Rn(o)?Mn((function(e,n){return t(e,r,n)})):Rn(r)&&Rn(o)?Mn((function(e,r){return t(n,e,r)})):Rn(n)?Ln((function(e){return t(e,r,o)})):Rn(r)?Ln((function(e){return t(n,e,o)})):Rn(o)?Ln((function(e){return t(n,r,e)})):t(n,r,o)}}},Gn=function(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)},Wn=function(t,e,n,r){return t["@@transducer/result"](n[r](xu(t["@@transducer/step"],t),e))},$n=function(t){return"[object Object]"===Object.prototype.toString.call(t)},zn=function(t){return(0,Zo.getGlobalStore)("config-module-".concat(t),{config:null,loaded:!1,translationOverridesLoaded:!1})},qn=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},Zn=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Yn=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Zn(t,e,n[e])}))}return t},Jn=function(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t},Xn=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||tr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Qn=function(t){return function(t){if(Array.isArray(t))return qn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||tr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},tr=function(t,e){if(t){if("string"==typeof t)return qn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(t,e):void 0}},er=function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(t.schemas)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=zn(u);if(t.moduleLoaded[u]){var c=sr(u,t,e);s.setState({translationOverridesLoaded:!0,loaded:!0,config:c})}else{var l=cr(u,t,e);s.setState({translationOverridesLoaded:!0,loaded:!1,config:l})}}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},nr=function(t,e){var n,r,o=(n=fr(ur(t,e)),function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(t)[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=Xn(o.value,2),u=a[0],s=a[1],c=!0,l=!1,f=void 0;try{for(var p,h=Object.entries(s)[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var d=Xn(p.value,2),v=d[0];ar(d[1],u,v)}}catch(t){l=!0,f=t}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}(r=Object.keys(n).reduce((function(t,e){var r,o;return(null===(r=n[e])||void 0===r?void 0:r.extensionSlots)&&(t[e]=null===(o=n[e])||void 0===o?void 0:o.extensionSlots),t}),{})),Object.keys(r).reduce((function(t,e){return Yn({},t,r[e])}),{})),i=Object.fromEntries(Object.entries(o).map((function(t){var e=Xn(t,2);return[e[0],{loaded:!0,config:e[1]}]}))),a=(0,Zo.getGlobalStore)("config-extension-slots",{slots:{}}),u=a.getState(),s={slots:Yn({},u.slots,i)};gu(u,s)||a.setState(s)},rr=function(t,e){var n=function(t,e){var n=Gu(wu(t.schemas)),r=Qn(t.providedConfigs.map((function(t){return[t.config,t.source]}))).concat([[e.config,"temporary config"]]),o=!0,i=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=Xn(u.value,2);n=fr([n,Wu(c[0],c[1])])}}catch(t){i=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e);Ku.setState({config:n})},or=function(t,e,n){var r={},o=!0,i=!1,a=void 0;try{for(var u,s=e.mountedExtensions[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,l=ir(c.slotModuleName,c.extensionModuleName,c.slotName,c.extensionId,t,n);r[c.slotName]=Jn(Yn({},r[c.slotName]),Zn({},c.extensionId,{config:l,loaded:!0}))}}catch(t){i=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}(0,Zo.getGlobalStore)("config-extensions",{configs:{}}).setState({configs:r})},ir=function(t,e,n,r,o,i){var a,u,s,c,l=function(t){return Xn(t.split("#"),1)[0]}(r),f=o.schemas[l],p=f?l:e,h=ur(o,i),d=lr(t,h),v=null!==(c=null==d||null===(a=d.extensionSlots)||void 0===a||null===(u=a[n])||void 0===u||null===(s=u.configure)||void 0===s?void 0:s[r])&&void 0!==c?c:{},y=fr([lr(p,h),v]),m=null!=f?f:o.schemas[e];pr(m,y,p);var g=qu(m,y);return zu(m,g,p),delete g.extensionSlots,g},ar=function(t,e,n){var r="".concat(e,".extensionSlots.").concat(n),o="Extension slot config '".concat(r,"'"),i=Object.keys(t).filter((function(t){return!["add","remove","order","configure"].includes(t)}));i.length&&mr(r,o+"' contains invalid keys '".concat(i.join("', '"),"'")),t.add&&(Array.isArray(t.add)&&t.add.every((function(t){return"string"==typeof t}))||mr(r,o+".add' is invalid. Must be an array of strings (extension IDs)")),t.remove&&(Array.isArray(t.remove)&&t.remove.every((function(t){return"string"==typeof t}))||mr(r,o+".remove' is invalid. Must be an array of strings (extension IDs)")),t.order&&(Array.isArray(t.order)&&t.order.every((function(t){return"string"==typeof t}))||mr(r,o+".order' is invalid. Must be an array of strings (extension IDs)")),t.configure&&(yr(t.configure)||mr(r,o+".configure' is invalid. Must be an object with extension IDs for keys"))},ur=function(t,e){return Qn(t.providedConfigs.map((function(t){return t.config}))).concat([e.config])},sr=function(t,e,n){var r=e.schemas[t],o=lr(t,ur(e,n));pr(r,o,t);var i=qu(r,o);return zu(r,i,t),delete i.extensionSlots,i},cr=function(t,e,n){var r=lr(t,ur(e,n)),o=qu(Ju,r);return zu(Ju,o,t),delete o.extensionSlots,o},lr=function(t,e){var n=e.map((function(e){return e[t]})).filter((function(t){return!!t}));return fr(n)},fr=function(t){return ku(Du)({},t)},pr=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=e[s],l=n+"."+s,f=t[s];t.hasOwnProperty(s)?$u(f,c,l):"extensionSlots"===s&&""!==n||mr(l,"Unknown config key '".concat(l,"' provided. Ignoring."))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}},hr=function(t,e,n){e&&dr(t,[{Array:Nu,Boolean:Ru,ConceptUuid:Bu,Number:Lu,Object:Uu,String:Mu,UUID:Bu,PersonAttributeTypeUuid:Bu,PatientIdentifierTypeUuid:Bu}[e]],n)},dr=function(t,e,n){if(e)try{var r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=(0,a.value)(n);"string"==typeof s&&mr(t,"object"==typeof n?"Invalid configuration for ".concat(t,": ").concat(s):"Invalid configuration value ".concat(n," for ").concat(t,": ").concat(s))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}catch(e){console.error('Skipping invalid validator at "'.concat(t,'". Encountered error\n\t').concat(e))}},vr=function(t){return!!t&&Object.keys(t).filter((function(t){return!["_default","_validators"].includes(t)})).length>0},yr=function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t},mr=function(t,e){var n="".concat(t,":::").concat(e);Zu.has(n)||(console.error(e),Zu.add(n))},gr=function(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}},br=function(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}},wr=function(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}},Sr=function(t){var e=this.__data__=new ns(t);this.size=e.size},Or=function(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ds;++e<n;)this.add(t[e])},Er=function(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):l(t,e)},_r=function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=Object.values(t.extensions)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=!0,c=!1,l=void 0;try{for(var f,p=u.instances[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var h=f.value;e.push({slotModuleName:h.slotModuleName,extensionModuleName:u.moduleName,slotName:h.slotName,extensionId:h.id})}}catch(t){c=!0,l=t}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}Gc(to.configExtensionStore.getState().mountedExtensions,e)||to.configExtensionStore.setState({mountedExtensions:e})},jr=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},xr=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||kr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Pr=function(t){return function(t){if(Array.isArray(t))return jr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||kr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},kr=function(t,e){if(t){if("string"==typeof t)return jr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(t,e):void 0}},Ar=function(t,e,n){var r={},o=!0,i=!1,a=void 0;try{for(var u,s=Object.entries(t.slots)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=xr(u.value,2),l=c[0],f=c[1],p=Ir(l,t,(0,to.getExtensionSlotConfigFromStore)(e,f.name).config,n);r[l]={moduleName:f.moduleName,assignedExtensions:p}}}catch(t){i=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}Gc(Zc.getState().slots,r)||Zc.setState({slots:r})},Cr=function(t){return xr(t.split("#"),1)[0]},Tr=function(t,e,n,r){var o=e.indexOf(t);if(-1!==o)return o;if(void 0!==n)return 1e3+n;var i=r.indexOf(t);return-1!==i?2e3+i:-1},Ir=function(t,e,n,r){var o=function(t,e){var n=t.add||[],r=t.remove||[],o=t.order||[],i=qc.getState().extensions;return Pr(e).concat(Pr(n)).filter((function(t){return!r.includes(t)})).sort((function(t,n){var r,a,u=Tr(t,o,null===(r=i[Cr(t)])||void 0===r?void 0:r.order,e),s=Tr(n,o,null===(a=i[Cr(n)])||void 0===a?void 0:a.order,e);return-1===s?-1:-1===u?1:u-s}))}(n,e.slots[t].attachedIds),i=[],a=void 0,u=!0,s=!1,c=void 0;try{for(var l,f=o[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var p=l.value,h=(0,to.getExtensionConfigFromStore)(r,t,p).config,d=Cr(p),v=e.extensions[d];if(v){var y,m,g,b,w,S,O,E,_,j=null!==(w=null!==(b=null==h||null===(y=h["Display conditions"])||void 0===y?void 0:y.privileges)&&void 0!==b?b:v.privileges)&&void 0!==w?w:[];if(j&&("string"==typeof j||Array.isArray(j)&&j.length>0)){var x;if(Wc(a)&&(a=null===(x=(0,Ja.getSessionStore)().getState().session)||void 0===x?void 0:x.user),!a)continue;if(!(0,Ja.userHasAccess)(j,a))continue}i.push({id:p,name:d,moduleName:v.moduleName,config:h,featureFlag:v.featureFlag,meta:v.meta,online:null===(O=null!==(S=null==h||null===(m=h["Display conditions"])||void 0===m?void 0:m.online)&&void 0!==S?S:v.online)||void 0===O||O,offline:null!==(_=null!==(E=null==h||null===(g=h["Display conditions"])||void 0===g?void 0:g.offline)&&void 0!==E?E:v.offline)&&void 0!==_&&_})}}}catch(t){s=!0,c=t}finally{try{u||null==f.return||f.return()}finally{if(s)throw c}}return i},Dr=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},Nr=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Rr=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Nr(t,e,n[e])}))}return t},Lr=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Dr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Mr=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},Ur=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Br=function(t){return function(t){if(Array.isArray(t))return Mr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Fr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Fr=function(t,e){if(t){if("string"==typeof t)return Mr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mr(t,e):void 0}},Hr=function(t){return function(e){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||Fr(t,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,no.useState)(t.getState())),r=n[0],o=n[1];return(0,no.useEffect)((function(){return t.subscribe((function(t){return o(t)}))}),[]),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Ur(t,e,n[e])}))}return t}({},r,(0,no.useMemo)((function(){return e?function(t,e){var n=function(n){r[n]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.setState((function(t){var r,i=[t].concat(Br(o));return(r=e)[n].apply(r,Br(i))}))}};"function"==typeof e&&(e=e(t));var r={};for(var o in e)n(o);return r}(t,e):{}}),[e]))}},Vr=function(){return Al.apply(this,arguments)},Kr=function(t,e){var n=Kl[t];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(e,!0),n.active=!0,n.value;var r=Vl((function(){return e}));return Kl[t]={value:r,active:!0},r},Gr=function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n},Wr=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gr(Object(n),!0).forEach((function(e){$r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t},$r=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},zr=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},qr=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Zr='<svg viewBox="0 0 380 119" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M40.29 40.3278C45.3275 35.2904 52.2878 32.1739 59.9776 32.1739C67.6466 32.1739 74.5911 35.2765 79.6245 40.29L79.6454 21.7502C73.7513 18.7143 67.0622 17 59.9776 17C52.8891 17 46.1652 18.9309 40.2692 21.9679L40.29 40.3278Z" fill="var(--logo-red)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M79.6454 79.6712C74.6079 84.7096 67.6506 87.8251 59.9608 87.8251C52.2918 87.8251 45.3473 84.7236 40.3099 79.709L40.29 98.2498C46.1871 101.285 52.8732 103 59.9608 103C67.0493 103 73.7374 101.285 79.6315 98.2488L79.6454 79.6712Z" fill="var(--logo-orange)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M40.3278 79.6961C35.2904 74.6586 32.1739 67.7012 32.1739 60.0114C32.1739 52.3425 35.2755 45.399 40.29 40.3616L21.7492 40.3417C18.7143 46.2378 17 52.9229 17 60.0114C17 67.1 18.7143 73.7881 21.7522 79.6831L40.3278 79.6961Z" fill="var(--logo-purple)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M79.6344 40.289C84.6719 45.3255 87.7883 52.2868 87.7883 59.9766C87.7883 67.6456 84.6868 74.5901 79.6712 79.6225L98.213 79.6434C101.248 73.7493 102.962 67.0612 102.962 59.9766C102.962 52.8871 101.248 46.198 98.211 40.302L79.6344 40.289Z" fill="var(--logo-green)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M156.184 60.0025C156.184 51.2543 150.066 44.2264 141.159 44.2264C132.25 44.2264 126.134 51.2543 126.134 60.0025C126.134 68.7507 132.25 75.7816 141.159 75.7816C150.066 75.7816 156.184 68.7507 156.184 60.0025ZM121.303 60.0025C121.303 48.5205 129.621 40.0436 141.159 40.0436C152.695 40.0436 161.014 48.5205 161.014 60.0025C161.014 71.4875 152.695 79.9674 141.159 79.9674C129.621 79.9674 121.303 71.4875 121.303 60.0025Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M179.514 75.5401C185.021 75.5401 188.564 71.4 188.564 66.0585C188.564 60.717 185.021 56.575 179.514 56.575C174.009 56.575 170.468 60.717 170.468 66.0585C170.468 71.4 174.009 75.5401 179.514 75.5401ZM166.22 53.3064H170.468V57.0102H170.578C172.922 54.2853 176.027 52.6506 179.732 52.6506C187.746 52.6506 193.14 58.32 193.14 66.0585C193.14 73.6887 187.527 79.4645 180.388 79.4645C175.808 79.4645 172.157 77.1749 170.578 74.286H170.468V90.87H166.22V53.3064Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M217.773 63.7679C217.61 59.4629 214.773 56.575 210.087 56.575C205.402 56.575 202.297 59.4629 201.752 63.7679H217.773ZM221.426 74.1796C218.425 78.0484 214.83 79.4645 210.087 79.4645C202.077 79.4645 197.173 73.4711 197.173 66.0585C197.173 58.157 202.732 52.6506 210.253 52.6506C217.449 52.6506 222.349 57.5568 222.349 66.0049V67.3673H201.752C202.077 71.7797 205.456 75.5401 210.087 75.5401C213.737 75.5401 216.192 74.2333 218.207 71.6723L221.426 74.1796Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M227.854 59.3565C227.854 57.0102 227.638 54.9959 227.638 53.3064H231.669C231.669 54.6689 231.779 56.083 231.779 57.5012H231.889C233.033 54.9959 236.195 52.6506 240.389 52.6506C247.094 52.6506 250.088 56.9029 250.088 63.0603V78.8086H245.84V63.4986C245.84 59.2462 243.984 56.575 240.007 56.575C234.504 56.575 232.104 60.554 232.104 66.3865V78.8086H227.854V59.3565Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M259.211 41.0085H265.919L278.8 70.7909H278.907L291.889 41.0085H298.438V78.9994H293.932V47.1242H293.826L280.192 78.9994H277.454L263.825 47.1242H263.718V78.9994H259.211V41.0085Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M312.392 57.7516H316.415C321.407 57.7516 327.902 57.7516 327.902 51.47C327.902 45.9992 323.126 45.1943 318.725 45.1943H312.392V57.7516ZM307.886 41.0085H317.597C324.949 41.0085 332.729 42.0798 332.729 51.47C332.729 56.9973 329.135 60.5948 323.234 61.507L334.018 78.9994H328.493L318.189 61.9364H312.392V78.9994H307.886V41.0085Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M358.123 47.7125C356.617 45.2986 353.936 44.2264 351.197 44.2264C347.224 44.2264 343.097 46.1056 343.097 50.6113C343.097 54.1005 345.028 55.6577 351.091 57.5906C356.994 59.4688 362.468 61.3997 362.468 68.858C362.468 76.4246 355.973 79.9674 349.108 79.9674C344.706 79.9674 339.983 78.5174 337.408 74.7063L341.27 71.5412C342.88 74.3347 346.1 75.7816 349.375 75.7816C353.237 75.7816 357.638 73.5277 357.638 69.18C357.638 64.5112 354.473 63.7063 347.71 61.4524C342.344 59.6805 338.268 57.3183 338.268 50.989C338.268 43.6907 344.545 40.0436 351.197 40.0436C355.438 40.0436 359.033 41.2222 361.822 44.4947L358.123 47.7125Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M185.885 90.9982H187.309L190.043 97.3236H190.066L192.824 90.9982H194.215V99.0676H193.258V92.2971H193.234L190.34 99.0676H189.758L186.864 92.2971H186.842V99.0676H185.885V90.9982Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M198.386 90.9982H203.457V91.8867H199.343V94.4168H203.184V95.3062H199.343V98.1782H203.663V99.0676H198.386V90.9982Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M207.891 98.1782H209.713C211.561 98.1782 212.963 97.2431 212.963 95.0319C212.963 92.8218 211.561 91.8867 209.713 91.8867H207.891V98.1782ZM206.934 90.9982H210.034C211.617 90.9982 213.987 92.0586 213.987 95.0319C213.987 98.0083 211.617 99.0676 210.034 99.0676H206.934V90.9982Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M217.007 99.0676H217.965V90.9982H217.007V99.0676Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M227.105 92.6628C226.627 92.0119 225.863 91.6819 225.088 91.6819C223.288 91.6819 222.011 93.266 222.011 95.0319C222.011 96.9012 223.277 98.3839 225.088 98.3839C226.068 98.3839 226.855 97.9844 227.425 97.255L228.143 97.8582C227.425 98.8281 226.377 99.2724 225.088 99.2724C222.774 99.2724 220.986 97.4826 220.986 95.0319C220.986 92.6628 222.695 90.7935 225.088 90.7935C226.183 90.7935 227.254 91.1701 227.937 92.0586L227.105 92.6628Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M233.557 92.2295H233.533L231.858 96.1947H235.152L233.557 92.2295ZM233.123 90.9982H234.023L237.453 99.0676H236.336L235.516 97.0841H231.482L230.65 99.0676H229.568L233.123 90.9982Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M240.006 90.9982H240.964V98.1782H244.656V99.0676H240.006V90.9982Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M252.793 94.5539H253.648C254.708 94.5539 256.087 94.5539 256.087 93.2203C256.087 92.0586 255.073 91.8867 254.139 91.8867H252.793V94.5539ZM251.836 90.9982H253.899C255.46 90.9982 257.113 91.2258 257.113 93.2203C257.113 94.3939 256.349 95.1582 255.095 95.3519L257.386 99.0676H256.213L254.023 95.4434H252.793V99.0676H251.836V90.9982Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M260.51 90.9982H265.58V91.8867H261.468V94.4168H265.308V95.3062H261.468V98.1782H265.786V99.0676H260.51V90.9982Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M274.402 92.6628C273.923 92.0119 273.16 91.6819 272.384 91.6819C270.584 91.6819 269.307 93.266 269.307 95.0319C269.307 96.9012 270.573 98.3839 272.384 98.3839C273.364 98.3839 274.151 97.9844 274.72 97.255L275.438 97.8582C274.72 98.8281 273.672 99.2724 272.384 99.2724C270.071 99.2724 268.282 97.4826 268.282 95.0319C268.282 92.6628 269.991 90.7935 272.384 90.7935C273.478 90.7935 274.55 91.1701 275.234 92.0586L274.402 92.6628Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M284.739 95.0319C284.739 93.1746 283.439 91.6819 281.548 91.6819C279.656 91.6819 278.357 93.1746 278.357 95.0319C278.357 96.8903 279.656 98.3839 281.548 98.3839C283.439 98.3839 284.739 96.8903 284.739 95.0319ZM277.33 95.0319C277.33 92.5932 279.097 90.7935 281.548 90.7935C283.998 90.7935 285.765 92.5932 285.765 95.0319C285.765 97.4726 283.998 99.2724 281.548 99.2724C279.097 99.2724 277.33 97.4726 277.33 95.0319Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M289.514 94.5539H290.369C291.428 94.5539 292.807 94.5539 292.807 93.2203C292.807 92.0586 291.793 91.8867 290.859 91.8867H289.514V94.5539ZM288.556 90.9982H290.618C292.181 90.9982 293.833 91.2258 293.833 93.2203C293.833 94.3939 293.07 95.1582 291.817 95.3519L294.106 99.0676H292.933L290.744 95.4434H289.514V99.0676H288.556V90.9982Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M297.81 98.1782H299.635C301.48 98.1782 302.881 97.2431 302.881 95.0319C302.881 92.8218 301.48 91.8867 299.635 91.8867H297.81V98.1782ZM296.853 90.9982H299.953C301.538 90.9982 303.909 92.0586 303.909 95.0319C303.909 98.0083 301.538 99.0676 299.953 99.0676H296.853V90.9982Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M315.407 92.4223C315.089 91.9095 314.517 91.6819 313.937 91.6819C313.093 91.6819 312.216 92.0814 312.216 93.0384C312.216 93.7788 312.626 94.1097 313.914 94.5202C315.168 94.9187 316.331 95.3291 316.331 96.9132C316.331 98.5201 314.951 99.2724 313.493 99.2724C312.558 99.2724 311.555 98.9643 311.007 98.1554L311.828 97.4826C312.17 98.0759 312.854 98.3839 313.549 98.3839C314.37 98.3839 315.303 97.9049 315.303 96.9807C315.303 95.9899 314.633 95.818 313.196 95.341C312.057 94.9644 311.19 94.4625 311.19 93.1189C311.19 91.5677 312.523 90.7935 313.937 90.7935C314.837 90.7935 315.601 91.0439 316.193 91.7386L315.407 92.4223Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M320.844 95.5914L317.835 90.9982H319.054L321.323 94.6454L323.658 90.9982H324.81L321.8 95.5914V99.0676H320.844V95.5914Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M330.565 92.4223C330.245 91.9095 329.675 91.6819 329.094 91.6819C328.251 91.6819 327.374 92.0814 327.374 93.0384C327.374 93.7788 327.784 94.1097 329.072 94.5202C330.326 94.9187 331.487 95.3291 331.487 96.9132C331.487 98.5201 330.109 99.2724 328.65 99.2724C327.716 99.2724 326.713 98.9643 326.165 98.1554L326.986 97.4826C327.328 98.0759 328.012 98.3839 328.707 98.3839C329.528 98.3839 330.461 97.9049 330.461 96.9807C330.461 95.9899 329.79 95.818 328.354 95.341C327.215 94.9644 326.348 94.4625 326.348 93.1189C326.348 91.5677 327.681 90.7935 329.094 90.7935C329.995 90.7935 330.759 91.0439 331.351 91.7386L330.565 92.4223Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M339.283 91.8867H336.617V99.0676H335.659V91.8867H332.992V90.9982H339.283V91.8867Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M341.665 90.9982H346.736V91.8867H342.623V94.4168H346.463V95.3062H342.623V98.1782H346.942V99.0676H341.665V90.9982Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M349.905 90.9982H351.329L354.064 97.3236H354.087L356.845 90.9982H358.236V99.0676H357.278V92.2971H357.255L354.361 99.0676H353.779L350.884 92.2971H350.863V99.0676H349.905V90.9982Z" fill="var(--logo-black)"/>\n</svg>\n',Yr='<svg id="omrs-logo-partial" viewBox="0 0 380 119" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M40.2901 40.3278C45.3275 35.2904 52.2879 32.1739 59.9777 32.1739C67.6466 32.1739 74.5911 35.2765 79.6246 40.29L79.6454 21.7502C73.7514 18.7143 67.0623 17 59.9777 17C52.8891 17 46.1653 18.9309 40.2692 21.9679L40.2901 40.3278Z" fill="var(--logo-red)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M79.6454 79.6712C74.6079 84.7096 67.6506 87.8251 59.9608 87.8251C52.2918 87.8251 45.3473 84.7236 40.3099 79.709L40.29 98.2498C46.1871 101.285 52.8732 103 59.9608 103C67.0493 103 73.7374 101.285 79.6315 98.2488L79.6454 79.6712Z" fill="var(--logo-orange)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M40.3278 79.6961C35.2904 74.6586 32.1739 67.7012 32.1739 60.0114C32.1739 52.3425 35.2755 45.399 40.29 40.3616L21.7492 40.3417C18.7143 46.2378 17 52.9229 17 60.0114C17 67.1 18.7143 73.7881 21.7522 79.6831L40.3278 79.6961Z" fill="var(--logo-purple)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M79.6344 40.289C84.6718 45.3255 87.7883 52.2868 87.7883 59.9766C87.7883 67.6456 84.6867 74.5901 79.6712 79.6225L98.213 79.6434C101.248 73.7493 102.962 67.0612 102.962 59.9766C102.962 52.8871 101.248 46.198 98.211 40.302L79.6344 40.289Z" fill="var(--logo-green)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M156.184 60.0025C156.184 51.2543 150.066 44.2264 141.159 44.2264C132.25 44.2264 126.134 51.2543 126.134 60.0025C126.134 68.7507 132.25 75.7816 141.159 75.7816C150.066 75.7816 156.184 68.7507 156.184 60.0025ZM121.303 60.0025C121.303 48.5205 129.621 40.0436 141.159 40.0436C152.695 40.0436 161.014 48.5205 161.014 60.0025C161.014 71.4875 152.695 79.9674 141.159 79.9674C129.621 79.9674 121.303 71.4875 121.303 60.0025Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M179.514 75.5401C185.021 75.5401 188.564 71.4 188.564 66.0585C188.564 60.717 185.021 56.575 179.514 56.575C174.009 56.575 170.468 60.717 170.468 66.0585C170.468 71.4 174.009 75.5401 179.514 75.5401ZM166.22 53.3064H170.468V57.0102H170.578C172.922 54.2853 176.027 52.6506 179.732 52.6506C187.746 52.6506 193.14 58.32 193.14 66.0585C193.14 73.6887 187.527 79.4645 180.388 79.4645C175.808 79.4645 172.157 77.1749 170.578 74.286H170.468V90.87H166.22V53.3064Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M217.773 63.7679C217.61 59.4629 214.773 56.575 210.087 56.575C205.402 56.575 202.297 59.4629 201.752 63.7679H217.773ZM221.426 74.1796C218.425 78.0484 214.83 79.4645 210.087 79.4645C202.077 79.4645 197.173 73.4711 197.173 66.0585C197.173 58.157 202.732 52.6506 210.253 52.6506C217.449 52.6506 222.349 57.5568 222.349 66.0049V67.3673H201.752C202.077 71.7797 205.456 75.5401 210.087 75.5401C213.737 75.5401 216.192 74.2333 218.207 71.6723L221.426 74.1796Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M227.854 59.3565C227.854 57.0102 227.638 54.9959 227.638 53.3064H231.669C231.669 54.6689 231.779 56.083 231.779 57.5012H231.889C233.033 54.9959 236.195 52.6506 240.389 52.6506C247.094 52.6506 250.088 56.9029 250.088 63.0603V78.8086H245.84V63.4986C245.84 59.2462 243.984 56.575 240.007 56.575C234.504 56.575 232.104 60.554 232.104 66.3865V78.8086H227.854V59.3565Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M259.211 41.0085H265.919L278.8 70.7909H278.907L291.889 41.0085H298.438V78.9994H293.932V47.1242H293.826L280.192 78.9994H277.454L263.825 47.1242H263.718V78.9994H259.211V41.0085Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M312.392 57.7516H316.415C321.407 57.7516 327.902 57.7516 327.902 51.47C327.902 45.9992 323.126 45.1943 318.725 45.1943H312.392V57.7516ZM307.886 41.0085H317.597C324.949 41.0085 332.729 42.0798 332.729 51.47C332.729 56.9973 329.135 60.5948 323.234 61.5071L334.018 78.9994H328.493L318.189 61.9364H312.392V78.9994H307.886V41.0085Z" fill="var(--logo-black)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M358.123 47.7125C356.617 45.2986 353.936 44.2264 351.197 44.2264C347.224 44.2264 343.097 46.1056 343.097 50.6113C343.097 54.1005 345.028 55.6577 351.091 57.5906C356.994 59.4688 362.468 61.3997 362.468 68.858C362.468 76.4246 355.973 79.9674 349.108 79.9674C344.706 79.9674 339.983 78.5174 337.408 74.7063L341.27 71.5412C342.88 74.3347 346.1 75.7816 349.375 75.7816C353.237 75.7816 357.638 73.5277 357.638 69.18C357.638 64.5112 354.473 63.7063 347.71 61.4524C342.344 59.6805 338.268 57.3183 338.268 50.989C338.268 43.6907 344.545 40.0436 351.197 40.0436C355.438 40.0436 359.033 41.2222 361.822 44.4947L358.123 47.7125Z" fill="var(--logo-black)"/>\n</svg>\n',Jr='<svg id="omrs-logo-icon" width="121" height="118" viewBox="0 0 121 118" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M40.436 39.474C45.505 34.405 52.509 31.269 60.247 31.269C67.964 31.269 74.952 34.391 80.017 39.436L80.038 20.78C74.107 17.725 67.376 16 60.247 16C53.114 16 46.348 17.943 40.415 20.999L40.436 39.474Z" fill="var(--logo-red)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M80.038 79.064C74.969 84.134 67.968 87.269 60.23 87.269C52.513 87.269 45.525 84.148 40.456 79.102L40.436 97.759C46.37 100.813 53.098 102.539 60.23 102.539C67.363 102.539 74.093 100.813 80.024 97.758L80.038 79.064Z" fill="var(--logo-orange)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M40.474 79.089C35.405 74.02 32.269 67.019 32.269 59.281C32.269 51.564 35.39 44.577 40.436 39.508L21.779 39.488C18.725 45.421 17 52.148 17 59.281C17 66.414 18.725 73.144 21.782 79.076L40.474 79.089Z" fill="var(--logo-purple)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M80.027 39.435C85.096 44.503 88.232 51.508 88.232 59.246C88.232 66.963 85.111 73.951 80.064 79.015L98.722 79.036C101.776 73.105 103.501 66.375 103.501 59.246C103.501 52.112 101.776 45.381 98.72 39.448L80.027 39.435Z" fill="var(--logo-green)"/>\n</svg>\n',Xr=document.createElement("div"),Qr=function(){document.body.appendChild(Xr)};Xr.id="omrs-svgs-container",Xr.style.display="none","complete"===document.readyState?Qr():window.addEventListener("load",Qr);var to=x(714),eo={"Brand color #1":{_default:"#005d5d",_type:to.Type.String},"Brand color #2":{_default:"#004144",_type:to.Type.String},"Brand color #3":{_default:"#007d79",_type:to.Type.String},patientPhotoConceptUuid:{_type:to.Type.ConceptUuid,_default:"736e8771-e501-4615-bfa7-570c03f4bef5",_description:"Used to look up the patient photo, which is stored as an attachment obs. Set to `null` in order to disable the feature and use only generated avatars. To remove the avatars entirely, use extension configuration's `remove` feature."},preferredCalendar:{_type:to.Type.Object,_description:"Keys should be locale codes, and values should be the preferred calendar for that locale. For example, {'am': 'ethiopic'}.",_default:{am:"ethiopic"},_elements:{_validators:[to.validators.oneOf(["buddhist","chinese","coptic","dangi","ethioaa","ethiopic","gregory","hebrew","indian","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","iso8601","japanese","persian","roc","islamicc"])]}}};Number.MAX_SAFE_INTEGER;var no=x(954),ro=x(792),oo={};try{process.env.CARBON_ENABLE_CSS_CUSTOM_PROPERTIES&&"true"===process.env.CARBON_ENABLE_CSS_CUSTOM_PROPERTIES?oo.enableCssCustomProperties=!0:oo.enableCssCustomProperties=!1,process.env.CARBON_ENABLE_USE_CONTROLLED_STATE_WITH_VALUE&&"true"===process.env.CARBON_ENABLE_USE_CONTROLLED_STATE_WITH_VALUE?oo.enableUseControlledStateWithValue=!0:oo.enableUseControlledStateWithValue=!1,process.env.CARBON_ENABLE_CSS_GRID&&"true"===process.env.CARBON_ENABLE_CSS_GRID?oo.enableCssGrid=!0:oo.enableCssGrid=!1,process.env.CARBON_ENABLE_V11_RELEASE?"true"===process.env.CARBON_ENABLE_V11_RELEASE?oo.enableV11Release=!0:oo.enableV11Release=!1:oo.enableV11Release=!0,process.env.CARBON_ENABLE_EXPERIMENTAL_TILE_CONTRAST&&"true"===process.env.CARBON_ENABLE_EXPERIMENTAL_TILE_CONTRAST?oo.enableExperimentalTileContrast=!0:oo.enableExperimentalTileContrast=!1,process.env.CARBON_ENABLE_V12_TILE_DEFAULT_ICONS&&"true"===process.env.CARBON_ENABLE_V12_TILE_DEFAULT_ICONS?oo.enableV12TileDefaultIcons=!0:oo.enableV12TileDefaultIcons=!1,process.env.CARBON_ENABLE_V12_OVERFLOWMENU&&"true"===process.env.CARBON_ENABLE_V12_OVERFLOWMENU?oo.enableV12Overflowmenu=!0:oo.enableV12Overflowmenu=!1}catch(t){oo.enableCssCustomProperties=!1,oo.enableUseControlledStateWithValue=!1,oo.enableCssGrid=!1,oo.enableV11Release=!0,oo.enableExperimentalTileContrast=!1,oo.enableV12TileDefaultIcons=!1,oo.enableV12Overflowmenu=!1}for(var io=[{name:"enable-css-custom-properties",description:"Describe what the flag does",enabled:oo.enableCssCustomProperties},{name:"enable-use-controlled-state-with-value",description:"Enable components to be created in either a controlled or uncontrolled mode\n",enabled:oo.enableUseControlledStateWithValue},{name:"enable-css-grid",description:"Enable CSS Grid Layout in the Grid and Column React components\n",enabled:oo.enableCssGrid},{name:"enable-v11-release",description:"Enable the features and functionality for the v11 Release\n",enabled:oo.enableV11Release},{name:"enable-experimental-tile-contrast",description:"Enable the experimental tile improved contrast styles\n",enabled:oo.enableExperimentalTileContrast},{name:"enable-v12-tile-default-icons",description:"Enable rendering of default icons in the tile components\n",enabled:oo.enableV12TileDefaultIcons},{name:"enable-v12-overflowmenu",description:"Enable the use of the v12 OverflowMenu leveraging the Menu subcomponents\n",enabled:oo.enableV12Overflowmenu}],ao=function(){function t(e){var n=this;(function(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):l(n,r)))throw new TypeError("Cannot call a class as a function");var n,r})(this,t),this.flags=new Map,e&&Object.keys(e).forEach((function(t){n.flags.set(t,e[t])}))}var e,n;return e=t,n=[{key:"checkForFlag",value:function(t){if(!this.flags.has(t))throw new Error("Unable to find a feature flag with the name: `".concat(t,"`"))}},{key:"add",value:function(t,e){if(this.flags.has(t))throw new Error("The feature flag: ".concat(t," already exists"));this.flags.set(t,e)}},{key:"enable",value:function(t){this.checkForFlag(t),this.flags.set(t,!0)}},{key:"disable",value:function(t){this.checkForFlag(t),this.flags.set(t,!1)}},{key:"merge",value:function(t){var e=this;Object.keys(t).forEach((function(n){e.flags.set(n,t[n])}))}},{key:"mergeWithScope",value:function(t){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t.flags);try{for(n.s();!(e=n.n()).done;){var r=o(e.value,2),i=r[0],a=r[1];this.flags.has(i)||this.flags.set(i,a)}}catch(t){n.e(t)}finally{n.f()}}},{key:"enabled",value:function(t){return this.checkForFlag(t),this.flags.get(t)}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,"symbol"==(void 0===(i=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key))?"undefined":(o=i)&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":void 0===o?"undefined":v(o))?i:String(i),r)}var o,i}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),uo=new ao(void 0),so=0;so<io.length;so++){var co=io[so];uo.add(co.name,co.enabled)}!function(){uo.merge.apply(uo,arguments)}({"enable-css-custom-properties":!0,"enable-css-grid":!0,"enable-v11-release":!0,"enable-experimental-tile-contrast":!1}),x(279),new ro.Subject,new ro.Subject,new ro.Subject,x(976),new ro.Subject;var lo,fo=Object.freeze({__proto__:null,get start(){return Ot},get ensureJQuerySupport(){return ot},get setBootstrapMaxTime(){return W},get setMountMaxTime(){return $},get setUnmountMaxTime(){return z},get setUnloadMaxTime(){return q},get registerApplication(){return ht},get unregisterApplication(){return vt},get getMountedApps(){return lt},get getAppStatus(){return pt},get unloadApplication(){return yt},get checkActivityFunctions(){return dt},get getAppNames(){return ft},get pathToActiveWhen(){return bt},get navigateToUrl(){return X},get patchHistoryApi(){return nt},get triggerAppChange(){return wt},get addErrorHandler(){return O},get removeErrorHandler(){return E},get mountRootParcel(){return H},get NOT_LOADED(){return yo},get LOADING_SOURCE_CODE(){return mo},get NOT_BOOTSTRAPPED(){return go},get BOOTSTRAPPING(){return bo},get NOT_MOUNTED(){return wo},get MOUNTING(){return So},get UPDATING(){return Eo},get LOAD_ERROR(){return xo},get MOUNTED(){return Oo},get UNLOADING(){return jo},get UNMOUNTING(){return _o},get SKIP_BECAUSE_BROKEN(){return Po}}),po=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).CustomEvent,ho=function(){try{var t=new po("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?po:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n},vo=[],yo="NOT_LOADED",mo="LOADING_SOURCE_CODE",go="NOT_BOOTSTRAPPED",bo="BOOTSTRAPPING",wo="NOT_MOUNTED",So="MOUNTING",Oo="MOUNTED",Eo="UPDATING",_o="UNMOUNTING",jo="UNLOADING",xo="LOAD_ERROR",Po="SKIP_BECAUSE_BROKEN",ko=[],Ao=!1,Co=!1,To=0,Io={parcels:{}},Do={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:1e3},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},update:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3}},No="undefined"!=typeof window,Ro={hashchange:[],popstate:[]},Lo=["hashchange","popstate"],Mo=null,Uo=!1;No&&(window.singleSpaNavigate?console.warn(j(41,!1)):window.singleSpaNavigate=X);var Bo=!1,Fo={},Ho=[],Vo=!1,Ko=!1,Go=[],Wo=No&&window.location.href;function $o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="function"==typeof(null==t?void 0:t.then)?t:Promise.resolve(t);d.push(e.catch((function(t){return console.warn(Error(j(42,!1))),console.warn(t),!1})))},o=function(){var e=lt();t.forEach((function(t){return t.resolve(e)}));try{u(0===s.length?"no-app-change":"app-change",a()),u("routing-event",a())}catch(t){setTimeout((function(){throw t}))}if(Ko=!1,Go.length>0){var n=Go;Go=[],$o(n)}return e},i=function(){n||(t.forEach((function(t){Q(t.eventArguments)})),Q(e))},a=function(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0,o={},i=(b(t={},Oo,[]),b(t,wo,[]),b(t,yo,[]),b(t,Po,[]),t);n?(p.concat(h).forEach((function(t,e){u(t,Oo)})),l.forEach((function(t){u(t,yo)})),f.forEach((function(t){u(t,wo)}))):s.forEach((function(t){u(t)}));var a={detail:{newAppStatuses:o,appsByNewStatus:i,totalAppChanges:s.length,originalEvent:null==e?void 0:e[0],oldUrl:v,newUrl:y}};return r&&D(a.detail,r),a;function u(t,e){var n=C(t);e=e||pt(n),o[n]=e,(i[e]=i[e]||[]).push(n)}},u=function(t,e){n||window.dispatchEvent(new ho("single-spa:".concat(t),e))};if(Ko)return new Promise((function(t,n){Go.push({resolve:t,reject:n,eventArguments:e})}));var s,c=function(){var t=[],e=[],n=[],r=[],o=(new Date).getTime();return Ho.forEach((function(i){var a=i.status!==Po&&A(i);switch(i.status){case xo:a&&o-i.loadErrorTime>=200&&n.push(i);break;case yo:case mo:a&&n.push(i);break;case go:case wo:!a&&ct(C(i))?t.push(i):a&&r.push(i);break;case Oo:a||e.push(i)}})),{appsToUnload:t,appsToUnmount:e,appsToLoad:n,appsToMount:r}}(),l=c.appsToUnload,f=c.appsToUnmount,p=c.appsToLoad,h=c.appsToMount,d=[],v=Wo,y=Wo=window.location.href;return Et()?(Ko=!0,s=l.concat(p,f,h),Promise.resolve().then((function(){return u(0===s.length?"before-no-app-change":"before-app-change",a(!0)),u("before-routing-event",a(!0,{cancelNavigation:r})),Promise.all(d).then((function(n){if(n.some((function(t){return t})))return Mo.call(window.history,history.state,"",v.substring(location.origin.length)),Wo=location.href,Ko=!1,$o(t,e,!0);var r=l.map(at),s=f.map(B).map((function(t){return t.then(at)})).concat(r),c=Promise.all(s);c.then((function(){u("before-mount-routing-event",a(!0))}),(function(t){throw t}));var d=p.map((function(t){return J(t).then((function(t){return St(t,c)}))})),y=h.filter((function(t){return p.indexOf(t)<0})).map((function(t){return St(t,c)}));return c.catch((function(t){throw i(),t})).then((function(){return i(),Promise.all(d.concat(y)).catch((function(e){throw t.forEach((function(t){return t.reject(e)})),e})).then(o).then((function(){}),(function(t){throw t}))}))}))}))):(s=p,Promise.resolve().then((function(){var t=p.map(J);return Promise.all(t).then(i).then((function(){return[]})).catch((function(t){throw i(),t})).finally((function(){}))})))}var zo=!1,qo={getRawAppData:function(){return function(t){if(Array.isArray(t))return g(t)}(t=Ho)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t},reroute:$o,NOT_LOADED:yo,toLoadPromise:J,toBootstrapPromise:U,unregisterApplication:vt,getProfilerData:function(){return ko}};No&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=qo);var Zo=x(685),Yo=x(45);function Jo(t,e,n){return Jo=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Qo(o,n.prototype),o},Jo.apply(null,arguments)}function Xo(t){return Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xo(t)}function Qo(t,e){return Qo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Qo(t,e)}function ti(t){var e="function"==typeof Map?new Map:void 0;return ti=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Jo(t,arguments,Xo(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qo(n,t)},ti(t)}(0,Zo.createGlobalStore)("modalRegistry",{modals:{}}),x(674),(0,Zo.createGlobalStore)("modalState",{modalContainer:null,modalStack:[]}),window.getComputedStyle(document.body).overflow,x(367),(0,Zo.createGlobalStore)("breadcrumbs",[]);var ei="/ws/rest/v1";"".concat(ei,"/session"),ti(Error),"".concat(ei,"/attachment"),(0,Zo.createGlobalStore)("session",{loaded:!1,session:null}).subscribe((function(t){return t.session&&(i=null!==(o=null==(e=t.session)||null===(n=e.user)||void 0===n||null===(r=n.userProperties)||void 0===r?void 0:r.defaultLocale)&&void 0!==o?o:e.locale,a=document.documentElement.getAttribute("lang"),void(function(t){if(void 0===t||"string"!=typeof t)return!1;try{new Intl.Locale(t)}catch(t){return!1}return!0}(i)&&i!==a&&document.documentElement.setAttribute("lang",i)));var e,n,r,o,i,a}));try{self["workbox:window:6.5.4"]&&_()}catch(ho){}try{self["workbox:core:6.5.4"]&&_()}catch(ho){}var ni=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ri=function(t,e){this.type=t,Object.assign(this,e)},oi={type:"SKIP_WAITING"};!function(t){var e,n;function r(e,n){var r,o;return void 0===n&&(n={}),(r=t.call(this)||this).nn={},r.tn=0,r.rn=new ni,r.en=new ni,r.on=new ni,r.un=0,r.an=new Set,r.cn=function(){var t=r.fn,e=t.installing;r.tn>0||!xt(e.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=e,t.removeEventListener("updatefound",r.cn)):(r.hn=e,r.an.add(e),r.rn.resolve(e)),++r.tn,e.addEventListener("statechange",r.ln)},r.ln=function(t){var e=r.fn,n=t.target,o=n.state,i=n===r.vn,a={sw:n,isExternal:i,originalEvent:t};!i&&r.mn&&(a.isUpdate=!0),r.dispatchEvent(new ri(o,a)),"installed"===o?r.wn=self.setTimeout((function(){"installed"===o&&e.waiting===n&&r.dispatchEvent(new ri("waiting",a))}),200):"activating"===o&&(clearTimeout(r.wn),i||r.en.resolve(n))},r.dn=function(t){var e=r.hn,n=e!==navigator.serviceWorker.controller;r.dispatchEvent(new ri("controlling",{isExternal:n,originalEvent:t,sw:e,isUpdate:r.mn})),n||r.on.resolve(e)},r.gn=(o=function(t){var e=t.data,n=t.ports,o=t.source;return Pt(r.getSW(),(function(){r.an.has(o)&&r.dispatchEvent(new ri("message",{data:e,originalEvent:t,ports:n,sw:o}))}))},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(o.apply(this,t))}catch(t){return Promise.reject(t)}}),r.sn=e,r.nn=n,navigator.serviceWorker.addEventListener("message",r.gn),r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o,i=r.prototype;i.register=function(t){var e=(void 0===t?{}:t).immediate,n=void 0!==e&&e;try{var r=this;return function(t,e){var n=t();return n&&n.then?n.then(e):e()}((function(){if(!n&&"complete"!==document.readyState)return At(new Promise((function(t){return window.addEventListener("load",t)})))}),(function(){return r.mn=Boolean(navigator.serviceWorker.controller),r.yn=r.pn(),Pt(r.bn(),(function(t){r.fn=t,r.yn&&(r.hn=r.yn,r.en.resolve(r.yn),r.on.resolve(r.yn),r.yn.addEventListener("statechange",r.ln,{once:!0}));var e=r.fn.waiting;return e&&xt(e.scriptURL,r.sn.toString())&&(r.hn=e,Promise.resolve().then((function(){r.dispatchEvent(new ri("waiting",{sw:e,wasWaitingBeforeRegister:!0}))})).then((function(){}))),r.hn&&(r.rn.resolve(r.hn),r.an.add(r.hn)),r.fn.addEventListener("updatefound",r.cn),navigator.serviceWorker.addEventListener("controllerchange",r.dn),r.fn}))}))}catch(t){return Promise.reject(t)}},i.update=function(){try{return this.fn?At(this.fn.update()):void 0}catch(t){return Promise.reject(t)}},i.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},i.messageSW=function(t){try{return Pt(this.getSW(),(function(e){return _t(e,t)}))}catch(t){return Promise.reject(t)}},i.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&_t(this.fn.waiting,oi)},i.pn=function(){var t=navigator.serviceWorker.controller;return t&&xt(t.scriptURL,this.sn.toString())?t:void 0},i.bn=function(){try{var t=this;return function(e,n){try{var r=Pt(navigator.serviceWorker.register(t.sn,t.nn),(function(e){return t.un=performance.now(),e}))}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}((function(){return Pt(navigator.serviceWorker.register(t.sn,t.nn),(function(e){return t.un=performance.now(),e}))}),(function(t){throw t}))}catch(t){return Promise.reject(t)}},(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,o)}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(t,e){this.Sn(t).add(e)},e.removeEventListener=function(t,e){this.Sn(t).delete(e)},e.dispatchEvent=function(t){t.target=this;for(var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(t,e):void 0}}(t))){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}(this.Sn(t.type));!(e=n()).done;)(0,e.value)(t)},e.Sn=function(t){return this.Pn.has(t)||this.Pn.set(t,new Set),this.Pn.get(t)},t}());var ii="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,ai=Object.keys,ui=Array.isArray;"undefined"==typeof Promise||ii.Promise||(ii.Promise=Promise);var si=Object.getPrototypeOf,ci={}.hasOwnProperty,li=Object.defineProperty,fi=Object.getOwnPropertyDescriptor;function pi(t,e){var n;return fi(t,e)||(n=si(t))&&pi(n,e)}var hi=[].slice;function di(t,e){if(Tt(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],r=0,o=e.length;r<o;++r){var i=di(t,e[r]);n.push(i)}return n}var a=e.indexOf(".");if(-1!==a){var u=t[e.substr(0,a)];return void 0===u?void 0:di(u,e.substr(a+1))}}function vi(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){Mt("string"!=typeof n&&"length"in n);for(var r=0,o=e.length;r<o;++r)vi(t,e[r],n[r])}else{var i=e.indexOf(".");if(-1!==i){var a=e.substr(0,i),u=e.substr(i+1);if(""===u)void 0===n?ui(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var s=t[a];s&&Tt(t,a)||(s=t[a]={}),vi(s,u,n)}}else void 0===n?ui(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}var yi=[].concat,mi="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ht([8,16,32,64].map((function(t){return["Int","Uint","Float"].map((function(e){return e+t+"Array"}))})))).filter((function(t){return ii[t]})),gi=mi.map((function(t){return ii[t]}));Bt(mi,(function(t){return[t,!0]}));var bi=null;function wi(t){if(!t||"object"!=typeof t)return t;var e=bi&&bi.get(t);if(e)return e;if(ui(t)){e=[],bi&&bi.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(wi(t[n]))}else if(gi.indexOf(t.constructor)>=0)e=t;else{var o=si(t);for(var i in e=o===Object.prototype?{}:Object.create(o),bi&&bi.set(t,e),t)Tt(t,i)&&(e[i]=wi(t[i]))}return e}var Si={}.toString,Oi="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",Ei="symbol"==(void 0===Oi?"undefined":v(Oi))?function(t){var e;return null!=t&&(e=t[Oi])&&e.apply(t)}:function(){return null},_i={},ji="undefined"!=typeof Symbol?function(t){return"AsyncFunction"===t[Symbol.toStringTag]}:function(){return!1},xi="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Pi=function(){return!0},ki=!new Error("").stack;function Ai(){if(ki)try{throw Ai.arguments,new Error}catch(t){return t}return new Error}var Ci=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ti=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ci),Ii={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};Nt(zt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$t(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Nt(Zt).from(zt),Nt(Yt).from(zt);var Di=Ti.reduce((function(t,e){return t[e]=e+"Error",t}),{}),Ni=zt,Ri=Ti.reduce((function(t,e){var n=function(t,n){this._e=Ai(),this.name=r,t?"string"==typeof t?(this.message="".concat(t).concat(n?"\n "+n:""),this.inner=n||null):"object"==typeof t&&(this.message="".concat(t.name," ").concat(t.message),this.inner=t):(this.message=Ii[e]||r,this.inner=null)},r=e+"Error";return Nt(n).from(Ni),t[e]=n,t}),{});Ri.Syntax=SyntaxError,Ri.Type=TypeError,Ri.Range=RangeError;var Li=Ci.reduce((function(t,e){return t[e+"Error"]=Ri[e],t}),{}),Mi=Ti.reduce((function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=Ri[e]),t}),{});Mi.ModifyError=Zt,Mi.DexieError=zt,Mi.BulkError=Yt;var Ui={},Bi=h("undefined"==typeof Promise?[]:function(){var t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,si(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,si(e),t]}(),3),Fi=Bi[0],Hi=Bi[1],Vi=Bi[2],Ki=Hi&&Hi.then,Gi=Fi&&Fi.constructor,Wi=!!Vi,$i=!1,zi=Vi?function(){Vi.then(he)}:ii.setImmediate?setImmediate.bind(null,he):ii.MutationObserver?function(){var t=document.createElement("div");new MutationObserver((function(){he(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(he,0)},qi=function(t,e){ra.push([t,e]),Yi&&(zi(),Yi=!1)},Zi=!0,Yi=!0,Ji=[],Xi=[],Qi=null,ta=Xt,ea={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Te,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(t){try{Te(t[0],t[1])}catch(t){}}))}},na=ea,ra=[],oa=0,ia=[],aa={get:function(){var t=na,e=ha;function n(n,r){var o=this,i=!t.global&&(t!==na||e!==ha),a=i&&!Se(),u=new ae((function(e,u){le(o,new ue(Ae(n,t,i,a),Ae(r,t,i,a),e,u,t))}));return xi&&pe(u,this),u}return n.prototype=Ui,n},set:function(t){Dt(this,"then",t&&t.prototype===Ui?aa:{get:function(){return t},set:aa.set})}};function ua(t,e){try{e((function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&de();e&&"function"==typeof e.then?ua(t,(function(t,n){l(e,ae)?e._then(t,n):e.then(t,n)})):(t._state=!0,t._value=e,ce(t)),n&&ve()}}),se.bind(null,t))}catch(e){se(t,e)}}function sa(t,e,n){if(e.length===n)return e;var r="";if(!1===t._state){var o,i,a=t._value;null!=a?(o=a.name||"Error",i=a.message||a,r=$t(a,0)):(o=a,i=""),e.push(o+(i?": "+i:"")+r)}return xi&&((r=$t(t._stackHolder,2))&&-1===e.indexOf(r)&&e.push(r),t._prev&&sa(t._prev,e,n)),e}It(ae.prototype,{then:aa,_then:function(t,e){le(this,new ue(null,null,t,e,na))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,(function(t){return l(t,e)?n(t):me(t)})):this.then(null,(function(t){return t&&t.name===e?n(t):me(t)}))},finally:function(t){return this.then((function(e){return t(),e}),(function(e){return t(),me(e)}))},stack:{get:function(){if(this._stack)return this._stack;try{$i=!0;var t=sa(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{$i=!1}}},timeout:function(t,e){var n=this;return t<1/0?new ae((function(r,o){var i=setTimeout((function(){return o(new Ri.Timeout(e))}),t);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Dt(ae.prototype,Symbol.toStringTag,"Dexie.Promise"),ea.env=xe(),It(ae,{all:function(){var t=Gt.apply(null,arguments).map(Oe);return new ae((function(e,n){0===t.length&&e([]);var r=t.length;t.forEach((function(o,i){return ae.resolve(o).then((function(n){t[i]=n,--r||e(t)}),n)}))}))},resolve:function(t){if(l(t,ae))return t;if(t&&"function"==typeof t.then)return new ae((function(e,n){t.then(e,n)}));var e=new ae(Ui,!0,t);return pe(e,Qi),e},reject:me,race:function(){var t=Gt.apply(null,arguments).map(Oe);return new ae((function(e,n){t.map((function(t){return ae.resolve(t).then(e,n)}))}))},PSD:{get:function(){return na},set:function(t){return na=t}},totalEchoes:{get:function(){return ha}},newPSD:be,usePSD:Pe,scheduler:{get:function(){return qi},set:function(t){qi=t}},rejectionMapper:{get:function(){return ta},set:function(t){ta=t}},follow:function(t,e){return new ae((function(n,r){return be((function(e,n){var r=na;r.unhandleds=[],r.onunhandled=n,r.finalize=te((function(){var t=this;!function(t){ia.push((function e(){t(),ia.splice(ia.indexOf(e),1)})),++oa,qi((function(){0==--oa&&ye()}),[])}((function(){0===t.unhandleds.length?e():n(t.unhandleds[0])}))}),r.finalize),t()}),e,n,r)}))}}),Gi&&(Gi.allSettled&&Dt(ae,"allSettled",(function(){var t=Gt.apply(null,arguments).map(Oe);return new ae((function(e){0===t.length&&e([]);var n=t.length,r=new Array(n);t.forEach((function(t,o){return ae.resolve(t).then((function(t){return r[o]={status:"fulfilled",value:t}}),(function(t){return r[o]={status:"rejected",reason:t}})).then((function(){return--n||e(r)}))}))}))})),Gi.any&&"undefined"!=typeof AggregateError&&Dt(ae,"any",(function(){var t=Gt.apply(null,arguments).map(Oe);return new ae((function(e,n){0===t.length&&n(new AggregateError([]));var r=t.length,o=new Array(r);t.forEach((function(t,i){return ae.resolve(t).then((function(t){return e(t)}),(function(t){o[i]=t,--r||n(new AggregateError(o))}))}))}))})));var ca={awaits:0,echoes:0,id:0},la=0,fa=[],pa=0,ha=0,da=0;-1===(""+Ki).indexOf("[native code]")&&(we=Se=Jt);var va=ae.reject;function ya(t,e,n,r){if(t.idbdb&&(t._state.openComplete||na.letThrough||t._vip)){var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===Di.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return ya(t,e,n,r)}))):va(o)}return o._promise(e,(function(t,e){return be((function(){return na.trans=o,r(t,e,o)}))})).then((function(t){return o._completion.then((function(){return t}))}))}if(t._state.openComplete)return va(new Ri.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return va(new Ri.DatabaseClosed);t.open().catch(Jt)}return t._state.dbReadyPromise.then((function(){return ya(t,e,n,r)}))}var ma=String.fromCharCode(65535),ga="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ba=[],wa="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Sa=wa,Oa=wa,Ea=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},_a={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1},ja=function(){function t(){a(this,t)}return s(t,[{key:"_trans",value:function(t,e,n){var r=this._tx||na.trans,o=this.name;function i(t,n,r){if(!r.schema[o])throw new Ri.NotFound("Table "+o+" not part of transaction");return e(r.idbtrans,r)}var a=de();try{return r&&r.db===this.db?r===na.trans?r._promise(t,i,n):be((function(){return r._promise(t,i,n)}),{trans:r,transless:na.transless||na}):ya(this.db,t,[this.name],i)}finally{a&&ve()}}},{key:"get",value:function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(function(e){return n.core.get({trans:e,key:t}).then((function(t){return n.hook.reading.fire(t)}))})).then(e)}},{key:"where",value:function(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(ui(t))return new this.db.WhereClause(this,"[".concat(t.join("+"),"]"));var e=ai(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(t){return t.compound&&e.every((function(e){return t.keyPath.indexOf(e)>=0}))&&t.keyPath.every((function(t){return e.indexOf(t)>=0}))}))[0];if(n&&this.db._maxKey!==ma)return this.where(n.name).equals(n.keyPath.map((function(e){return t[e]})));!n&&xi&&console.warn("The query ".concat(JSON.stringify(t)," on ").concat(this.name," would benefit of a compound index [").concat(e.join("+"),"]"));var r=this.schema.idxByName,o=this.db._deps.indexedDB;function i(t,e){try{return 0===o.cmp(t,e)}catch(t){return!1}}var a=h(e.reduce((function(e,n){var o=h(e,2),a=o[0],u=o[1],s=r[n],c=t[n];return[a||s,a||!s?Ie(u,s&&s.multi?function(t){var e=di(t,n);return ui(e)&&e.some((function(t){return i(c,t)}))}:function(t){return i(c,di(t,n))}):u]}),[null,null]),2),u=a[0],s=a[1];return u?this.where(u.name).equals(t[u.keyPath]).filter(s):n?this.filter(s):this.where(e).equals("")}},{key:"filter",value:function(t){return this.toCollection().and(t)}},{key:"count",value:function(t){return this.toCollection().count(t)}},{key:"offset",value:function(t){return this.toCollection().offset(t)}},{key:"limit",value:function(t){return this.toCollection().limit(t)}},{key:"each",value:function(t){return this.toCollection().each(t)}},{key:"toArray",value:function(t){return this.toCollection().toArray(t)}},{key:"toCollection",value:function(){return new this.db.Collection(new this.db.WhereClause(this))}},{key:"orderBy",value:function(t){return new this.db.Collection(new this.db.WhereClause(this,ui(t)?"[".concat(t.join("+"),"]"):t))}},{key:"reverse",value:function(){return this.toCollection().reverse()}},{key:"mapToClass",value:function(t){this.schema.mappedClass=t;var e=function(e){if(!e)return e;var n=Object.create(t.prototype);for(var r in e)if(Tt(e,r))try{n[r]=e[r]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t}},{key:"defineClass",value:function(){return this.mapToClass((function(t){Ct(this,t)}))}},{key:"add",value:function(t,e){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=t;return i&&o&&(a=De(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[a]})})).then((function(t){return t.numFailures?ae.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{vi(t,i,e)}catch(t){}return e}))}},{key:"update",value:function(t,e){if("object"!=typeof t||ui(t))return this.where(":id").equals(t).modify(e);var n=di(t,this.schema.primKey.keyPath);if(void 0===n)return va(new Ri.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?ai(e).forEach((function(n){vi(t,n,e[n])})):e(t,{value:t,primKey:n})}catch(t){}return this.where(":id").equals(n).modify(e)}},{key:"put",value:function(t,e){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=t;return i&&o&&(a=De(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"put",values:[a],keys:null!=e?[e]:null})})).then((function(t){return t.numFailures?ae.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{vi(t,i,e)}catch(t){}return e}))}},{key:"delete",value:function(t){var e=this;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:[t]})})).then((function(t){return t.numFailures?ae.reject(t.failures[0]):void 0}))}},{key:"clear",value:function(){var t=this;return this._trans("readwrite",(function(e){return t.core.mutate({trans:e,type:"deleteRange",range:_a})})).then((function(t){return t.numFailures?ae.reject(t.failures[0]):void 0}))}},{key:"bulkGet",value:function(t){var e=this;return this._trans("readonly",(function(n){return e.core.getMany({keys:t,trans:n}).then((function(t){return t.map((function(t){return e.hook.reading.fire(t)}))}))}))}},{key:"bulkAdd",value:function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,i=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new Ri.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Ri.InvalidArgument("Arguments objects and keys must have the same length");var s=t.length,c=u&&a?t.map(De(u)):t;return r.core.mutate({trans:e,type:"add",keys:o,values:c,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,a=t.failures;if(0===e)return i?n:o;throw new Yt("".concat(r.name,".bulkAdd(): ").concat(e," of ").concat(s," operations failed"),a)}))}))}},{key:"bulkPut",value:function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,i=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new Ri.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Ri.InvalidArgument("Arguments objects and keys must have the same length");var s=t.length,c=u&&a?t.map(De(u)):t;return r.core.mutate({trans:e,type:"put",keys:o,values:c,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,a=t.failures;if(0===e)return i?n:o;throw new Yt("".concat(r.name,".bulkPut(): ").concat(e," of ").concat(s," operations failed"),a)}))}))}},{key:"bulkDelete",value:function(t){var e=this,n=t.length;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:t})})).then((function(t){var r=t.numFailures,o=t.lastResult,i=t.failures;if(0===r)return o;throw new Yt("".concat(e.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),i)}))}}]),t}();function xa(t,e){try{var n=Ke(t),r=Ke(e);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){for(var n=t.length,r=e.length,o=n<r?n:r,i=0;i<o;++i)if(t[i]!==e[i])return t[i]<e[i]?-1:1;return n===r?0:n<r?-1:1}(Ge(t),Ge(e));case"Array":return function(t,e){for(var n=t.length,r=e.length,o=n<r?n:r,i=0;i<o;++i){var a=xa(t[i],e[i]);if(0!==a)return a}return n===r?0:n<r?-1:1}(t,e)}}catch(t){}return NaN}var Pa=function(){function t(){a(this,t)}return s(t,[{key:"_read",value:function(t,e){var n=this._ctx;return n.error?n.table._trans(null,va.bind(null,n.error)):n.table._trans("readonly",t).then(e)}},{key:"_write",value:function(t){var e=this._ctx;return e.error?e.table._trans(null,va.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}},{key:"_addAlgorithm",value:function(t){var e=this._ctx;e.algorithm=Ie(e.algorithm,t)}},{key:"_iterate",value:function(t,e){return He(this._ctx,t,e,this._ctx.table.core)}},{key:"clone",value:function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&Ct(n,t),e._ctx=n,e}},{key:"raw",value:function(){return this._ctx.valueMapper=null,this}},{key:"each",value:function(t){var e=this._ctx;return this._read((function(n){return He(e,t,n,e.table.core)}))}},{key:"count",value:function(t){var e=this;return this._read((function(t){var n=e._ctx,r=n.table.core;if(Le(n,!0))return r.count({trans:t,query:{index:Be(n,r.schema),range:n.range}}).then((function(t){return Math.min(t,n.limit)}));var o=0;return He(n,(function(){return++o,!1}),t,r).then((function(){return o}))})).then(t)}},{key:"sortBy",value:function(t,e){var n=t.split(".").reverse(),r=n[0],o=n.length-1;function i(t,e){return e?i(t[n[e]],e-1):t[r]}var a="next"===this._ctx.dir?1:-1;function u(t,e){var n=i(t,o),r=i(e,o);return n<r?-a:n>r?a:0}return this.toArray((function(t){return t.sort(u)})).then(e)}},{key:"toArray",value:function(t){var e=this;return this._read((function(t){var n=e._ctx;if("next"===n.dir&&Le(n,!0)&&n.limit>0){var r=n.valueMapper,o=Be(n,n.table.core.schema);return n.table.core.query({trans:t,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(t){var e=t.result;return r?e.map(r):e}))}var i=[];return He(n,(function(t){return i.push(t)}),t,n.table.core).then((function(){return i}))}),t)}},{key:"offset",value:function(t){var e=this._ctx;return t<=0||(e.offset+=t,Le(e)?Ue(e,(function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n((function(){t.advance(e),e=0})),!1))}})):Ue(e,(function(){var e=t;return function(){return--e<0}}))),this}},{key:"limit",value:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Ue(this._ctx,(function(){var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}}),!0),this}},{key:"until",value:function(t,e){return Me(this._ctx,(function(n,r,o){return!t(n.value)||(r(o),e)})),this}},{key:"first",value:function(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)}},{key:"last",value:function(t){return this.reverse().first(t)}},{key:"filter",value:function(t){var e,n;return Me(this._ctx,(function(e){return t(e.value)})),e=this._ctx,n=t,e.isMatch=Ie(e.isMatch,n),this}},{key:"and",value:function(t){return this.filter(t)}},{key:"or",value:function(t){return new this.db.WhereClause(this._ctx.table,t,this)}},{key:"reverse",value:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}},{key:"desc",value:function(){return this.reverse()}},{key:"eachKey",value:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))}},{key:"eachUniqueKey",value:function(t){return this._ctx.unique="unique",this.eachKey(t)}},{key:"eachPrimaryKey",value:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))}},{key:"keys",value:function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)}},{key:"primaryKeys",value:function(t){var e=this._ctx;if("next"===e.dir&&Le(e,!0)&&e.limit>0)return this._read((function(t){var n=Be(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((function(t){return t.result})).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)}},{key:"uniqueKeys",value:function(t){return this._ctx.unique="unique",this.keys(t)}},{key:"firstKey",value:function(t){return this.limit(1).keys((function(t){return t[0]})).then(t)}},{key:"lastKey",value:function(t){return this.reverse().firstKey(t)}},{key:"distinct",value:function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return Me(this._ctx,(function(t){var e=t.primaryKey.toString(),r=Tt(n,e);return n[e]=!0,!r})),this}},{key:"modify",value:function(t){var e=this,n=this._ctx;return this._write((function(r){var o;if("function"==typeof t)o=t;else{var i=ai(t),a=i.length;o=function(e){for(var n=!1,r=0;r<a;++r){var o=i[r],u=t[o];di(e,o)!==u&&(vi(e,o,u),n=!0)}return n}}var u=n.table.core,s=u.schema.primaryKey,c=s.outbound,l=s.extractKey,f=e.db._options.modifyChunkSize||200,p=[],h=0,d=[],v=function(t,e){var n=e.failures,r=e.numFailures;h+=t-r;var o=!0,i=!1,a=void 0;try{for(var u,s=ai(n)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value;p.push(n[c])}}catch(t){i=!0,a=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}};return e.clone().primaryKeys().then((function(e){var i=function(a){var s=Math.min(f,e.length-a);return u.getMany({trans:r,keys:e.slice(a,a+s),cache:"immutable"}).then((function(p){for(var h=[],d=[],y=c?[]:null,m=[],g=0;g<s;++g){var b=p[g],w={value:Vt(b),primKey:e[a+g]};!1!==o.call(w,w.value,w)&&(null==w.value?m.push(e[a+g]):c||0===xa(l(b),l(w.value))?(d.push(w.value),c&&y.push(e[a+g])):(m.push(e[a+g]),h.push(w.value)))}var S=Le(n)&&n.limit===1/0&&("function"!=typeof t||t===ka)&&{index:n.index,range:n.range};return Promise.resolve(h.length>0&&u.mutate({trans:r,type:"add",values:h}).then((function(t){for(var e in t.failures)m.splice(parseInt(e),1);v(h.length,t)}))).then((function(){return(d.length>0||S&&"object"==typeof t)&&u.mutate({trans:r,type:"put",keys:y,values:d,criteria:S,changeSpec:"function"!=typeof t&&t}).then((function(t){return v(d.length,t)}))})).then((function(){return(m.length>0||S&&t===ka)&&u.mutate({trans:r,type:"delete",keys:m,criteria:S}).then((function(t){return v(m.length,t)}))})).then((function(){return e.length>a+s&&i(a+f)}))}))};return i(0).then((function(){if(p.length>0)throw new Zt("Error modifying one or more objects",p,h,d);return e.length}))}))}))}},{key:"delete",value:function(){var t=this._ctx,e=t.range;return Le(t)&&(t.isPrimKey&&!Oa||3===e.type)?this._write((function(n){var r=t.table.core.schema.primaryKey,o=e;return t.table.core.count({trans:n,query:{index:r,range:o}}).then((function(e){return t.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(t){var n=t.failures,r=(t.lastResult,t.results,t.numFailures);if(r)throw new Zt("Could not delete some values",Object.keys(n).map((function(t){return n[t]})),e-r);return e-r}))}))})):this.modify(ka)}}]),t}(),ka=function(t,e){return e.value=null},Aa=function(){function t(){a(this,t)}return s(t,[{key:"Collection",get:function(){return this._ctx.table.db.Collection}},{key:"between",value:function(t,e,n,r){n=!1!==n,r=!0===r;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(n||r)&&(!n||!r)?qe(this):new this.Collection(this,(function(){return Je(t,e,!n,!r)}))}catch(t){return ze(this,ga)}}},{key:"equals",value:function(t){return null==t?ze(this,ga):new this.Collection(this,(function(){return Xe(t)}))}},{key:"above",value:function(t){return null==t?ze(this,ga):new this.Collection(this,(function(){return Je(t,void 0,!0)}))}},{key:"aboveOrEqual",value:function(t){return null==t?ze(this,ga):new this.Collection(this,(function(){return Je(t,void 0,!1)}))}},{key:"below",value:function(t){return null==t?ze(this,ga):new this.Collection(this,(function(){return Je(void 0,t,!1,!0)}))}},{key:"belowOrEqual",value:function(t){return null==t?ze(this,ga):new this.Collection(this,(function(){return Je(void 0,t)}))}},{key:"startsWith",value:function(t){return"string"!=typeof t?ze(this,"String expected."):this.between(t,t+ma,!0,!0)}},{key:"startsWithIgnoreCase",value:function(t){return""===t?this.startsWith(t):Ye(this,(function(t,e){return 0===t.indexOf(e[0])}),[t],ma)}},{key:"equalsIgnoreCase",value:function(t){return Ye(this,(function(t,e){return t===e[0]}),[t],"")}},{key:"anyOfIgnoreCase",value:function(){var t=Gt.apply(_i,arguments);return 0===t.length?qe(this):Ye(this,(function(t,e){return-1!==e.indexOf(t)}),t,"")}},{key:"startsWithAnyOfIgnoreCase",value:function(){var t=Gt.apply(_i,arguments);return 0===t.length?qe(this):Ye(this,(function(t,e){return e.some((function(e){return 0===t.indexOf(e)}))}),t,ma)}},{key:"anyOf",value:function(){var t=this,e=Gt.apply(_i,arguments),n=this._cmp;try{e.sort(n)}catch(t){return ze(this,ga)}if(0===e.length)return qe(this);var r=new this.Collection(this,(function(){return Je(e[0],e[e.length-1])}));r._ondirectionchange=function(r){n="next"===r?t._ascending:t._descending,e.sort(n)};var o=0;return r._addAlgorithm((function(t,r,i){for(var a=t.key;n(a,e[o])>0;)if(++o===e.length)return r(i),!1;return 0===n(a,e[o])||(r((function(){t.continue(e[o])})),!1)})),r}},{key:"notEqual",value:function(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}},{key:"noneOf",value:function(){var t=Gt.apply(_i,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return ze(this,ga)}var e=t.reduce((function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[-1/0,e]]}),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}},{key:"inAnyRange",value:function(t,e){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,u=this._max;if(0===t.length)return qe(this);if(!t.every((function(t){return void 0!==t[0]&&void 0!==t[1]&&o(t[0],t[1])<=0})))return ze(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ri.InvalidArgument);var s,c=!e||!1!==e.includeLowers,l=e&&!0===e.includeUppers,f=o;function p(t,e){return f(t[0],e[0])}try{s=t.reduce((function(t,e){for(var n=0,o=t.length;n<o;++n){var i=t[n];if(r(e[0],i[1])<0&&r(e[1],i[0])>0){i[0]=a(i[0],e[0]),i[1]=u(i[1],e[1]);break}}return n===o&&t.push(e),t}),[]),s.sort(p)}catch(t){return ze(this,ga)}var h=0,d=l?function(t){return o(t,s[h][1])>0}:function(t){return o(t,s[h][1])>=0},v=c?function(t){return i(t,s[h][0])>0}:function(t){return i(t,s[h][0])>=0},y=d,m=new this.Collection(this,(function(){return Je(s[0][0],s[s.length-1][1],!c,!l)}));return m._ondirectionchange=function(t){"next"===t?(y=d,f=o):(y=v,f=i),s.sort(p)},m._addAlgorithm((function(t,e,r){for(var i=t.key;y(i);)if(++h===s.length)return e(r),!1;return!!function(t){return!d(t)&&!v(t)}(i)||(0===n._cmp(i,s[h][1])||0===n._cmp(i,s[h][0])||e((function(){f===o?t.continue(s[h][0]):t.continue(s[h][1])})),!1)})),m}},{key:"startsWithAnyOf",value:function(){var t=Gt.apply(_i,arguments);return t.every((function(t){return"string"==typeof t}))?0===t.length?qe(this):this.inAnyRange(t.map((function(t){return[t,t+ma]}))):ze(this,"startsWithAnyOf() only works with strings")}}]),t}(),Ca=Ne(null,"storagemutated"),Ta=function(){function t(){a(this,t)}return s(t,[{key:"_lock",value:function(){return Mt(!na.global),++this._reculock,1!==this._reculock||na.global||(na.lockOwnerFor=this),this}},{key:"_unlock",value:function(){if(Mt(!na.global),0==--this._reculock)for(na.global||(na.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Pe(t[1],t[0])}catch(t){}}return this}},{key:"_locked",value:function(){return this._reculock&&na.lockOwnerFor!==this}},{key:"create",value:function(t){var e=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(Mt(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Ri.DatabaseClosed(r);case"MissingAPIError":throw new Ri.MissingAPI(r.message,r);default:throw new Ri.OpenFailed(r)}if(!this.active)throw new Ri.TransactionInactive;return Mt(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ge((function(n){tn(n),e._reject(t.error)})),t.onabort=ge((function(n){tn(n),e.active&&e._reject(new Ri.Abort(t.error)),e.active=!1,e.on("abort").fire(n)})),t.oncomplete=ge((function(){e.active=!1,e._resolve(),"mutatedParts"in t&&Ca.storagemutated.fire(t.mutatedParts)})),this}},{key:"_promise",value:function(t,e,n){var r=this;if("readwrite"===t&&"readwrite"!==this.mode)return va(new Ri.ReadOnly("Transaction is readonly"));if(!this.active)return va(new Ri.TransactionInactive);if(this._locked())return new ae((function(o,i){r._blockedFuncs.push([function(){r._promise(t,e,n).then(o,i)},na])}));if(n)return be((function(){var t=new ae((function(t,n){r._lock();var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return t.finally((function(){return r._unlock()})),t._lib=!0,t}));var o=new ae((function(t,n){var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return o._lib=!0,o}},{key:"_root",value:function(){return this.parent?this.parent._root():this}},{key:"waitFor",value:function(t){var e=this._root(),n=ae.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((function(){return n}));else{e._waitingFor=n,e._waitingQueue=[];var r=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(r.get(-1/0).onsuccess=t)}()}var o=e._waitingFor;return new ae((function(t,r){n.then((function(n){return e._waitingQueue.push(ge(t.bind(null,n)))}),(function(t){return e._waitingQueue.push(ge(r.bind(null,t)))})).finally((function(){e._waitingFor===o&&(e._waitingFor=null)}))}))}},{key:"abort",value:function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ri.Abort))}},{key:"table",value:function(t){var e=this._memoizedTables||(this._memoizedTables={});if(Tt(e,t))return e[t];var n=this.schema[t];if(!n)throw new Ri.NotFound("Table "+t+" not part of transaction");var r=new this.db.Table(t,n,this);return r.core=this.db.core.table(t),e[t]=r,r}}]),t}(),Ia=function(t){try{return t.only([[]]),Ia=function(){return[[]]},[[]]}catch(t){return Ia=function(){return ma},ma}},Da=0,Na=function(){function t(){a(this,t)}return s(t,[{key:"_parseStoresSpec",value:function(t,e){ai(t).forEach((function(n){if(null!==t[n]){var r=t[n].split(",").map((function(t,e){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return en(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),ui(r),0===e)})),o=r.shift();if(o.multi)throw new Ri.Schema("Primary key cannot be multi-valued");r.forEach((function(t){if(t.auto)throw new Ri.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new Ri.Schema("Index must have a name and cannot be an empty string")})),e[n]=rn(n,o,r)}}))}},{key:"stores",value:function(t){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?Ct(this._cfg.storesSource,t):t;var n=e._versions,r={},o={};return n.forEach((function(t){Ct(r,t._cfg.storesSource),o=t._cfg.dbschema={},t._parseStoresSpec(r,o)})),e._dbSchema=o,ln(e,[e._allTables,e,e.Transaction.prototype]),cn(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],ai(o),o),e._storeNames=ai(o),this}},{key:"upgrade",value:function(t){return this._cfg.contentUpgrade=ie(this._cfg.contentUpgrade||Jt,t),this}}]),t}();function Ra(t,e,n,r,o){return ae.resolve().then((function(){var i=na.transless||na,a=t._createTransaction(e,n,t._dbSchema,r),u={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(r){return r.name===Di.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return Ra(t,e,n,null,o)}))):va(r)}var s,c=ji(o);c&&we();var l=ae.follow((function(){if(s=o.call(a,a))if(c){var t=Se.bind(null,null);s.then(t,t)}else"function"==typeof s.next&&"function"==typeof s.throw&&(s=Sn(s))}),u);return(s&&"function"==typeof s.then?ae.resolve(s).then((function(t){return a.active?t:va(new Ri.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return s}))).then((function(t){return r&&a._resolve(),a._completion.then((function(){return t}))})).catch((function(t){return a._reject(t),va(t)}))}))}var La={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return p(f({},t),{table:function(e){var n=t.table(e),r=n.schema,o={},i=[];function a(t,e,n){var r=un(t),u=o[r]=o[r]||[],s=null==t?0:"string"==typeof t?1:t.length,c=e>0,l=p(f({},n),{isVirtual:c,keyTail:e,keyLength:s,extractKey:on(t),unique:!c&&n.unique});return u.push(l),l.isPrimaryKey||i.push(l),s>1&&a(2===s?t[0]:t.slice(0,s-1),e+1,n),u.sort((function(t,e){return t.keyTail-e.keyTail})),l}var u=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[u];var s=!0,c=!1,l=void 0;try{for(var h,d=r.indexes[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var v=h.value;a(v.keyPath,0,v)}}catch(t){c=!0,l=t}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}function y(e){var n,r,o=e.query.index;return o.isVirtual?p(f({},e),{query:{index:o,range:(n=e.query.range,r=o.keyTail,{type:1===n.type?2:n.type,lower:En(n.lower,n.lowerOpen?t.MAX_KEY:t.MIN_KEY,r),lowerOpen:!0,upper:En(n.upper,n.upperOpen?t.MIN_KEY:t.MAX_KEY,r),upperOpen:!0})}}):e}var m=p(f({},n),{schema:p(f({},r),{primaryKey:u,indexes:i,getIndexByKeyPath:function(t){var e=o[un(t)];return e&&e[0]}}),count:function(t){return n.count(y(t))},query:function(t){return n.query(y(t))},openCursor:function(e){var r=e.query.index,o=r.keyTail,i=r.isVirtual,a=r.keyLength;return i?n.openCursor(y(e)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(En(r,e.reverse?t.MAX_KEY:t.MIN_KEY,o)):e.unique?n.continue(n.key.slice(0,a).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(e,r){n.continuePrimaryKey(En(e,t.MAX_KEY,o),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var t=n.key;return 1===a?t[0]:t.slice(0,a)}},value:{get:function(){return n.value}}});return r}(n)})):n.openCursor(e)}});return m}})}};function Ma(t,e,n,r){return n=n||{},r=r||"",ai(t).forEach((function(o){if(Tt(e,o)){var i=t[o],a=e[o];if("object"==typeof i&&"object"==typeof a&&i&&a){var u=Kt(i);u!==Kt(a)?n[r+o]=e[o]:"Object"===u?Ma(i,a,n,r+o+"."):i!==a&&(n[r+o]=e[o])}else i!==a&&(n[r+o]=e[o])}else n[r+o]=void 0})),ai(e).forEach((function(o){Tt(t,o)||(n[r+o]=e[o])})),n}var Ua={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return p(f({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,o=p(f({},n),{mutate:function(t){var o=na.trans,i=o.table(e).hook,a=i.deleting,u=i.creating,s=i.updating;switch(t.type){case"add":if(u.fire===Jt)break;return o._promise("readwrite",(function(){return c(t)}),!0);case"put":if(u.fire===Jt&&s.fire===Jt)break;return o._promise("readwrite",(function(){return c(t)}),!0);case"delete":if(a.fire===Jt)break;return o._promise("readwrite",(function(){return c(t)}),!0);case"deleteRange":if(a.fire===Jt)break;return o._promise("readwrite",(function(){return function(t){return l(t.trans,t.range,1e4)}(t)}),!0)}return n.mutate(t);function c(t){var e=na.trans,o=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(r,t);if(!o)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?p(f({},t),{keys:o}):f({},t)).type&&(t.values=d(t.values)),t.keys&&(t.keys=d(t.keys)),function(t,e,n){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}(n,t,o).then((function(i){var c=o.map((function(n,o){var c=i[o],l={onerror:null,onsuccess:null};if("delete"===t.type)a.fire.call(l,n,c,e);else if("add"===t.type||void 0===c){var f=u.fire.call(l,n,t.values[o],e);null==n&&null!=f&&(n=f,t.keys[o]=n,r.outbound||vi(t.values[o],r.keyPath,n))}else{var p=Ma(c,t.values[o]),h=s.fire.call(l,p,n,c,e);if(h){var d=t.values[o];Object.keys(h).forEach((function(t){Tt(d,t)?d[t]=h[t]:vi(d,t,h[t])}))}}return l}));return n.mutate(t).then((function(e){for(var n=e.failures,r=e.results,a=e.numFailures,u=e.lastResult,s=0;s<o.length;++s){var l=r?r[s]:o[s],f=c[s];null==l?f.onerror&&f.onerror(n[s]):f.onsuccess&&f.onsuccess("put"===t.type&&i[s]?t.values[s]:l)}return{failures:n,results:r,numFailures:a,lastResult:u}})).catch((function(t){return c.forEach((function(e){return e.onerror&&e.onerror(t)})),Promise.reject(t)}))}))}function l(t,e,o){return n.query({trans:t,values:!1,query:{index:r,range:e},limit:o}).then((function(n){var r=n.result;return c({type:"delete",keys:r,trans:t}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<o?{failures:[],numFailures:0,lastResult:void 0}:l(t,p(f({},e),{lower:r[r.length-1],lowerOpen:!0}),o)}))}))}}});return o}})}},Ba={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return p(f({},n),{getMany:function(t){if(!t.cache)return n.getMany(t);var e=_n(t.keys,t.trans._cache,"clone"===t.cache);return e?ae.resolve(e):n.getMany(t).then((function(e){return t.trans._cache={keys:t.keys,values:"clone"===t.cache?Vt(e):e},e}))},mutate:function(t){return"add"!==t.type&&(t.trans._cache=null),n.mutate(t)}})}}}},Fa=function(t,e){if(!this){var n=new Fa;return t&&"d"in t&&Ct(n,t),n}Ct(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Ha(t,e,n){var r=xa(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(jn(t))return Ct(t,{from:e,to:n,d:1});var o=t.l,i=t.r;if(xa(n,t.from)<0)return o?Ha(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},kn(t);if(xa(e,t.to)>0)return i?Ha(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},kn(t);xa(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),xa(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var a=!t.r;o&&!t.l&&xn(t,o),i&&a&&xn(t,i)}}It(Fa.prototype,c({add:function(t){return xn(this,t),this},addKey:function(t){return Ha(this,t,t),this},addKeys:function(t){var e=this;return t.forEach((function(t){return Ha(e,t,t)})),this}},Oi,(function(){return Pn(this)})));var Va,Ka={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new Fa(t.MIN_KEY,t.MAX_KEY);return p(f({},t),{table:function(r){var o=t.table(r),i=o.schema,a=i.primaryKey,u=a.extractKey,s=a.outbound,c=p(f({},o),{mutate:function(t){var a=t.trans,u=a.mutatedParts||(a.mutatedParts={}),s=function(t){var n="idb://".concat(e,"/").concat(r,"/").concat(t);return u[n]||(u[n]=new Fa)},c=s(""),l=s(":dels"),f=t.type,p=h("deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[],2),d=p[0],v=p[1],y=t.trans._cache;return o.mutate(t).then((function(t){if(ui(d)){"delete"!==f&&(d=t.results),c.addKeys(d);var e=_n(d,y);e||"add"===f||l.addKeys(d),(e||v)&&function(t,e,n,r){e.indexes.forEach((function(e){var o=t(e.name||"");function i(t){return null!=t?e.extractKey(t):null}var a=function(t){return e.multiEntry&&ui(t)?t.forEach((function(t){return o.addKey(t)})):o.addKey(t)};(n||r).forEach((function(t,e){var o=n&&i(n[e]),u=r&&i(r[e]);0!==xa(o,u)&&(null!=o&&a(o),null!=u&&a(u))}))}))}(s,i,e,v)}else if(d){var r={from:d.lower,to:d.upper};l.add(r),c.add(r)}else c.add(n),l.add(n),i.indexes.forEach((function(t){return s(t.name).add(n)}));return t}))}}),l=function(e){var n,r,o=e.query,i=o.index,a=o.range;return[i,new Fa(null!==(n=a.lower)&&void 0!==n?n:t.MIN_KEY,null!==(r=a.upper)&&void 0!==r?r:t.MAX_KEY)]},d={get:function(t){return[a,new Fa(t.key)]},getMany:function(t){return[a,(new Fa).addKeys(t.keys)]},count:l,query:l,openCursor:l};return ai(d).forEach((function(t){c[t]=function(i){var a=na.subscr;if(a){var c=function(t){var n="idb://".concat(e,"/").concat(r,"/").concat(t);return a[n]||(a[n]=new Fa)},l=c(""),v=c(":dels"),y=h(d[t](i),2),m=y[0],g=y[1];if(c(m.name||"").add(g),!m.isPrimaryKey){if("count"!==t){var b="query"===t&&s&&i.values&&o.query(p(f({},i),{values:!1}));return o[t].apply(this,arguments).then((function(e){if("query"===t){if(s&&i.values)return b.then((function(t){var n=t.result;return l.addKeys(n),e}));var n=i.values?e.result.map(u):e.result;i.values?l.addKeys(n):v.addKeys(n)}else if("openCursor"===t){var r=e,o=i.values;return r&&Object.create(r,{key:{get:function(){return v.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var t=r.primaryKey;return v.addKey(t),t}},value:{get:function(){return o&&l.addKey(r.primaryKey),r.value}}})}return e}))}v.add(n)}}return o[t].apply(this,arguments)}})),c}})}},Ga=function(){function t(e,n){var r=this;a(this,t),this._middlewares={},this.verno=0;var o=t.dependencies;this._options=n=f({addons:t.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var i=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Jt,dbReadyPromise:null,cancelOpen:Jt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new ae((function(t){s.dbReadyResolve=t})),s.openCanceller=new ae((function(t,e){s.cancelOpen=e})),this._state=s,this.name=e,this.on=Ne(this,"populate","blocked","versionchange","close",{ready:[ie,Jt]}),this.on.ready.subscribe=Lt(this.on.ready.subscribe,(function(e){return function(n,o){t.vip((function(){var t=r._state;if(t.openComplete)t.dbOpenError||ae.resolve().then(n),o&&e(n);else if(t.onReadyBeingFired)t.onReadyBeingFired.push(n),o&&e(n);else{e(n);var i=r;o||e((function t(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(t)}))}}))}})),this.Collection=(u=this,Re(Pa.prototype,(function(t,e){this.db=u;var n=_a,r=null;if(e)try{n=e()}catch(t){r=t}var o=t._ctx,i=o.table,a=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:a!==Xt?a:null}}))),this.Table=function(t){return Re(ja.prototype,(function(e,n,r){this.db=t,this._tx=r,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:Ne(null,{creating:[ee,Jt],reading:[Qt,Xt],updating:[re,Jt],deleting:[ne,Jt]})}))}(this),this.Transaction=function(t){return Re(Ta.prototype,(function(e,n,r,o,i){var a=this;this.db=t,this.mode=e,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Ne(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ae((function(t,e){a._resolve=t,a._reject=e})),this._completion.then((function(){a.active=!1,a.on.complete.fire()}),(function(t){var e=a.active;return a.active=!1,a.on.error.fire(t),a.parent?a.parent._reject(t):e&&a.idbtrans&&a.idbtrans.abort(),va(t)}))}))}(this),this.Version=function(t){return Re(Na.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return Re(Aa.prototype,(function(e,n,r){this.db=t,this._ctx={table:e,index:":id"===n?null:n,or:r};var o=t._deps.indexedDB;if(!o)throw new Ri.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(t,e){return o.cmp(e,t)},this._max=function(t,e){return o.cmp(t,e)>0?t:e},this._min=function(t,e){return o.cmp(t,e)<0?t:e},this._IDBKeyRange=t._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close()})),this.on("blocked",(function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(t.oldVersion/10))})),this._maxKey=Ia(n.IDBKeyRange),this._createTransaction=function(t,e,n,o){return new r.Transaction(t,e,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(t){r.on("blocked").fire(t),ba.filter((function(t){return t.name===r.name&&t!==r&&!t._state.vcFired})).map((function(e){return e.on("versionchange").fire(t)}))},this.use(La),this.use(Ua),this.use(Ka),this.use(Ba),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach((function(t){return t(r)}))}return s(t,[{key:"version",value:function(t){if(isNaN(t)||t<.1)throw new Ri.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Ri.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter((function(e){return e._cfg.version===t}))[0];return n||(n=new this.Version(t),e.push(n),e.sort(fn),n.stores({}),this._state.autoSchema=!1,n)}},{key:"_whenReady",value:function(t){var e=this;return this.idbdb&&(this._state.openComplete||na.letThrough||this._vip)?t():new ae((function(t,n){if(e._state.openComplete)return n(new Ri.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return void n(new Ri.DatabaseClosed);e.open().catch(Jt)}e._state.dbReadyPromise.then(t,n)})).then(t)}},{key:"use",value:function(t){var e=t.stack,n=t.create,r=t.level,o=t.name;o&&this.unuse({stack:e,name:o});var i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:null==r?10:r,name:o}),i.sort((function(t,e){return t.level-e.level})),this}},{key:"unuse",value:function(t){var e=t.stack,n=t.name,r=t.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((function(t){return r?t.create!==r:!!n&&t.name!==n}))),this}},{key:"open",value:function(){return function(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((function(){return e.dbOpenError?va(e.dbOpenError):t}));xi&&(e.openCanceller._stackHolder=Ai()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function o(){if(e.openCanceller!==r)throw new Ri.DatabaseClosed("db.open() was cancelled")}var i=e.dbReadyResolve,a=null,u=!1;return ae.race([r,("undefined"==typeof navigator?ae.resolve():wn()).then((function(){return new ae((function(r,i){if(o(),!n)throw new Ri.MissingAPI;var s=t.name,c=e.autoSchema?n.open(s):n.open(s,Math.round(10*t.verno));if(!c)throw new Ri.MissingAPI;c.onerror=Qe(i),c.onblocked=ge(t._fireOnBlocked),c.onupgradeneeded=ge((function(r){if(a=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=tn,a.abort(),c.result.close();var o=n.deleteDatabase(s);o.onsuccess=o.onerror=ge((function(){i(new Ri.NoSuchDatabase("Database ".concat(s," doesnt exist")))}))}else{a.onerror=Qe(i);var l=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;u=l<1,t._novip.idbdb=c.result,function(t,e,n,r){var o=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),u=na.transless||na;be((function(){na.trans=i,na.transless=u,0===e?(ai(o).forEach((function(t){hn(n,t,o[t].primKey,o[t].indexes)})),sn(t,n),ae.follow((function(){return t.on.populate.fire(i)})).catch(a)):function(t,e,n,r){var o=t._novip,i=[],a=o._versions,u=o._dbSchema=vn(0,o.idbdb,r),s=!1;return a.filter((function(t){return t._cfg.version>=e})).forEach((function(t){i.push((function(){var i=u,a=t._cfg.dbschema;yn(o,i,r),yn(o,a,r),u=o._dbSchema=a;var c=pn(i,a);c.add.forEach((function(t){hn(r,t[0],t[1].primKey,t[1].indexes)})),c.change.forEach((function(t){if(t.recreate)throw new Ri.Upgrade("Not yet support for changing primary key");var e=r.objectStore(t.name);t.add.forEach((function(t){return dn(e,t)})),t.change.forEach((function(t){e.deleteIndex(t.name),dn(e,t)})),t.del.forEach((function(t){return e.deleteIndex(t)}))}));var l=t._cfg.contentUpgrade;if(l&&t._cfg.version>e){sn(o,r),n._memoizedTables={},s=!0;var f=Ft(a);c.del.forEach((function(t){f[t]=i[t]})),ln(o,[o.Transaction.prototype]),cn(o,[o.Transaction.prototype],ai(f),f),n.schema=f;var p,h=ji(l);h&&we();var d=ae.follow((function(){if((p=l(n))&&h){var t=Se.bind(null,null);p.then(t,t)}}));return p&&"function"==typeof p.then?ae.resolve(p):d.then((function(){return p}))}})),i.push((function(e){s&&Sa||function(t,e){[].slice.call(e.db.objectStoreNames).forEach((function(n){return null==t[n]&&e.db.deleteObjectStore(n)}))}(t._cfg.dbschema,e),ln(o,[o.Transaction.prototype]),cn(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema}))})),function t(){return i.length?ae.resolve(i.shift()(n.idbtrans)).then(t):ae.resolve()}().then((function(){var t,e;e=r,ai(t=u).forEach((function(n){e.db.objectStoreNames.contains(n)||hn(e,n,t[n].primKey,t[n].indexes)}))}))}(t,e,i,n).catch(a)}))}(t,l/10,a,i)}}),i),c.onsuccess=ge((function(){a=null;var n,o=t._novip.idbdb=c.result,i=Rt(o.objectStoreNames);if(i.length>0)try{var l=o.transaction(1===(n=i).length?n[0]:n,"readonly");e.autoSchema?function(t,e,n){var r=t._novip;r.verno=e.version/10;var o=r._dbSchema=vn(0,e,n);r._storeNames=Rt(e.objectStoreNames,0),cn(r,[r._allTables],ai(o),o)}(t,o,l):(yn(t,t._dbSchema,l),function(t,e){var n=pn(vn(0,t.idbdb,e),t._dbSchema);return!(n.add.length||n.change.some((function(t){return t.add.length||t.change.length})))}(t,l)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),sn(t,l)}catch(t){}ba.push(t),o.onversionchange=ge((function(n){e.vcFired=!0,t.on("versionchange").fire(n)})),o.onclose=ge((function(e){t.on("close").fire(e)})),u&&function(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!gn(n)&&"__dbnames"!==e&&mn(n,r).put({name:e}).catch(Jt)}(t._deps,s),r()}),i)}))}))]).then((function(){return o(),e.onReadyBeingFired=[],ae.resolve(bn((function(){return t.on.ready.fire(t.vip)}))).then((function n(){if(e.onReadyBeingFired.length>0){var r=e.onReadyBeingFired.reduce(ie,Jt);return e.onReadyBeingFired=[],ae.resolve(bn((function(){return r(t.vip)}))).then(n)}}))})).finally((function(){e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((function(){return t})).catch((function(n){e.dbOpenError=n;try{a&&a.abort()}catch(t){}return r===e.openCanceller&&t._close(),va(n)})).finally((function(){e.openComplete=!0,i()}))}(this)}},{key:"_close",value:function(){var t=this._state,e=ba.indexOf(this);if(e>=0&&ba.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this._novip.idbdb=null}t.dbReadyPromise=new ae((function(e){t.dbReadyResolve=e})),t.openCanceller=new ae((function(e,n){t.cancelOpen=n}))}},{key:"close",value:function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Ri.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}},{key:"delete",value:function(){var t=this,e=arguments.length>0,n=this._state;return new ae((function(r,o){var i=function(){t.close();var e=t._deps.indexedDB.deleteDatabase(t.name);e.onsuccess=ge((function(){!function(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!gn(n)&&"__dbnames"!==e&&mn(n,r).delete(e).catch(Jt)}(t._deps,t.name),r()})),e.onerror=Qe(o),e.onblocked=t._fireOnBlocked};if(e)throw new Ri.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))}},{key:"backendDB",value:function(){return this.idbdb}},{key:"isOpen",value:function(){return null!==this.idbdb}},{key:"hasBeenClosed",value:function(){var t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}},{key:"hasFailed",value:function(){return null!==this._state.dbOpenError}},{key:"dynamicallyOpened",value:function(){return this._state.autoSchema}},{key:"tables",get:function(){var t=this;return ai(this._allTables).map((function(e){return t._allTables[e]}))}},{key:"transaction",value:function(){var t=On.apply(this,arguments);return this._transaction.apply(this,t)}},{key:"_transaction",value:function(t,e,n){var r=this,o=na.trans;o&&o.db===this&&-1===t.indexOf("!")||(o=null);var i,a,u=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{if(a=e.map((function(t){var e=l(t,r.Table)?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||"readonly"===t)i="readonly";else{if("rw"!=t&&"readwrite"!=t)throw new Ri.InvalidArgument("Invalid transaction mode: "+t);i="readwrite"}if(o){if("readonly"===o.mode&&"readwrite"===i){if(!u)throw new Ri.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(t){if(o&&-1===o.storeNames.indexOf(t)){if(!u)throw new Ri.SubTransaction("Table "+t+" not included in parent transaction.");o=null}})),u&&o&&!o.active&&(o=null)}}catch(t){return o?o._promise(null,(function(e,n){n(t)})):va(t)}var s=Ra.bind(null,this,i,a,o,n);return o?o._promise(i,s,"lock"):na.trans?Pe(na.transless,(function(){return r._whenReady(s)})):this._whenReady(s)}},{key:"table",value:function(t){if(!Tt(this._allTables,t))throw new Ri.InvalidTable("Table ".concat(t," does not exist"));return this._allTables[t]}}]),t}(),Wa="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",$a=function(){function t(e){a(this,t),this._subscribe=e}return s(t,[{key:"subscribe",value:function(t,e,n){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:n})}},{key:Wa,value:function(){return this}}]),t}();try{Va={indexedDB:ii.indexedDB||ii.mozIndexedDB||ii.webkitIndexedDB||ii.msIndexedDB,IDBKeyRange:ii.IDBKeyRange||ii.webkitIDBKeyRange}}catch(po){Va={indexedDB:null,IDBKeyRange:null}}var za=Ga;It(za,p(f({},Mi),{delete:function(t){return new za(t,{addons:[]}).delete()},exists:function(t){return new za(t,{addons:[]}).open().then((function(t){return t.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(t){try{return function(t){var e=t.indexedDB,n=t.IDBKeyRange;return gn(e)?Promise.resolve(e.databases()).then((function(t){return t.map((function(t){return t.name})).filter((function(t){return"__dbnames"!==t}))})):mn(e,n).toCollection().primaryKeys()}(za.dependencies).then(t)}catch(t){return va(new Ri.MissingAPI)}},defineClass:function(){return function(t){Ct(this,t)}},ignoreTransaction:function(t){return na.trans?Pe(na.transless,t):t()},vip:bn,async:function(t){return function(){try{var e=Sn(t.apply(this,arguments));return e&&"function"==typeof e.then?e:ae.resolve(e)}catch(t){return va(t)}}},spawn:function(t,e,n){try{var r=Sn(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:ae.resolve(r)}catch(t){return va(t)}},currentTransaction:{get:function(){return na.trans||null}},waitFor:function(t,e){var n=ae.resolve("function"==typeof t?za.ignoreTransaction(t):t).timeout(e||6e4);return na.trans?na.trans.waitFor(n):n},Promise:ae,debug:{get:function(){return xi},set:function(t){Wt(t,"dexie"===t?function(){return!0}:Ea)}},derive:Nt,extend:Ct,props:It,override:Lt,Events:Ne,on:Ca,liveQuery:function(t){return new $a((function(e){var n=function(){return ai(a).some((function(t){return i[t]&&function(t,e){var n=Pn(e),r=n.next();if(r.done)return!1;for(var o=r.value,i=Pn(t),a=i.next(o.from),u=a.value;!r.done&&!a.done;){if(xa(u.from,o.to)<=0&&xa(u.to,o.from)>=0)return!0;xa(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(a=i.next(o.from)).value}return!1}(i[t],a[t])}))},r=ji(t),o=!1,i={},a={},u={get closed(){return o},unsubscribe:function(){o=!0,Ca.storagemutated.unsubscribe(l)}};e.start&&e.start(u);var s=!1,c=!1,l=function(t){Cn(i,t),n()&&f()},f=function(){if(!s&&!o){i={};var p={},h=function(e){r&&we();var n=function(){return be(t,{subscr:e,trans:null})},o=na.trans?Pe(na.transless,n):n();return r&&o.then(Se,Se),o}(p);c||(Ca("storagemutated",l),c=!0),s=!0,Promise.resolve(h).then((function(t){s=!1,o||(n()?f():(i={},a=p,e.next&&e.next(t)))}),(function(t){s=!1,e.error&&e.error(t),u.unsubscribe()}))}};return f(),u}))},extendObservabilitySet:Cn,getByKeyPath:di,setByKeyPath:vi,delByKeyPath:function(t,e){"string"==typeof e?vi(t,e,void 0):"length"in e&&[].map.call(e,(function(e){vi(t,e,void 0)}))},shallowClone:Ft,deepClone:Vt,getObjectDiff:Ma,cmp:xa,asap:Ut,minKey:-1/0,addons:[],connections:ba,errnames:Di,dependencies:Va,semVer:"3.2.3",version:"3.2.3".split(".").map((function(t){return parseInt(t)})).reduce((function(t,e,n){return t+e/Math.pow(10,2*n)}))})),za.maxKey=Ia(za.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Ca("storagemutated",(function(t){var e;qa||(wa?(e=document.createEvent("CustomEvent")).initCustomEvent("x-storagemutated-1",!0,!0,t):e=new CustomEvent("x-storagemutated-1",{detail:t}),qa=!0,dispatchEvent(e),qa=!1)})),addEventListener("x-storagemutated-1",(function(t){var e=t.detail;qa||Tn(e)})));var qa=!1;if("undefined"!=typeof BroadcastChannel){var Za=new BroadcastChannel("x-storagemutated-1");"function"==typeof Za.unref&&Za.unref(),Ca("storagemutated",(function(t){qa||Za.postMessage(t)})),Za.onmessage=function(t){t.data&&Tn(t.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Ca("storagemutated",(function(t){try{qa||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&d(self.clients.matchAll({includeUncontrolled:!0})).forEach((function(e){return e.postMessage({type:"x-storagemutated-1",changedParts:t})})))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(function(t){if("x-storagemutated-1"===t.key){var e=JSON.parse(t.newValue);e&&Tn(e.changedParts)}}));var Ya=self.document&&navigator.serviceWorker;Ya&&Ya.addEventListener("message",(function(t){var e=t.data;e&&"x-storagemutated-1"===e.type&&Tn(e.changedParts)}))}ae.rejectionMapper=function(t,e){if(!t||l(t,zt)||l(t,TypeError)||l(t,SyntaxError)||!t.name||!Li[t.name])return t;var n=new Li[t.name](e||t.message,t);return"stack"in t&&Dt(n,"stack",{get:function(){return this.inner.stack}}),n},Wt(xi,Ea);var Ja=x(641);function Xa(t){return Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(t)}function Qa(t,e){return Qa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Qa(t,e)}new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qa(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xa(t);if(e){var o=Xa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!=((n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":v(n))&&"function"!=typeof e?In(t):e;var n}(this,n)}}(n);function n(){var t;return function(t,e){if(!l(t,e))throw new TypeError("Cannot call a class as a function")}(this,n),Dn(In(t=e.call(this,"EsmOffline")),"syncQueue",void 0),Dn(In(t),"dynamicOfflineData",void 0),t.version(4).stores({syncQueue:"++id,userId,type,[userId+type]",dynamicOfflineData:"++id,type,identifier,*users,&[type+identifier]"}),t.syncQueue=t.table("syncQueue"),t.dynamicOfflineData=t.table("dynamicOfflineData"),t}return n}(Ga)),(0,Zo.createGlobalStore)("offline-synchronization",{}),(0,Zo.createGlobalStore)("offline-patients",{offlinePatientDataSyncState:{},handlers:{}});var tu,eu,nu,ru,ou,iu=function(){try{return JSON.parse(localStorage.getItem("openmrs:visitStoreState")||"null")}catch(t){return null}}()||{patientUuid:null,manuallySetVisitUuid:null};(0,Zo.getGlobalStore)("visit",iu).subscribe((function(t){var e;e=t,localStorage.setItem("openmrs:visitStoreState",JSON.stringify(e))})),new ro.BehaviorSubject(null),function(t){t.NEWVISIT="startVisit",t.EDITVISIT="editVisit",t.LOADING="loadingVisit"}(tu||(tu={})),function(t){t.NOTSTARTED="notStarted",t.ONGOING="ongoing"}(eu||(eu={})),(ru=nu||(nu={})).Array="Array",ru.Boolean="Boolean",ru.ConceptUuid="ConceptUuid",ru.Number="Number",ru.Object="Object",ru.String="String",ru.UUID="UUID",ru.PersonAttributeTypeUuid="PersonAttributeTypeUuid",ru.PatientIdentifierTypeUuid="PatientIdentifierTypeUuid",Nn((function(t){if(!t||"string"!=typeof t)return!1;for(var e=/\${(.*?)}/g,n=e.exec(t);n;){if(!ou.includes(n[1]))return!1;n=e.exec(t)}return!0}),"Should be a URL or path. The allowed template parameters are "+(ou=[].concat(["openmrsBase","openmrsSpaBase"])).map((function(t){return"${"+t+"}"})).join(", "));var au="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},uu=Object.prototype.toString,su=function(){return"[object Arguments]"===uu.call(arguments)?function(t){return"[object Arguments]"===uu.call(t)}:function(t){return Fn("callee",t)}}(),cu=su,lu=!{toString:null}.propertyIsEnumerable("toString"),fu=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],pu=function(){return arguments.propertyIsEnumerable("length")}(),hu=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},du="function"!=typeof Object.keys||pu?Ln((function(t){if(Object(t)!==t)return[];var e,n,r=[],o=pu&&cu(t);for(e in t)!Fn(e,t)||o&&"length"===e||(r[r.length]=e);if(lu)for(n=fu.length-1;n>=0;)Fn(e=fu[n],t)&&!hu(r,e)&&(r[r.length]=e),n-=1;return r})):Ln((function(t){return Object(t)!==t?[]:Object.keys(t)})),vu=Ln((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function yu(t,e,n,r){if(au(t,e))return!0;var o=vu(t);if(o!==vu(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if((void 0===t?"undefined":Hn(t))!==(void 0===e?"undefined":Hn(e))||!au(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!au(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var i=n.length-1;i>=0;){if(n[i]===t)return r[i]===e;i-=1}switch(o){case"Map":return t.size===e.size&&Vn(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&Vn(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=du(t);if(a.length!==du(e).length)return!1;var u=n.concat([t]),s=r.concat([e]);for(i=a.length-1;i>=0;){var c=a[i];if(!Fn(c,e)||!yu(e[c],t[c],u,s))return!1;i-=1}return!0}var mu=Mn((function(t,e){return yu(t,e,[],[])})),gu=mu;function bu(t,e,n,r){var o,i=function(o){for(var i=e.length,a=0;a<i;){if(t===e[a])return n[a];a+=1}for(var u in e[a+1]=t,n[a+1]=o,t)o[u]=r?bu(t[u],e,n,!0):t[u];return o};switch(vu(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return o=t,new RegExp(o.source,(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.sticky?"y":"")+(o.unicode?"u":""));default:return t}}var wu=Ln((function(t){return null!=t&&"function"==typeof t.clone?t.clone():bu(t,[],[],!0)})),Su=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},Ou=Ln((function(t){return!!Su(t)||!!t&&"object"==typeof t&&!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1))})),Eu=Ou,_u=function(){var t=function(t){this.f=t};return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}(),ju=Mn((function(t,e){return function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,a){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,a,u){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,a,u,s){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,a,u,s,c){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,a,u,s,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(t.length,(function(){return t.apply(e,arguments)}))})),xu=ju,Pu="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",ku=Kn((function(t,e,n){if("function"==typeof t&&(t=function(t){return new _u(t)}(t)),Eu(n))return function(t,e,n){for(var r=0,o=n.length;r<o;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return Wn(t,e,n,"fantasy-land/reduce");if(null!=n[Pu])return Gn(t,e,n[Pu]());if("function"==typeof n.next)return Gn(t,e,n);if("function"==typeof n.reduce)return Wn(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")})),Au=Kn((function(t,e,n){var r,o={};for(r in e)Fn(r,e)&&(o[r]=Fn(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)Fn(r,n)&&!Fn(r,o)&&(o[r]=n[r]);return o})),Cu=Au,Tu=Kn((function t(e,n,r){return Cu((function(n,r,o){return $n(r)&&$n(o)?t(e,r,o):e(n,r,o)}),n,r)})),Iu=Tu,Du=Mn((function(t,e){return Iu((function(t,e,n){return n}),t,e)})),Nu=Nn((function(t){return Array.isArray(t)}),"must be an array"),Ru=Nn((function(t){return"boolean"==typeof t}),"must be a boolean"),Lu=Nn((function(t){return"number"==typeof t}),"must be a number"),Mu=Nn((function(t){return"string"==typeof t}),"must be a string"),Uu=Nn((function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t}),"must be an object (not an array or null)"),Bu=Nn((function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)||/^[0-9a-f]{36}$/i.test(t)}),"must be a valid UUID or a 36-character hexadecimal string"),Fu=(0,Zo.createGlobalStore)("config-internal",{providedConfigs:[],schemas:{},moduleLoaded:{}}),Hu=(0,Zo.createGlobalStore)("temporary-config",{config:function(){try{return JSON.parse(localStorage.getItem("openmrs:temporaryConfig")||"{}")}catch(t){return{}}}()});Hu.subscribe((function(t){var e;e=t.config,localStorage.setItem("openmrs:temporaryConfig",JSON.stringify(e))}));var Vu=(0,Zo.createGlobalStore)("config-store-of-extension-state",{mountedExtensions:[]}),Ku=(0,Zo.createGlobalStore)("config-implementer-tools",{config:{}});function Gu(t){return t.hasOwnProperty("_default")?Jn(Yn({},t),{_value:t._default,_source:"default"}):yr(t)?Object.keys(t).reduce((function(e,n){return e[n]=Gu(t[n]),e}),{}):{}}function Wu(t,e){return yr(t)?Object.keys(t).reduce((function(n,r){return n[r]=Wu(t[r],e),n}),{}):{_value:t,_source:e}}function $u(t,e,n){hr(n,t._type,e),yr(e)?t._type===nu.Object?function(t,e,n){if(t._elements){var r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=e[s];pr(t._elements,c,"".concat(n,".").concat(s))}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}}(t,e,n):t.hasOwnProperty("_default")||pr(t,e,n):t._type===nu.Array&&function(t,e,n){if(vr(t._elements))for(var r=0;r<e.length;r++)$u(t._elements,e[r],"".concat(n,"[").concat(r,"]"));for(var o=0;o<e.length;o++){var i;hr("".concat(n,"[").concat(o,"]"),null===(i=t._elements)||void 0===i?void 0:i._type,e[o])}}(t,e,n)}function zu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t)if(e!==t._default&&dr(n,t._validators,e),yr(e)){var r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=e[s],l=n+"."+s,f=t[s];t._type===nu.Object&&t._elements?zu(t._elements,c,l):zu(f,c,l)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}else if(Array.isArray(e)&&t._elements)for(var p=0;p<e.length;p++)zu(t._elements,e[p],"".concat(n,"[").concat(p,"]"))}er(Fu.getState(),Hu.getState()),Fu.subscribe((function(t){return er(t,Hu.getState())})),Hu.subscribe((function(t){return er(Fu.getState(),t)})),rr(Fu.getState(),Hu.getState()),Fu.subscribe((function(t){return rr(t,Hu.getState())})),Hu.subscribe((function(t){return rr(Fu.getState(),t)})),nr(Fu.getState(),Hu.getState()),Fu.subscribe((function(t){return nr(t,Hu.getState())})),Hu.subscribe((function(t){return nr(Fu.getState(),t)})),or(Fu.getState(),Vu.getState(),Hu.getState()),Fu.subscribe((function(t){or(t,Vu.getState(),Hu.getState())})),Vu.subscribe((function(t){or(Fu.getState(),t,Hu.getState())})),Hu.subscribe((function(t){or(Fu.getState(),Vu.getState(),t)}));var qu=function(t,e){var n=wu(e);if(!t)return n;var r=!0,o=!1,i=void 0;try{for(var a,u=function(){var e=a.value,r=n[e],o=t[e];if(o&&o.hasOwnProperty("_default")){n.hasOwnProperty(e)||(n[e]=o._default);var i=o._elements;if(r&&vr(i))if(o._type===nu.Array&&Array.isArray(r)){var u=r.map((function(t){return qu(i,t)}));n[e]=u}else if(o._type===nu.Object){var s=!0,c=!1,l=void 0;try{for(var f,p=Object.keys(r)[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var h=f.value;r[h]=qu(i,r[h])}}catch(t){c=!0,l=t}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}else if(yr(o)){var d=n.hasOwnProperty(e)?r:{};yr(d)&&(n[e]=qu(o,d))}},s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)u()}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},Zu=new Set,Yu={"Translation overrides":{_description:"Per-language overrides for frontend translations should be keyed by language code and each language dictionary contains the translation key and the display value",_type:nu.Object,_default:{},_validators:[Nn((function(t){return Object.keys(t).every((function(t){return/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(t)}))}),(function(t){var e=Object.keys(t).filter((function(t){return!/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(t)}));return"The 'Translation overrides' object should have language codes for keys. Language codes must be in the form of a two-to-three letter language code optionally followed by a hyphen and a two-to-three letter country code. The following keys do not conform: ".concat(e.join(", "),".")}))]}},Ju=Yn({"Display conditions":{privileges:{_description:"The privilege(s) the user must have to use this extension",_type:nu.Array,_default:[]}}},Yu);x(570);var Xu=function(t,e){return t===e||t!=t&&e!=e},Qu=function(t,e){for(var n=t.length;n--;)if(Xu(t[n][0],e))return n;return-1},ts=Array.prototype.splice;gr.prototype.clear=function(){this.__data__=[],this.size=0},gr.prototype.delete=function(t){var e=this.__data__,n=Qu(e,t);return!(n<0||(n==e.length-1?e.pop():ts.call(e,n,1),--this.size,0))},gr.prototype.get=function(t){var e=this.__data__,n=Qu(e,t);return n<0?void 0:e[n][1]},gr.prototype.has=function(t){return Qu(this.__data__,t)>-1},gr.prototype.set=function(t,e){var n=this.__data__,r=Qu(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var es,ns=gr,rs="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,os="object"==typeof self&&self&&self.Object===Object&&self,is=rs||os||Function("return this")(),as=is.Symbol,us=Object.prototype,ss=us.hasOwnProperty,cs=us.toString,ls=as?as.toStringTag:void 0,fs=Object.prototype.toString,ps=as?as.toStringTag:void 0,hs=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ps&&ps in Object(t)?function(t){var e=ss.call(t,ls),n=t[ls];try{t[ls]=void 0;var r=!0}catch(t){}var o=cs.call(t);return r&&(e?t[ls]=n:delete t[ls]),o}(t):function(t){return fs.call(t)}(t)},ds=function(t){var e,n=void 0===t?"undefined":(e=t)&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":void 0===e?"undefined":v(e);return null!=t&&("object"==n||"function"==n)},vs=function(t){if(!ds(t))return!1;var e=hs(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},ys=is["__core-js_shared__"],ms=(es=/[^.]+$/.exec(ys&&ys.keys&&ys.keys.IE_PROTO||""))?"Symbol(src)_1."+es:"",gs=Function.prototype.toString,bs=function(t){if(null!=t){try{return gs.call(t)}catch(t){}try{return t+""}catch(t){}}return""},ws=/^\[object .+?Constructor\]$/,Ss=Function.prototype,Os=Object.prototype,Es=Ss.toString,_s=Os.hasOwnProperty,js=RegExp("^"+Es.call(_s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xs=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!ds(t)||(e=t,ms&&ms in e))&&(vs(t)?js:ws).test(bs(t));var e}(n)?n:void 0},Ps=xs(is,"Map"),ks=xs(Object,"create"),As=Object.prototype.hasOwnProperty,Cs=Object.prototype.hasOwnProperty;br.prototype.clear=function(){this.__data__=ks?ks(null):{},this.size=0},br.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},br.prototype.get=function(t){var e=this.__data__;if(ks){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return As.call(e,t)?e[t]:void 0},br.prototype.has=function(t){var e=this.__data__;return ks?void 0!==e[t]:Cs.call(e,t)},br.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ks&&void 0===e?"__lodash_hash_undefined__":e,this};var Ts=br,Is=function(t,e){var n,r,o,i=t.__data__;return("string"==(o=void 0===(n=e)?"undefined":(r=n)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":void 0===r?"undefined":v(r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map};wr.prototype.clear=function(){this.size=0,this.__data__={hash:new Ts,map:new(Ps||ns),string:new Ts}},wr.prototype.delete=function(t){var e=Is(this,t).delete(t);return this.size-=e?1:0,e},wr.prototype.get=function(t){return Is(this,t).get(t)},wr.prototype.has=function(t){return Is(this,t).has(t)},wr.prototype.set=function(t,e){var n=Is(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Ds=wr;Sr.prototype.clear=function(){this.__data__=new ns,this.size=0},Sr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Sr.prototype.get=function(t){return this.__data__.get(t)},Sr.prototype.has=function(t){return this.__data__.has(t)},Sr.prototype.set=function(t,e){var n,r,o=this.__data__;if(n=o,null!=(r=ns)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):l(n,r)){var i=o.__data__;if(!Ps||i.length<199)return i.push([t,e]),this.size=++o.size,this;o=this.__data__=new Ds(i)}return o.set(t,e),this.size=o.size,this};var Ns=Sr;Or.prototype.add=Or.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Or.prototype.has=function(t){return this.__data__.has(t)};var Rs=Or,Ls=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Ms=function(t,e){return t.has(e)},Us=function(t,e,n,r,o,i){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(t),l=i.get(e);if(c&&l)return c==e&&l==t;var f=-1,p=!0,h=2&n?new Rs:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var d=t[f],v=e[f];if(r)var y=a?r(v,d,f,e,t,i):r(d,v,f,t,e,i);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!Ls(e,(function(t,e){if(!Ms(h,e)&&(d===t||o(d,t,n,r,i)))return h.push(e)}))){p=!1;break}}else if(d!==v&&!o(d,v,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p},Bs=is.Uint8Array,Fs=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},Hs=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Vs=as?as.prototype:void 0,Ks=Vs?Vs.valueOf:void 0,Gs=Array.isArray,Ws=Object.prototype.propertyIsEnumerable,$s=Object.getOwnPropertySymbols,zs=$s?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a)&&(i[o++]=a)}return i}($s(t),(function(e){return Ws.call(t,e)})))}:function(){return[]},qs=function(t){return null!=t&&"object"==typeof t},Zs=function(t){return qs(t)&&"[object Arguments]"==hs(t)},Ys=Object.prototype,Js=Ys.hasOwnProperty,Xs=Ys.propertyIsEnumerable,Qs=Zs(function(){return arguments}())?Zs:function(t){return qs(t)&&Js.call(t,"callee")&&!Xs.call(t,"callee")},tc=Qs,ec=e&&!e.nodeType&&e,nc=ec&&t&&!t.nodeType&&t,rc=nc&&nc.exports===ec?is.Buffer:void 0,oc=(rc?rc.isBuffer:void 0)||function(){return!1},ic=/^(?:0|[1-9]\d*)$/,ac=function(t,e){var n,r=void 0===t?"undefined":(n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":v(n);return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&ic.test(t))&&t>-1&&t%1==0&&t<e},uc=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},sc={};sc["[object Float32Array]"]=sc["[object Float64Array]"]=sc["[object Int8Array]"]=sc["[object Int16Array]"]=sc["[object Int32Array]"]=sc["[object Uint8Array]"]=sc["[object Uint8ClampedArray]"]=sc["[object Uint16Array]"]=sc["[object Uint32Array]"]=!0,sc["[object Arguments]"]=sc["[object Array]"]=sc["[object ArrayBuffer]"]=sc["[object Boolean]"]=sc["[object DataView]"]=sc["[object Date]"]=sc["[object Error]"]=sc["[object Function]"]=sc["[object Map]"]=sc["[object Number]"]=sc["[object Object]"]=sc["[object RegExp]"]=sc["[object Set]"]=sc["[object String]"]=sc["[object WeakMap]"]=!1;var cc,lc=e&&!e.nodeType&&e,fc=lc&&t&&!t.nodeType&&t,pc=fc&&fc.exports===lc&&rs.process,hc=function(){try{return fc&&fc.require&&fc.require("util").types||pc&&pc.binding&&pc.binding("util")}catch(t){}}(),dc=hc&&hc.isTypedArray,vc=dc?(cc=dc,function(t){return cc(t)}):function(t){return qs(t)&&uc(t.length)&&!!sc[hs(t)]},yc=Object.prototype.hasOwnProperty,mc=Object.prototype,gc=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),bc=Object.prototype.hasOwnProperty,wc=function(t){return null!=(e=t)&&uc(e.length)&&!vs(e)?function(t,e){var n=Gs(t),r=!n&&tc(t),o=!n&&!r&&oc(t),i=!n&&!r&&!o&&vc(t),a=n||r||o||i,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=u.length;for(var c in t)!yc.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ac(c,s))||u.push(c);return u}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||mc))return gc(t);var e,n,r=[];for(var o in Object(t))bc.call(t,o)&&"constructor"!=o&&r.push(o);return r}(t);var e},Sc=function(t){return function(t,e,n){var r=e(t);return Gs(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,wc,zs)},Oc=Object.prototype.hasOwnProperty,Ec=xs(is,"DataView"),_c=xs(is,"Promise"),jc=xs(is,"Set"),xc=xs(is,"WeakMap"),Pc="[object Map]",kc="[object Promise]",Ac="[object Set]",Cc="[object WeakMap]",Tc="[object DataView]",Ic=bs(Ec),Dc=bs(Ps),Nc=bs(_c),Rc=bs(jc),Lc=bs(xc),Mc=hs;(Ec&&Mc(new Ec(new ArrayBuffer(1)))!=Tc||Ps&&Mc(new Ps)!=Pc||_c&&Mc(_c.resolve())!=kc||jc&&Mc(new jc)!=Ac||xc&&Mc(new xc)!=Cc)&&(Mc=function(t){var e=hs(t),n="[object Object]"==e?t.constructor:void 0,r=n?bs(n):"";if(r)switch(r){case Ic:return Tc;case Dc:return Pc;case Nc:return kc;case Rc:return Ac;case Lc:return Cc}return e});var Uc=Mc,Bc="[object Arguments]",Fc="[object Array]",Hc="[object Object]",Vc=Object.prototype.hasOwnProperty,Kc=function t(e,n,r,o,i){return e===n||(null==e||null==n||!qs(e)&&!qs(n)?e!=e&&n!=n:function(t,e,n,r,o,i){var a=Gs(t),u=Gs(e),s=a?Fc:Uc(t),c=u?Fc:Uc(e),l=(s=s==Bc?Hc:s)==Hc,f=(c=c==Bc?Hc:c)==Hc,p=s==c;if(p&&oc(t)){if(!oc(e))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new Ns),a||vc(t)?Us(t,e,n,r,o,i):function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Bs(t),new Bs(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xu(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Fs;case"[object Set]":var s=1&r;if(u||(u=Hs),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=Us(u(t),u(e),r,o,i,a);return a.delete(t),l;case"[object Symbol]":if(Ks)return Ks.call(t)==Ks.call(e)}return!1}(t,e,s,n,r,o,i);if(!(1&n)){var h=l&&Vc.call(t,"__wrapped__"),d=f&&Vc.call(e,"__wrapped__");if(h||d){var v=h?t.value():t,y=d?e.value():e;return i||(i=new Ns),o(v,y,n,r,i)}}return!!p&&(i||(i=new Ns),function(t,e,n,r,o,i){var a=1&n,u=Sc(t),s=u.length;if(s!=Sc(e).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in e:Oc.call(e,l)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var h=!0;i.set(t,e),i.set(e,t);for(var d=a;++c<s;){var v=t[l=u[c]],y=e[l];if(r)var m=a?r(y,v,l,e,t,i):r(v,y,l,t,e,i);if(!(void 0===m?v===y||o(v,y,n,r,i):m)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var g=t.constructor,b=e.constructor;g==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&Er(g,g)&&"function"==typeof b&&Er(b,b)||(h=!1)}return i.delete(t),i.delete(e),h}(t,e,n,r,o,i))}(e,n,r,o,t,i))},Gc=function(t,e){return Kc(t,e)},Wc=function(t){return void 0===t},$c=(0,Zo.createGlobalStore)("extensionsInternal",{slots:{},extensions:{}}),zc=function(){return(0,Zo.getGlobalStore)("extensionsInternal",{slots:{},extensions:{}})};_r($c.getState()),$c.subscribe(_r),zc();var qc=zc(),Zc=(0,Zo.getGlobalStore)("extensions",{slots:{}}),Yc=(0,to.getExtensionSlotsConfigStore)(),Jc=(0,to.getExtensionsConfigStore)();qc.subscribe((function(t){Ar(t,Yc.getState(),Jc.getState())})),Yc.subscribe((function(t){Ar(qc.getState(),t,Jc.getState())})),Jc.subscribe((function(t){Ar(qc.getState(),Yc.getState(),t)}));var Xc={flags:function(){var t={},e=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(localStorage)[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;if(a.startsWith("openmrs:feature-flag:")){var u=a.replace("openmrs:feature-flag:",""),s=JSON.parse(localStorage.getItem("openmrs:feature-flag-meta:".concat(u))||"{}");t[u]=Rr({enabled:"true"===localStorage.getItem(a)},s)}}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return t}()};(0,Zo.getGlobalStore)("feature-flags",Xc).subscribe((function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(t.flags)[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=Lr(o.value,2),u=a[0],s=a[1];localStorage.setItem("openmrs:feature-flag:".concat(u),s.enabled.toString()),localStorage.setItem("openmrs:feature-flag-meta:".concat(u),JSON.stringify({label:s.label,description:s.description}))}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}})),no.default.createContext({moduleName:"",featureName:""}),x(103),Hr((0,Yo.getExtensionStore)());var Qc=null;try{Qc=n(268).createContext()}catch(po){}x(921);var tl=function(){},el=void 0,nl=Object,rl=function(t){return t===el},ol=function(t){return"function"==typeof t},il=function(t,e){return f({},t,e)},al=new WeakMap,ul=0,sl=function(t){var e,n,r=void 0===t?"undefined":v(t),o=t&&t.constructor,i=o==Date;if(nl(t)!==t||i||o==RegExp)e=i?t.toJSON():"symbol"==r?t.toString():"string"==r?JSON.stringify(t):""+t;else{if(e=al.get(t))return e;if(e=++ul+"~",al.set(t,e),o==Array){for(e="@",n=0;n<t.length;n++)e+=sl(t[n])+",";al.set(t,e)}if(o==nl){e="#";for(var a=nl.keys(t).sort();!rl(n=a.pop());)rl(t[n])||(e+=n+":"+sl(t[n])+",");al.set(t,e)}}return e},cl=new WeakMap,ll={},fl={},pl="undefined",hl=("undefined"==typeof window?"undefined":v(window))!=pl,dl=("undefined"==typeof document?"undefined":v(document))!=pl,vl=function(t,e){var n=cl.get(t);return[function(){return!rl(e)&&t.get(e)||ll},function(r){if(!rl(e)){var o=t.get(e);e in fl||(fl[e]=o),n[5](e,il(o,r),o||ll)}},n[6],function(){return!rl(e)&&e in fl?fl[e]:!rl(e)&&t.get(e)||ll}]},yl=!0,ml=h(hl&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[tl,tl],2),gl=ml[0],bl=ml[1],wl={isOnline:function(){return yl},isVisible:function(){var t=dl&&document.visibilityState;return rl(t)||"hidden"!==t}},Sl={initFocus:function(t){return dl&&document.addEventListener("visibilitychange",t),gl("focus",t),function(){dl&&document.removeEventListener("visibilitychange",t),bl("focus",t)}},initReconnect:function(t){var e=function(){yl=!0,t()},n=function(){yl=!1};return gl("online",e),gl("offline",n),function(){bl("online",e),bl("offline",n)}}},Ol=(no.default.useId,!hl||"Deno"in window),El=Ol?no.useEffect:no.useLayoutEffect,_l="undefined"!=typeof navigator&&navigator.connection,jl=!Ol&&_l&&(["slow-2g","2g"].includes(_l.effectiveType)||_l.saveData),xl=function(t){if(ol(t))try{t=t()}catch(e){t=""}var e=t;return[t="string"==typeof t?t:(Array.isArray(t)?t.length:t)?sl(t):"",e]},Pl=0,kl=function(){return++Pl};function Al(){return Al=i((function(){var t,e,n,r,o,a,u,s,c,l,f,p,d,v,y,g,b,w,S,O,E,_,j,x=arguments;function P(t){return k.apply(this,arguments)}function k(){return k=i((function(t){var n,r,i,a,s,c,y,g,b,w,S,O,E,_,j,x,P,k,A,C;return m(this,(function(m){switch(m.label){case 0:if(n=h(xl(t),1),!(r=n[0]))return[2];if(i=h(vl(o,r),2),a=i[0],s=i[1],c=h(cl.get(o),4),y=c[0],g=c[1],b=c[2],w=c[3],S=function(){var t=y[r];return d&&(delete b[r],delete w[r],t&&t[0])?t[0](2).then((function(){return a().data})):a().data},e.length<3)return[2,S()];if(E=u,_=kl(),g[r]=[_,0],j=!rl(p),x=a(),P=x.data,k=x._c,A=rl(k)?P:k,j&&(p=ol(p)?p(A,P):p,s({data:p,_c:A})),ol(E))try{E=E(A)}catch(t){O=t}return E&&function(t){return ol(t.then)}(E)?[4,E.catch((function(t){O=t}))]:[3,2];case 1:if(E=m.sent(),_!==g[r][0]){if(O)throw O;return[2,E]}O&&j&&function(t){return"function"==typeof f?f(t):!1!==f}(O)&&(l=!0,s({data:A,_c:el})),m.label=2;case 2:if(l&&!O&&(ol(l)?(C=l(E,A),s({data:C,error:el,_c:el})):s({data:E,error:el,_c:el})),g[r][1]=kl(),Promise.resolve(S()).then((function(){s({_c:el})})),!O)return[2,E];if(v)throw O;return[2]}}))})),k.apply(this,arguments)}return m(this,(function(i){for(t=x.length,e=new Array(t),n=0;n<t;n++)e[n]=x[n];if(r=h(e,4),o=r[0],a=r[1],u=r[2],s=r[3],c=il({populateCache:!0,throwOnError:!0},"boolean"==typeof s?{revalidate:s}:s||{}),l=c.populateCache,f=c.rollbackOnError,p=c.optimisticData,d=!1!==c.revalidate,v=c.throwOnError,ol(a)){y=a,g=[],b=o.keys(),w=!0,S=!1,O=void 0;try{for(E=b[Symbol.iterator]();!(w=(_=E.next()).done);w=!0)j=_.value,!/^\$(inf|sub)\$/.test(j)&&y(o.get(j)._k)&&g.push(j)}catch(t){S=!0,O=t}finally{try{w||null==E.return||E.return()}finally{if(S)throw O}}return[2,Promise.all(g.map(P))]}return[2,P(a)]}))})),Al.apply(this,arguments)}var Cl=function(t,e){for(var n in t)t[n][0]&&t[n][0](e)},Tl=function(t,e){if(!cl.has(t)){var n=il(Sl,e),r={},o=Vr.bind(el,t),i=tl,a={},u=function(t,e){var n=a[t]||[];return a[t]=n,n.push(e),function(){return n.splice(n.indexOf(e),1)}},s=function(e,n,r){t.set(e,n);var o=a[e],i=!0,u=!1,s=void 0;if(o)try{for(var c,l=o[Symbol.iterator]();!(i=(c=l.next()).done);i=!0)(0,c.value)(n,r)}catch(t){u=!0,s=t}finally{try{i||null==l.return||l.return()}finally{if(u)throw s}}},c=function(){if(!cl.has(t)&&(cl.set(t,[r,{},{},{},o,s,u]),!Ol)){var e=n.initFocus(setTimeout.bind(el,Cl.bind(el,r,0))),a=n.initReconnect(setTimeout.bind(el,Cl.bind(el,r,1)));i=function(){e&&e(),a&&a(),cl.delete(t)}}};return c(),[t,o,c,i]}return[t,cl.get(t)[4]]},Il=h(Tl(new Map),2),Dl=Il[0],Nl=Il[1],Rl=il({onLoadingSlow:tl,onSuccess:tl,onError:tl,onErrorRetry:function(t,e,n,r,o){var i=n.errorRetryCount,a=o.retryCount,u=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!rl(i)&&a>i||setTimeout(r,u,o)},onDiscarded:tl,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:jl?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:jl?5e3:3e3,compare:function(t,e){return sl(t)==sl(e)},isPaused:function(){return!1},cache:Dl,mutate:Nl,fallback:{}},wl),Ll=(0,no.createContext)({}),Ml=hl&&window.__SWR_DEVTOOLS_USE__;(Ml?window.__SWR_DEVTOOLS_USE__:[]).concat((function(t){return function(e,n,r){return t(e,n&&function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=h(xl(e),1)[0],a=h(cl.get(Dl),4)[3];if(i.startsWith("$inf$"))return n.apply(void 0,d(r));var u=a[i];return rl(u)?n.apply(void 0,d(r)):(delete a[i],u)},r)}})),Ml&&(window.__SWR_DEVTOOLS_REACT__=no.default);var Ul;no.default.use;nl.defineProperty((function(t){var e=t.value,n=(0,no.useContext)(Ll),r=ol(e),o=(0,no.useMemo)((function(){return r?e(n):e}),[r,n,e]),i=(0,no.useMemo)((function(){return r?o:function(t,e){var n=il(t,e);if(e){var r=t.use,o=t.fallback,i=e.use,a=e.fallback;r&&i&&(n.use=r.concat(i)),o&&a&&(n.fallback=il(o,a))}return n}(n,o)}),[r,n,o]),a=o&&o.provider,u=(0,no.useRef)(el);a&&!u.current&&(u.current=Tl(a(i.cache||Dl),o));var s=u.current;return s&&(i.cache=s[0],i.mutate=s[1]),El((function(){if(s)return s[2]&&s[2](),s[3]}),[]),(0,no.createElement)(Ll.Provider,il(t,{value:i}))}),"defaultValue",{value:Rl}),Ja.openmrsFetch,Hr((0,Yo.getExtensionInternalStore)()),function(t){t.loadPatient="loadPatient",t.newPatient="newPatient",t.loadError="patientLoadError"}(Ul||(Ul={}));var Bl=x(688),Fl=x(701),Hl=x.n(Fl);Bl.default.extend(Hl());var Vl=function(t){var e,n=new Set,r=function(t,r){var o="function"==typeof t?t(e):t;if(!Object.is(o,e)){var i=e;e=(null!=r?r:"object"!=typeof o)?o:Object.assign({},e,o),n.forEach((function(t){return t(e,i)}))}},o=function(){return e},i={setState:r,getState:o,subscribe:function(t){return n.add(t),function(){return n.delete(t)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,o,i),i},Kl={};function Gl(t){return(Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wl(t,e){return(Wl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}setTimeout((function(){"development"===window.spaEnv&&(window.stores=Kl)}),1e3),Kr("workspaceRegistrations",{workspaces:{}}),new Set,Kr("workspace",{context:"",openWorkspaces:[],prompt:null,workspaceWindowState:"normal"});var $l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wl(t,e)}(r,no.Component);var e,n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gl(t);if(e){var o=Gl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zr(t)}(this,n)}}(r);function r(t){var e;if(function(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):l(n,r)))throw new TypeError("Cannot call a class as a function");var n,r}(this,r),$r(zr(e=n.call(this,t)),"handleRef",(function(t){e.el=t})),$r(zr(e),"addThingToDo",(function(t,n){e.state.hasError&&"unmount"!==t||(e.nextThingToDo=(e.nextThingToDo||Promise.resolve()).then((function(){if(!e.unmounted||"unmount"===t)return n.apply(void 0,arguments)})).catch((function(n){throw e.nextThingToDo=Promise.resolve(),e.setState({hasError:!0}),n&&n.message&&(n.message="During '".concat(t,"', parcel threw an error: ").concat(n.message)),e.props.handleError?e.props.handleError(n):setTimeout((function(){throw n})),n})))})),$r(zr(e),"getParcelProps",(function(){var t=Wr(Wr({},e.props),{},{domElement:e.el});return delete t.mountParcel,delete t.config,delete t.wrapWith,delete t.wrapStyle,delete t.appendTo,delete t.handleError,delete t.parcelDidMount,t})),e.state={hasError:!1},!t.config)throw new Error("single-spa-react's Parcel component requires the 'config' prop to either be a parcel config or a loading function that returns a promise. See https://github.com/single-spa/single-spa-react");return e}return(e=[{key:"componentDidMount",value:function(){var t=this;this.addThingToDo("mount",(function(){var e,n=t.props.mountParcel||t.mountParcel;if(!n)throw new Error("\n\t\t\t\t  <Parcel /> was not passed a mountParcel prop, nor is it rendered where mountParcel is within the React context.\n\t\t\t\t  If you are using <Parcel /> within a module that is not a single-spa application, you will need to import mountRootParcel from single-spa and pass it into <Parcel /> as a mountParcel prop\t\n\t\t\t\t");return t.el?e=t.el:(t.createdDomElement=e=document.createElement(t.props.wrapWith),Object.keys(t.props.wrapStyle).forEach((function(n){e.style[n]=t.props.wrapStyle[n]})),t.props.appendTo.appendChild(e)),t.parcel=n(t.props.config,Wr({domElement:e},t.getParcelProps())),t.parcel.mountPromise.then(t.props.parcelDidMount),t.parcel.mountPromise}))}},{key:"componentDidUpdate",value:function(){var t=this;this.addThingToDo("update",(function(){if(t.parcel&&t.parcel.update)return t.parcel.update(t.getParcelProps())}))}},{key:"componentWillUnmount",value:function(){var t=this;this.addThingToDo("unmount",(function(){if(t.parcel&&"MOUNTED"===t.parcel.getStatus())return t.parcel.unmount()})),this.createdDomElement&&this.createdDomElement.parentNode.removeChild(this.createdDomElement),this.unmounted=!0}},{key:"render",value:function(){var t=this;if(this.props.appendTo)return Qc&&Qc.Consumer?no.createElement(Qc.Consumer,null,(function(e){return t.mountParcel=e?e.mountParcel:null,null})):null;var e=Qc&&Qc.Consumer?no.createElement(Qc.Consumer,null,(function(e){return t.mountParcel=e?e.mountParcel:null,null})):void 0;return no.createElement(this.props.wrapWith,{ref:this.handleRef,style:this.props.wrapStyle,className:this.props.wrapClassName},e)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}();$r($l,"defaultProps",{wrapWith:"div",wrapStyle:{},parcelDidMount:function(){}}),x(740),(0,Zo.createGlobalStore)("left-nav",{slotName:null,basePath:window.spaBase}),x(901),x(353),zl=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){qr(t,e,n[e])}))}return t}({},{address1:"Address line 1",address2:"Address line 2",city:"City",cityVillage:"City",country:"Country",countyDistrict:"District",postalCode:"Postal code",state:"State",stateProvince:"State"},{closeAllOpenedWorkspaces:"Discard changes in {{count}} workspaces",closingAllWorkspacesPromptBody:"There are unsaved changes in the following workspaces. Do you want to discard changes in the following workspaces? {{workspaceNames}}",closingAllWorkspacesPromptTitle:"You have unsaved changes",discard:"Discard",hide:"Hide",maximize:"Maximize",minimize:"Minimize",openAnyway:"Open Anyway",unsavedChangesInOpenedWorkspace:"You have unsaved changes in the opened workspace. Do you want to discard these changes?",unsavedChangesInWorkspace:"There are unsaved changes in {{workspaceName}}. Please save them before opening another workspace.",unsavedChangesTitleText:"Unsaved Changes",workspaceHeader:"Workspace Header"}),ql=null!=(ql={actions:"Actions",address:"Address",cancel:"Cancel",change:"Change",close:"Close",confirm:"Confirm",contactDetails:"Contact Details",error:"Error",errorCopy:"Sorry, there was a problem displaying this information. You can try to reload this page, or contact the site administrator and quote the error code above.",female:"Female",hideDetails:"Hide details",loading:"Loading",male:"Male",other:"Other",patientLists:"Patient Lists",relationships:"Relationships",seeMoreLists:"See {{count}} more lists",showDetails:"Show details",unknown:"Unknown"})?ql:{},Object.getOwnPropertyDescriptors?Object.defineProperties(zl,Object.getOwnPropertyDescriptors(ql)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(ql)).forEach((function(t){Object.defineProperty(zl,t,Object.getOwnPropertyDescriptor(ql,t))}));var zl,ql,Zl,Yl=x(64);(Yl.default.default||Yl.default).on("initialized",(function(){window.i18next.loadNamespaces(["core"])})),(0,to.defineConfigSchema)("@openmrs/esm-styleguide",eo),Zl=function(t,e){document.documentElement.style.setProperty(t,e)},(0,to.getConfigStore)("@openmrs/esm-styleguide").subscribe((function(t){t.loaded&&t.config&&(Zl("--brand-01",t.config["Brand color #1"]),Zl("--brand-02",t.config["Brand color #2"]),Zl("--brand-03",t.config["Brand color #3"]))})),r("omrs-logo-full-color",Zr),r("omrs-logo-full-mono",Zr),r("omrs-logo-full-grey",Zr),r("omrs-logo-partial-color",Yr),r("omrs-logo-partial-mono",Yr),r("omrs-logo-partial-grey",Yr),r("omrs-logo-icon-color",Jr),r("omrs-logo-icon-mono",Jr),r("omrs-logo-icon-grey",Jr),r("omrs-logo-white",'<svg id="omrs-logo-white" viewBox="0 0 380 119" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M40.2901 40.3278C45.3275 35.2904 52.2879 32.1739 59.9777 32.1739C67.6466 32.1739 74.5911 35.2765 79.6246 40.29L79.6454 21.7502C73.7514 18.7143 67.0623 17 59.9777 17C52.8891 17 46.1653 18.9309 40.2692 21.9679L40.2901 40.3278Z" fill="var(--logo-white)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M79.6454 79.6712C74.6079 84.7096 67.6506 87.8251 59.9608 87.8251C52.2918 87.8251 45.3473 84.7236 40.3099 79.709L40.29 98.2498C46.1871 101.285 52.8732 103 59.9608 103C67.0493 103 73.7374 101.285 79.6315 98.2488L79.6454 79.6712Z" fill="var(--logo-white)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M40.3278 79.6961C35.2904 74.6586 32.1739 67.7012 32.1739 60.0114C32.1739 52.3425 35.2755 45.399 40.29 40.3616L21.7492 40.3417C18.7143 46.2378 17 52.9229 17 60.0114C17 67.1 18.7143 73.7881 21.7522 79.6831L40.3278 79.6961Z" fill="var(--logo-grey)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M79.6344 40.289C84.6718 45.3255 87.7883 52.2868 87.7883 59.9766C87.7883 67.6456 84.6867 74.5901 79.6712 79.6225L98.213 79.6434C101.248 73.7493 102.962 67.0612 102.962 59.9766C102.962 52.8871 101.248 46.198 98.211 40.302L79.6344 40.289Z" fill="var(--logo-grey)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M156.184 60.0025C156.184 51.2543 150.066 44.2264 141.159 44.2264C132.25 44.2264 126.134 51.2543 126.134 60.0025C126.134 68.7507 132.25 75.7816 141.159 75.7816C150.066 75.7816 156.184 68.7507 156.184 60.0025ZM121.303 60.0025C121.303 48.5205 129.621 40.0436 141.159 40.0436C152.695 40.0436 161.014 48.5205 161.014 60.0025C161.014 71.4875 152.695 79.9674 141.159 79.9674C129.621 79.9674 121.303 71.4875 121.303 60.0025Z" fill="var(--logo-white)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M179.514 75.5401C185.021 75.5401 188.564 71.4 188.564 66.0585C188.564 60.717 185.021 56.575 179.514 56.575C174.009 56.575 170.468 60.717 170.468 66.0585C170.468 71.4 174.009 75.5401 179.514 75.5401ZM166.22 53.3064H170.468V57.0102H170.578C172.922 54.2853 176.027 52.6506 179.732 52.6506C187.746 52.6506 193.14 58.32 193.14 66.0585C193.14 73.6887 187.527 79.4645 180.388 79.4645C175.808 79.4645 172.157 77.1749 170.578 74.286H170.468V90.87H166.22V53.3064Z" fill="var(--logo-white)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M217.773 63.7679C217.61 59.4629 214.773 56.575 210.087 56.575C205.402 56.575 202.297 59.4629 201.752 63.7679H217.773ZM221.426 74.1796C218.425 78.0484 214.83 79.4645 210.087 79.4645C202.077 79.4645 197.173 73.4711 197.173 66.0585C197.173 58.157 202.732 52.6506 210.253 52.6506C217.449 52.6506 222.349 57.5568 222.349 66.0049V67.3673H201.752C202.077 71.7797 205.456 75.5401 210.087 75.5401C213.737 75.5401 216.192 74.2333 218.207 71.6723L221.426 74.1796Z" fill="var(--logo-white)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M227.854 59.3565C227.854 57.0102 227.638 54.9959 227.638 53.3064H231.669C231.669 54.6689 231.779 56.083 231.779 57.5012H231.889C233.033 54.9959 236.195 52.6506 240.389 52.6506C247.094 52.6506 250.088 56.9029 250.088 63.0603V78.8086H245.84V63.4986C245.84 59.2462 243.984 56.575 240.007 56.575C234.504 56.575 232.104 60.554 232.104 66.3865V78.8086H227.854V59.3565Z" fill="var(--logo-white)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M259.211 41.0085H265.919L278.8 70.7909H278.907L291.889 41.0085H298.438V78.9994H293.932V47.1242H293.826L280.192 78.9994H277.454L263.825 47.1242H263.718V78.9994H259.211V41.0085Z" fill="var(--logo-white)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M312.392 57.7516H316.415C321.407 57.7516 327.902 57.7516 327.902 51.47C327.902 45.9992 323.126 45.1943 318.725 45.1943H312.392V57.7516ZM307.886 41.0085H317.597C324.949 41.0085 332.729 42.0798 332.729 51.47C332.729 56.9973 329.135 60.5948 323.234 61.5071L334.018 78.9994H328.493L318.189 61.9364H312.392V78.9994H307.886V41.0085Z" fill="var(--logo-white)"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M358.123 47.7125C356.617 45.2986 353.936 44.2264 351.197 44.2264C347.224 44.2264 343.097 46.1056 343.097 50.6113C343.097 54.1005 345.028 55.6577 351.091 57.5906C356.994 59.4688 362.468 61.3997 362.468 68.858C362.468 76.4246 355.973 79.9674 349.108 79.9674C344.706 79.9674 339.983 78.5174 337.408 74.7063L341.27 71.5412C342.88 74.3347 346.1 75.7816 349.375 75.7816C353.237 75.7816 357.638 73.5277 357.638 69.18C357.638 64.5112 354.473 63.7063 347.71 61.4524C342.344 59.6805 338.268 57.3183 338.268 50.989C338.268 43.6907 344.545 40.0436 351.197 40.0436C355.438 40.0436 359.033 41.2222 361.822 44.4947L358.123 47.7125Z" fill="var(--logo-white)"/>\n</svg>\n'),r("omrs-icon-visibility",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g id="icon/action/visibility_24px">\n    <path id="icon/action/visibility_24px_2" fill-rule="evenodd" clip-rule="evenodd" d="M12 4.5C7 4.5 2.72998 7.60999 1 12C2.72998 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.60999 17 4.5 12 4.5ZM12 17C9.23999 17 7 14.76 7 12C7 9.23999 9.23999 7 12 7C14.76 7 17 9.23999 17 12C17 14.76 14.76 17 12 17ZM9 12C9 10.34 10.34 9 12 9C13.66 9 15 10.34 15 12C15 13.66 13.66 15 12 15C10.34 15 9 13.66 9 12Z"/>\n  </g>\n  <title>Visibility rounded</title>\n</svg>\n'),r("omrs-icon-menu",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g id="icon/navigation/menu_24px">\n    <path id="icon/navigation/menu_24px_2" fill-rule="evenodd" clip-rule="evenodd" d="M4 8C3.44995 8 3 7.54999 3 7C3 6.45001 3.44995 6 4 6H20C20.55 6 21 6.45001 21 7C21 7.54999 20.55 8 20 8H4ZM4 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11H4C3.44995 11 3 11.45 3 12C3 12.55 3.44995 13 4 13ZM4 18H20C20.55 18 21 17.55 21 17C21 16.45 20.55 16 20 16H4C3.44995 16 3 16.45 3 17C3 17.55 3.44995 18 4 18Z"/>\n  </g>\n  <title>Menu rounded</title>\n</svg>\n'),r("omrs-icon-search",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g id="icon/action/search_24px">\n    <path id="icon/action/search_24px_2" fill-rule="evenodd" clip-rule="evenodd" d="M15.1865 14.4716H15.9765L20.2165 18.7316C20.6266 19.1416 20.6266 19.8116 20.2165 20.2216C19.8065 20.6316 19.1366 20.6316 18.7265 20.2216L14.4765 15.9716V15.1816L14.2065 14.9016C12.8065 16.1016 10.8966 16.7216 8.86655 16.3816C6.08652 15.9116 3.86655 13.5916 3.52658 10.7916C3.00656 6.56158 6.5665 3.00158 10.7966 3.52157C13.5965 3.86157 15.9166 6.08157 16.3866 8.86157C16.7265 10.8916 16.1065 12.8016 14.9066 14.2016L15.1865 14.4716ZM5.47653 9.97155C5.47653 12.4615 7.48654 14.4716 9.97653 14.4716C12.4665 14.4716 14.4765 12.4615 14.4765 9.97155C14.4765 7.48156 12.4665 5.47155 9.97653 5.47155C7.48654 5.47155 5.47653 7.48156 5.47653 9.97155Z"/>\n  </g>\n  <title>Search rounded</title>\n</svg>\n'),r("omrs-icon-arrow-back",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g id="icon/navigation/arrow_back_24px">\n    <path id="icon/navigation/arrow_back_24px_2" d="M18.7912 11.005H7.62124L12.5012 6.12499C12.8912 5.73499 12.8912 5.09499 12.5012 4.70499C12.3144 4.51774 12.0608 4.41251 11.7962 4.41251C11.5317 4.41251 11.2781 4.51774 11.0912 4.70499L4.50124 11.295C4.11124 11.685 4.11124 12.315 4.50124 12.705L11.0912 19.295C11.4812 19.685 12.1112 19.685 12.5012 19.295C12.8912 18.905 12.8912 18.275 12.5012 17.885L7.62124 13.005H18.7912C19.3412 13.005 19.7912 12.555 19.7912 12.005C19.7912 11.455 19.3412 11.005 18.7912 11.005Z"/>\n  </g>\n  <title>Arrow back rounded</title>\n</svg>\n'),r("omrs-icon-arrow-forward",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <path d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z"/>\n    <title>Arrow forward rounded</title>\n</svg>'),r("omrs-icon-arrow-downward",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g id="icon/navigation/arrow_downward_24px">\n    <path id="icon/navigation/arrow_downward_24px_2" d="M11.005 5.20874V16.3787L6.12498 11.4987C5.73498 11.1087 5.09498 11.1087 4.70498 11.4987C4.31498 11.8887 4.31498 12.5187 4.70498 12.9087L11.295 19.4987C11.685 19.8887 12.315 19.8887 12.705 19.4987L19.295 12.9087C19.685 12.5187 19.685 11.8887 19.295 11.4987C19.1081 11.3115 18.8545 11.2063 18.59 11.2063C18.3255 11.2063 18.0718 11.3115 17.885 11.4987L13.005 16.3787V5.20874C13.005 4.65874 12.555 4.20874 12.005 4.20874C11.455 4.20874 11.005 4.65874 11.005 5.20874Z"/>\n  </g>\n  <title>Arrow downward rounded</title>\n</svg>\n'),r("omrs-icon-arrow-upward",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g id="icon/navigation/arrow_upward_24px">\n    <path id="icon/navigation/arrow_upward_24px_2" d="M13 18.7913V7.62126L17.88 12.5013C18.27 12.8913 18.91 12.8913 19.3 12.5013C19.69 12.1113 19.69 11.4813 19.3 11.0913L12.71 4.50126C12.5231 4.314 12.2695 4.20877 12.005 4.20877C11.7405 4.20877 11.4868 4.314 11.3 4.50126L4.69997 11.0813C4.30997 11.4713 4.30997 12.1013 4.69997 12.4913C5.08997 12.8813 5.71997 12.8813 6.10997 12.4913L11 7.62126V18.7913C11 19.3413 11.45 19.7913 12 19.7913C12.55 19.7913 13 19.3413 13 18.7913Z"/>\n  </g>\n  <title>Arrow upward rounded </title>\n</svg>\n'),r("omrs-icon-chevron-left",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g id="icon/navigation/chevron_left_24px">\n    <path id="icon/navigation/chevron_left_24px_2" d="M15 6.70499C14.8132 6.51774 14.5595 6.41251 14.295 6.41251C14.0305 6.41251 13.7769 6.51774 13.59 6.70499L9.00002 11.295C8.61002 11.685 8.61002 12.315 9.00002 12.705L13.59 17.295C13.98 17.685 14.61 17.685 15 17.295C15.39 16.905 15.39 16.275 15 15.885L11.12 11.995L15 8.11499C15.39 7.72499 15.38 7.08499 15 6.70499Z"/>\n  </g>\n  <title>Chevron left</title>\n</svg>\n'),r("omrs-icon-chevron-right",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g id="icon/navigation/chevron_right_24px">\n    <path id="icon/navigation/chevron_right_24px_2" d="M9.00002 6.71063C8.61002 7.10063 8.61002 7.73063 9.00002 8.12063L12.88 12.0006L9.00002 15.8806C8.61002 16.2706 8.61002 16.9006 9.00002 17.2906C9.39002 17.6806 10.02 17.6806 10.41 17.2906L15 12.7006C15.39 12.3106 15.39 11.6806 15 11.2906L10.41 6.70063C10.03 6.32063 9.39002 6.32063 9.00002 6.71063Z"/>\n  </g>\n  <title>Chevron right</title>\n</svg>\n'),r("omrs-icon-chevron-up",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g id="icon/navigation/chevron_up_24px">\n        <path d="M11.29 8.71L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.38-.39-1.02-.39-1.41 0z"/>\n    </g>\n    <title>Chevron up</title>\n</svg>\n'),r("omrs-icon-chevron-down",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g id="icon/navigation/chevron_down_24px">\n        <path id="icon/navigation/chevron_down_24px" d="M8.12 9.29L12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7c-.39-.39-.39-1.02 0-1.41.39-.38 1.03-.39 1.42 0z"/>\n    </g>\n    <title>Chevron down</title>\n</svg>\n'),r("omrs-icon-supervised-user-circle",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g id="icon/action/supervised_user_circle_24px">\n    <path id="icon/action/supervised_user_circle_24px_2" fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.47998 2 2 6.48001 2 12C2 17.52 6.47998 22 12 22C17.52 22 22 17.52 22 12C22 6.48001 17.52 2 12 2ZM15.61 8.34C16.6801 8.34 17.54 9.19998 17.54 10.27C17.54 11.34 16.6801 12.2 15.61 12.2C14.54 12.2 13.6801 11.34 13.6801 10.27C13.67 9.19998 14.54 8.34 15.61 8.34ZM11.97 9.12C11.97 7.82001 10.91 6.76001 9.60999 6.76001C8.30005 6.76001 7.25 7.81 7.25 9.12C7.25 10.42 8.31006 11.48 9.60999 11.48C10.91 11.48 11.97 10.42 11.97 9.12ZM9.60999 15.89V19.64C7.20996 18.89 5.30994 17.04 4.46997 14.68C5.52002 13.56 8.14001 12.99 9.60999 12.99C10.14 12.99 10.8099 13.07 11.51 13.21C9.87 14.08 9.60999 15.23 9.60999 15.89ZM11.21 19.96C11.47 19.99 11.73 20 12 20C15.39 20 18.2799 17.88 19.45 14.91C18.5299 14.15 16.6799 13.76 15.61 13.76C14.1499 13.76 11.21 14.47 11.21 15.89V19.96Z"/>\n  </g>\n  <title>Supervised user circle rounded</title>\n</svg>\n'),r("omrs-icon-home",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n<g id="icon/navigation/home_24px">\n    <path id="icon/navigation/home_24px" d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"/>\n</g>\n<title>Home rounded</title>\n</svg>'),r("omrs-icon-close",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/>\n    <title>Close icon</title>\n</svg>'),r("omrs-icon-important-notification",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g id="icon/important_notification_24px_rounded">\n        <path d="M12 23c1.1 0 1.99-.89 1.99-1.99h-3.98c0 1.1.89 1.99 1.99 1.99zm8.29-4.71L19 17v-6c0-3.35-2.36-6.15-5.5-6.83V3c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v1.17C7.36 4.85 5 7.65 5 11v6l-1.29 1.29c-.63.63-.19 1.71.7 1.71h15.17c.9 0 1.34-1.08.71-1.71zM13 16h-2v-2h2v2zm0-5c0 .55-.45 1-1 1s-1-.45-1-1V9c0-.55.45-1 1-1s1 .45 1 1v2z"/>\n    </g>\n    <title>Important notification</title>\n</svg>\n'),r("omrs-icon-calendar",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g id="icon/callend/calendar24px">\n    <path d="M20 3h-1V2c0-.55-.45-1-1-1s-1 .45-1 1v1H7V2c0-.55-.45-1-1-1s-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 18H5c-.55 0-1-.45-1-1V8h16v12c0 .55-.45 1-1 1z"/>\n    </g>\n    <title>Calendar rounded</title>\n</svg>'),r("omrs-icon-access-time",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g id="icon/callend/access_time24px">\n    <path id="icon/callend/access_time24px" d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-.22-13h-.06c-.4 0-.72.32-.72.72v4.72c0 .35.18.68.49.86l4.15 2.49c.34.2.78.1.98-.24.21-.34.1-.79-.25-.99l-3.87-2.3V7.72c0-.4-.32-.72-.72-.72z" />\n    </g>\n    <title>Access time rounded</title>\n</svg>'),r("omrs-icon-add",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <g id="icon/content/add-24px">\n        <path d="M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"/>\n    </g>\n    <title>Add rounded</title>\n</svg>\n'),r("omrs-icon-remove",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g id="icon/content/add-24px">\n        <path d="M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1z"/>\n    </g>\n    <title>Remove rounded</title>\n</svg>\n'),r("omrs-icon-check-circle",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>\n    <title>Check circle</title>\n</svg>\n'),r("omrs-icon-zoomoutmap",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g id="icon/action/visibility_24px">\n        <path d="M15.85 3.85L17.3 5.3l-2.18 2.16c-.39.39-.39 1.03 0 1.42.39.39 1.03.39 1.42 0L18.7 6.7l1.45 1.45c.31.31.85.09.85-.36V3.5c0-.28-.22-.5-.5-.5h-4.29c-.45 0-.67.54-.36.85zm-12 4.3L5.3 6.7l2.16 2.18c.39.39 1.03.39 1.42 0 .39-.39.39-1.03 0-1.42L6.7 5.3l1.45-1.45c.31-.31.09-.85-.36-.85H3.5c-.28 0-.5.22-.5.5v4.29c0 .45.54.67.85.36zm4.3 12L6.7 18.7l2.18-2.16c.39-.39.39-1.03 0-1.42-.39-.39-1.03-.39-1.42 0L5.3 17.3l-1.45-1.45c-.31-.31-.85-.09-.85.36v4.29c0 .28.22.5.5.5h4.29c.45 0 .67-.54.36-.85zm12-4.3L18.7 17.3l-2.16-2.18c-.39-.39-1.03-.39-1.42 0-.39.39-.39 1.03 0 1.42l2.18 2.16-1.45 1.45c-.31.31-.09.85.36.85h4.29c.28 0 .5-.22.5-.5v-4.29c0-.45-.54-.67-.85-.36z" />\n    </g>\n    <title>\n        Zoom Out \n    </title>\n</svg>'),r("omrs-icon-location",'<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24">\n    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>\n    <path d="M0 0h24v24H0z" class="omrs-icon-location"/>\n    <title>Location icon</title>\n</svg>'),r("omrs-icon-download",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z" />\n    <title>Download icon</title>\n</svg>')}(),function(){"use strict";x.r(P)}(),P}())}}}))},6832:(t,e,n)=>{"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{R:()=>gt,a:()=>mt});var o,i,a=(o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){r(t,e,n[e])}))}return t}({},{address1:"Address line 1",address2:"Address line 2",city:"City",cityVillage:"City",country:"Country",countyDistrict:"District",postalCode:"Postal code",state:"State",stateProvince:"State"},{closeAllOpenedWorkspaces:"Discard changes in {{count}} workspaces",closingAllWorkspacesPromptBody:"There are unsaved changes in the following workspaces. Do you want to discard changes in the following workspaces? {{workspaceNames}}",closingAllWorkspacesPromptTitle:"You have unsaved changes",discard:"Discard",hide:"Hide",maximize:"Maximize",minimize:"Minimize",openAnyway:"Open Anyway",unsavedChangesInOpenedWorkspace:"You have unsaved changes in the opened workspace. Do you want to discard these changes?",unsavedChangesInWorkspace:"There are unsaved changes in {{workspaceName}}. Please save them before opening another workspace.",unsavedChangesTitleText:"Unsaved Changes",workspaceHeader:"Workspace Header"}),i=null!=(i={actions:"Actions",address:"Address",cancel:"Cancel",change:"Change",close:"Close",confirm:"Confirm",contactDetails:"Contact Details",error:"Error",errorCopy:"Sorry, there was a problem displaying this information. You can try to reload this page, or contact the site administrator and quote the error code above.",female:"Female",hideDetails:"Hide details",loading:"Loading",male:"Male",other:"Other",patientLists:"Patient Lists",relationships:"Relationships",seeMoreLists:"See {{count}} more lists",showDetails:"Show details",unknown:"Unknown"})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(i)).forEach((function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})),o),u=n(6522),s=n(9249),c=n(7371),l=n(753),f=n(8960);function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,f.Z)(t,e)}function h(t,e){if(e&&("object"===(0,u.Z)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,l.Z)(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var v=n(6666),y=n(9868),m=n(7066),g=n(4434);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){(0,v.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},O=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.Z)(this,t),this.init(e,n)}return(0,c.Z)(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||S,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,w(w({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}},{key:"clone",value:function(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new t(this.logger,e)}}]),t}()),E=function(){function t(){(0,s.Z)(this,t),this.observers={}}return(0,c.Z)(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.observers[t]&&[].concat(this.observers[t]).forEach((function(t){t.apply(void 0,n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(e){e.apply(e,[t].concat(n))}))}}]),t}();function _(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function j(t){return null==t?"":""+t}function x(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function o(){return!t||"string"==typeof t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!t[a]&&n&&(t[a]=new n),t=Object.prototype.hasOwnProperty.call(t,a)?t[a]:{}}return o()?{}:{obj:t,k:r(i.shift())}}function P(t,e,n){var r=x(t,e,Object);r.obj[r.k]=n}function k(t,e){var n=x(t,e),r=n.obj,o=n.k;if(r)return r[o]}function A(t,e,n){var r=k(t,n);return void 0!==r?r:k(e,n)}function C(t,e,n){for(var r in e)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):C(t[r],e[r],n):t[r]=e[r]);return t}function T(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function D(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return I[t]})):t}var N="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,R=[" ",",","?","!",";"];function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){(0,v.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function U(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),o=t,i=0;i<r.length;++i){if(!o)return;if("string"==typeof o[r[i]]&&i+1<r.length)return;if(void 0===o[r[i]]){for(var a=2,u=r.slice(i,i+a).join(n),s=o[u];void 0===s&&r.length>i+a;)a++,s=o[u=r.slice(i,i+a).join(n)];if(void 0===s)return;if(null===s)return null;if(e.endsWith(u)){if("string"==typeof s)return s;if(u&&"string"==typeof s[u])return s[u]}var c=r.slice(i+a).join(n);return c?U(s,c,n):void 0}o=o[r[i]]}return o}}var B=function(t){p(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h(this,t)});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,s.Z)(this,o),e=r.call(this),N&&E.call((0,l.Z)(e)),e.data=t||{},e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),void 0===e.options.ignoreJSONStructure&&(e.options.ignoreJSONStructure=!0),e}return(0,c.Z)(o,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[t,e];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(a=t.split("."));var u=k(this.data,a);return u||!i||"string"!=typeof n?u:U(this.data&&this.data[t]&&this.data[t][e],n,o)}},{key:"addResource",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[t,e];n&&(a=a.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),P(this.data,a,r),o.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(t,e,o,n[o],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var u=k(this.data,a)||{};r?C(u,n,o):u=M(M({},u),n),P(this.data,a,u),i.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?M(M({},{}),this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function(t){var e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((function(t){return e[t]&&Object.keys(e[t]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),o}(E),F={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,o){var i=this;return t.forEach((function(t){i.processors[t]&&(e=i.processors[t].process(e,n,r,o))})),e}};function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){(0,v.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var K={},G=function(t){p(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h(this,t)});function o(t){var e,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,o),e=r.call(this),N&&E.call((0,l.Z)(e)),n=t,i=(0,l.Z)(e),["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((function(t){n[t]&&(i[t]=n[t])})),e.options=a,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=O.create("translator"),e}return(0,c.Z)(o,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,o=e.ns||this.options.defaultNS||[],i=n&&t.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,n){e=e||"",n=n||"";var r=R.filter((function(t){return e.indexOf(t)<0&&n.indexOf(t)<0}));if(0===r.length)return!0;var o=new RegExp("(".concat(r.map((function(t){return"?"===t?"\\?":t})).join("|"),")")),i=!o.test(t);if(!i){var a=t.indexOf(n);a>0&&!o.test(t.substring(0,a))&&(i=!0)}return i}(t,n,r));if(i&&!a){var u=t.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:t,namespaces:o};var s=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(s[0])>-1)&&(o=s.shift()),t=s.join(r)}return"string"==typeof o&&(o=[o]),{key:t,namespaces:o}}},{key:"translate",value:function(t,e,n){var r=this;if("object"!==(0,u.Z)(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var i=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,a=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,s=this.extractFromKey(t[t.length-1],e),c=s.key,l=s.namespaces,f=l[l.length-1],p=e.lng||this.language,h=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(h){var d=e.nsSeparator||this.options.nsSeparator;return i?(v.res="".concat(f).concat(d).concat(c),v):"".concat(f).concat(d).concat(c)}return i?(v.res=c,v):c}var v=this.resolve(t,e),y=v&&v.res,m=v&&v.usedKey||c,g=v&&v.exactUsedKey||c,b=Object.prototype.toString.apply(y),w=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject;if(S&&y&&"string"!=typeof y&&"boolean"!=typeof y&&"number"!=typeof y&&["[object Number]","[object Function]","[object RegExp]"].indexOf(b)<0&&("string"!=typeof w||"[object Array]"!==b)){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,y,V(V({},e),{},{ns:l})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return i?(v.res=O,v):O}if(a){var E="[object Array]"===b,_=E?[]:{},j=E?g:m;for(var x in y)if(Object.prototype.hasOwnProperty.call(y,x)){var P="".concat(j).concat(a).concat(x);_[x]=this.translate(P,V(V({},e),{joinArrays:!1,ns:l})),_[x]===P&&(_[x]=y[x])}y=_}}else if(S&&"string"==typeof w&&"[object Array]"===b)(y=y.join(w))&&(y=this.extendTranslation(y,t,e,n));else{var k=!1,A=!1,C=void 0!==e.count&&"string"!=typeof e.count,T=o.hasDefaultValue(e),I=C?this.pluralResolver.getSuffix(p,e.count,e):"",D=e["defaultValue".concat(I)]||e.defaultValue;!this.isValidLookup(y)&&T&&(k=!0,y=D),this.isValidLookup(y)||(A=!0,y=c);var N=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:y,R=T&&D!==y&&this.options.updateMissing;if(A||k||R){if(this.logger.log(R?"updateKey":"missingKey",p,f,c,R?D:y),a){var L=this.resolve(c,V(V({},e),{},{keySeparator:!1}));L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var M=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var B=0;B<U.length;B++)M.push(U[B]);else"all"===this.options.saveMissingTo?M=this.languageUtils.toResolveHierarchy(e.lng||this.language):M.push(e.lng||this.language);var F=function(t,n,o){var i=T&&o!==y?o:N;r.options.missingKeyHandler?r.options.missingKeyHandler(t,f,n,i,R,e):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(t,f,n,i,R,e),r.emit("missingKey",t,f,n,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?M.forEach((function(t){r.pluralResolver.getSuffixes(t,e).forEach((function(n){F([t],c+n,e["defaultValue".concat(n)]||D)}))})):F(M,c,D))}y=this.extendTranslation(y,t,e,v,n),A&&y===c&&this.options.appendNamespaceToMissingKey&&(y="".concat(f,":").concat(c)),(A||k)&&this.options.parseMissingKeyHandler&&(y="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(f,":").concat(c):c,k?y:void 0):this.options.parseMissingKeyHandler(y))}return i?(v.res=y,v):y}},{key:"extendTranslation",value:function(t,e,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,V(V({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(V(V({},n),{interpolation:V(V({},this.options.interpolation),n.interpolation)}));var a,u="string"==typeof t&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(u){var s=t.match(this.interpolator.nestingRegexp);a=s&&s.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=V(V({},this.options.interpolation.defaultVariables),c)),t=this.interpolator.interpolate(t,c,n.lng||this.language,n),u){var l=t.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(e[0])),null):i.translate.apply(i,r.concat([e]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,p="string"==typeof f?[f]:f;return null!=t&&p&&p.length&&!1!==n.applyPostProcessor&&(t=F.handle(p,t,e,this.options&&this.options.postProcessPassResolved?V({i18nResolved:r},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,r,o,i,a=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var s=a.extractFromKey(t,u),c=s.key;n=c;var l=s.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==u.count&&"string"!=typeof u.count,p=f&&!u.ordinal&&0===u.count&&a.pluralResolver.shouldUseIntlApi(),h=void 0!==u.context&&("string"==typeof u.context||"number"==typeof u.context)&&""!==u.context,d=u.lngs?u.lngs:a.languageUtils.toResolveHierarchy(u.lng||a.language,u.fallbackLng);l.forEach((function(t){a.isValidLookup(e)||(i=t,!K["".concat(d[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(K["".concat(d[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(d.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach((function(n){if(!a.isValidLookup(e)){o=n;var i,s=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(s,c,n,t,u);else{var l;f&&(l=a.pluralResolver.getSuffix(n,u.count,u));var d="".concat(a.options.pluralSeparator,"zero");if(f&&(s.push(c+l),p&&s.push(c+d)),h){var v="".concat(c).concat(a.options.contextSeparator).concat(u.context);s.push(v),f&&(s.push(v+l),p&&s.push(v+d))}}for(;i=s.pop();)a.isValidLookup(e)||(r=i,e=a.getResource(n,t,i,u))}})))}))}})),{res:e,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}],[{key:"hasDefaultValue",value:function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&"defaultValue"===e.substring(0,12)&&void 0!==t[e])return!0;return!1}}]),o}(E);function W(t){return t.charAt(0).toUpperCase()+t.slice(1)}var $=function(){function t(e){(0,s.Z)(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=O.create("languageUtils")}return(0,c.Z)(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=W(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=W(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=W(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var r=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(r)||(e=r)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var r=n.getLanguagePartFromCode(t);if(n.isSupportedCode(r))return e=r;e=n.options.supportedLngs.find((function(t){if(0===t.indexOf(r))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),o=[],i=function(t){t&&(n.isSupportedCode(t)?o.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),r.forEach((function(t){o.indexOf(t)<0&&i(n.formatLanguageCode(t))})),o}}]),t}(),z=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],q={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},Z=["v1","v2","v3"],Y={zero:0,one:1,two:2,few:3,many:4,other:5},J=function(){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.Z)(this,t),this.languageUtils=e,this.options=r,this.logger=O.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},z.forEach((function(t){t.lngs.forEach((function(e){n[e]={numbers:t.nr,plurals:q[t.fc]}}))})),n)}return(0,c.Z)(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:e.ordinal?"ordinal":"cardinal"})}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(t,e);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,n).map((function(t){return"".concat(e).concat(t)}))}},{key:"getSuffixes",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(t,e){return Y[t]-Y[e]})).map((function(t){return"".concat(e.options.prepend).concat(t)})):r.numbers.map((function(r){return e.getSuffix(t,r,n)})):[]}},{key:"getSuffix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(t,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(e)):this.getSuffixRetroCompatible(r,e):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,e){var n=this,r=t.noAbs?t.plurals(e):t.plurals(Math.abs(e)),o=t.numbers[r];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Z.includes(this.options.compatibilityJSON)}}]),t}();function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){(0,v.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var tt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.Z)(this,t),this.logger=O.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return(0,c.Z)(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:D,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?T(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?T(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?T(e.nestingPrefix):e.nestingPrefixEscaped||T("$t("),this.nestingSuffix=e.nestingSuffix?T(e.nestingSuffix):e.nestingSuffixEscaped||T(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,r){var o,i,a,u=this,s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(t){return t.replace(/\$/g,"$$$$")}var l=function(t){if(t.indexOf(u.formatSeparator)<0){var o=A(e,s,t);return u.alwaysFormat?u.format(o,void 0,n,Q(Q(Q({},r),e),{},{interpolationkey:t})):o}var i=t.split(u.formatSeparator),a=i.shift().trim(),c=i.join(u.formatSeparator).trim();return u.format(A(e,s,a),c,n,Q(Q(Q({},r),e),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return c(t)}},{regex:this.regexp,safeValue:function(t){return u.escapeValue?c(u.escape(t)):c(t)}}].forEach((function(e){for(a=0;o=e.regex.exec(t);){var n=o[1].trim();if(void 0===(i=l(n)))if("function"==typeof f){var s=f(t,o,r);i="string"==typeof s?s:""}else if(r&&r.hasOwnProperty(n))i="";else{if(p){i=o[0];continue}u.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(t)),i=""}else"string"==typeof i||u.useRawValueToEscape||(i=j(i));var c=e.safeValue(i);if(t=t.replace(o[0],c),p?(e.regex.lastIndex+=i.length,e.regex.lastIndex-=o[0].length):e.regex.lastIndex=0,++a>=u.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var n,r,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Q({},i);function u(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var r=t.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);t=r[0];var i=(o=this.interpolate(o,a)).match(/'/g),u=o.match(/"/g);(i&&i.length%2==0&&!u||u.length%2!=0)&&(o=o.replace(/'/g,'"'));try{a=JSON.parse(o),e&&(a=Q(Q({},e),a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(o)}return delete a.defaultValue,t}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(t);){var s=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(t){return t.trim()}));n[1]=l.shift(),s=l,c=!0}if((r=e(u.call(this,n[1].trim(),a),a))&&n[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=j(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),r=""),c&&(r=s.reduce((function(t,e){return o.format(t,e,i.lng,Q(Q({},i),{},{interpolationkey:n[1].trim()}))}),r.trim())),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}]),t}();function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){(0,v.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rt(t){var e={};return function(n,r,o){var i=r+JSON.stringify(o),a=e[i];return a||(a=t(r,o),e[i]=a),a(n)}}var ot=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.Z)(this,t),this.logger=O.create("formatter"),this.options=e,this.formats={number:rt((function(t,e){var n=new Intl.NumberFormat(t,e);return function(t){return n.format(t)}})),currency:rt((function(t,e){var n=new Intl.NumberFormat(t,nt(nt({},e),{},{style:"currency"}));return function(t){return n.format(t)}})),datetime:rt((function(t,e){var n=new Intl.DateTimeFormat(t,nt({},e));return function(t){return n.format(t)}})),relativetime:rt((function(t,e){var n=new Intl.RelativeTimeFormat(t,nt({},e));return function(t){return n.format(t,e.range||"day")}})),list:rt((function(t,e){var n=new Intl.ListFormat(t,nt({},e));return function(t){return n.format(t)}}))},this.init(e)}return(0,c.Z)(t,[{key:"init",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||","}},{key:"add",value:function(t,e){this.formats[t.toLowerCase().trim()]=e}},{key:"addCached",value:function(t,e){this.formats[t.toLowerCase().trim()]=rt(e)}},{key:"format",value:function(t,e,n,r){var o=this;return e.split(this.formatSeparator).reduce((function(t,e){var i=function(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);"currency"===e&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===e&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((function(t){if(t){var e=(i=t.split(":"),(0,y.Z)(i)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||(0,m.Z)(i)||(0,g.Z)()),r=e[0],o=e.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=o),"false"===o&&(n[r.trim()]=!1),"true"===o&&(n[r.trim()]=!0),isNaN(o)||(n[r.trim()]=parseInt(o,10))}var i}))}return{formatName:e,formatOptions:n}}(e),a=i.formatName,u=i.formatOptions;if(o.formats[a]){var s=t;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=c.locale||c.lng||r.locale||r.lng||n;s=o.formats[a](t,l,nt(nt(nt({},u),r),c))}catch(t){o.logger.warn(t)}return s}return o.logger.warn("there was no format function for ".concat(a)),t}),t)}}]),t}();function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){(0,v.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ut=function(t){p(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h(this,t)});function o(t,e,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,s.Z)(this,o),i=r.call(this),N&&E.call((0,l.Z)(i)),i.backend=t,i.store=e,i.services=n,i.languageUtils=n.languageUtils,i.options=a,i.logger=O.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=a.maxParallelReads||10,i.readingCalls=0,i.maxRetries=a.maxRetries>=0?a.maxRetries:5,i.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(n,a.backend,a),i}return(0,c.Z)(o,[{key:"queueLoad",value:function(t,e,n,r){var o=this,i={},a={},u={},s={};return t.forEach((function(t){var r=!0;e.forEach((function(e){var u="".concat(t,"|").concat(e);!n.reload&&o.store.hasResourceBundle(t,e)?o.state[u]=2:o.state[u]<0||(1===o.state[u]?void 0===a[u]&&(a[u]=!0):(o.state[u]=1,r=!1,void 0===a[u]&&(a[u]=!0),void 0===i[u]&&(i[u]=!0),void 0===s[e]&&(s[e]=!0)))})),r||(u[t]=!0)})),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(s)}}},{key:"loaded",value:function(t,e,n){var r=t.split("|"),o=r[0],i=r[1];e&&this.emit("failedLoading",o,i,e),n&&this.store.addResourceBundle(o,i,n),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(n){var r,u,s,c,l;r=n.loaded,u=i,(c=(s=x(r,[o],Object)).obj)[l=s.k]=c[l]||[],c[l].push(u),function(t,e){void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)}(n,t),e&&n.errors.push(e),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(t){a[t]||(a[t]={});var e=n.loaded[t];e.length&&e.forEach((function(e){void 0===a[t][e]&&(a[t][e]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;return t.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:t,ns:e,fcName:n,tried:o,wait:i,callback:a}):(this.readingCalls++,this.backend[n](t,e,(function(u,s){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}u&&s&&o<r.maxRetries?setTimeout((function(){r.read.call(r,t,e,n,o+1,2*i,a)}),i):a(u,s)}))):a(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var i=this.queueLoad(t,e,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(function(r,a){r&&e.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&e.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),e.loaded(t,r,a)}))}},{key:"saveMissing",value:function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,at(at({},i),{},{isUpdate:o})),t&&t[0]&&this.store.addResource(t[0],e,n,r))}}]),o}(E);function st(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){(0,v.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ft(){}var pt=function(t){p(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h(this,t)});function o(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,s.Z)(this,o),t=r.call(this),N&&E.call((0,l.Z)(t)),t.options=st(n),t.services={},t.logger=O,t.modules={external:[]},e=(0,l.Z)(t),Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))})),i&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,i),h(t,(0,l.Z)(t));setTimeout((function(){t.init(n,i)}),0)}return t}return(0,c.Z)(o,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(n=e,e={}),!e.defaultNS&&!1!==e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var r={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===(0,u.Z)(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===(0,u.Z)(t[2])||"object"===(0,u.Z)(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,r){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function o(t){return t?"function"==typeof t?new t:t:null}if(this.options=lt(lt(lt({},r),this.options),st(e)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=lt(lt({},r.interpolation),this.options.interpolation)),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){var i;this.modules.logger?O.init(o(this.modules.logger),this.options):O.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=ot);var a=new $(this.options);this.store=new B(this.options.resources,this.options);var s=this.services;s.logger=O,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new J(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=o(i),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new tt(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new ut(o(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(s.languageDetector=o(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=o(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new G(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.format=this.options.interpolation.format,n||(n=ft),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}}));var l=_(),f=function(){var e=function(e,r){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),l.resolve(r),n(e,r)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),l}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft,r="string"==typeof t?t:this.language;if("function"==typeof t&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var o=[],i=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){o.indexOf(t)<0&&o.push(t)}))};r?i(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(t){return i(t)})),this.options.preload&&this.options.preload.forEach((function(t){return i(t)})),this.services.backendConnector.load(o,this.options.ns,(function(t){t||e.resolvedLanguage||!e.language||e.setResolvedLanguage(e.language),n(t)}))}else n(null)}},{key:"reloadResources",value:function(t,e,n){var r=_();return t||(t=this.languages),e||(e=this.options.ns),n||(n=ft),this.services.backendConnector.reload(t,e,(function(t){r.resolve(),n(t)})),r}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&F.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"setResolvedLanguage",value:function(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(var e=0;e<this.languages.length;e++){var n=this.languages[e];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var r=_();this.emit("languageChanging",t);var o=function(t){n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.resolvedLanguage=void 0,n.setResolvedLanguage(t)},i=function(i){t||i||!n.services.languageDetector||(i=[]);var a="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);a&&(n.language||o(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(t){!function(t,i){i?(o(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,a)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e,n){var r=this,o=function t(e,o){var i;if("object"!==(0,u.Z)(o)){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];i=r.options.overloadTranslationOptionHandler([e,o].concat(s))}else i=lt({},o);i.lng=i.lng||t.lng,i.lngs=i.lngs||t.lngs,i.ns=i.ns||t.ns,i.keyPrefix=i.keyPrefix||n||t.keyPrefix;var l=r.options.keySeparator||".",f=i.keyPrefix?"".concat(i.keyPrefix).concat(l).concat(e):e;return r.t(f,i)};return"string"==typeof t?o.lng=t:o.lngs=t,o.ns=e,o.keyPrefix=n,o}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};if(n.precheck){var u=n.precheck(this,a);if(void 0!==u)return u}return!(!this.hasResourceBundle(r,t)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(r,t)||o&&!a(i,t)))}},{key:"loadNamespaces",value:function(t,e){var n=this,r=_();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=_();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],o=t.filter((function(t){return r.indexOf(t)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft,r=lt(lt(lt({},this.options),e),{isClone:!0}),i=new o(r);return void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e)),["store","services","language"].forEach((function(e){i[e]=t[e]})),i.services=lt({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new G(i.services,i.options),i.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))})),i.init(r,n),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),o}(E);(0,v.Z)(pt,"createInstance",(function(){return new pt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var ht=pt.createInstance();ht.createInstance=pt.createInstance,ht.createInstance,ht.init,ht.loadResources,ht.reloadResources,ht.use,ht.changeLanguage,ht.getFixedT,ht.t,ht.exists,ht.setDefaultNamespace,ht.hasLoadedNamespace,ht.loadNamespaces,ht.loadLanguages;const dt=ht;function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yt=dt.default||dt;function mt(t,e,n,r){return yt.t(e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){vt(t,e,n[e])}))}return t}({ns:t,defaultValue:n},r))}function gt(t,e,n){return a[t]?mt("core",t,null!=e?e:a[t],n):(console.error("O3 Core Translations does not provide key '".concat(t,"'. The key itself is being rendered as text.")),t)}yt.on("initialized",(function(){window.i18next.loadNamespaces(["core"])}))},4507:()=>{function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}System.register(["dayjs"],(function(n,u){var s={};return{setters:[function(t){s.default=t.default}],execute:function(){n(function(){var n={332:function(t){t.exports=function(){"use strict";return function(t,e,n){e.prototype.isToday=function(){var t="YYYY-MM-DD",e=n();return this.format(t)===e.format(t)}}}()},14:function(t){t.exports=function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,o,i){var a=o.prototype;i.utc=function(t){return new o({date:t,utc:!0,args:arguments})},a.utc=function(e){var n=i(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},a.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var u=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),u.call(this,t)};var s=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else s.call(this)};var c=a.utcOffset;a.utcOffset=function(r,o){var i=this.$utils().u;if(i(r))return this.$u?0:i(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(t){void 0===t&&(t="");var r=t.match(e);if(!r)return null;var o=(""+r[0]).match(n)||["-",0,0],i=o[0],a=60*+o[1]+ +o[2];return 0===a?0:"+"===i?a:-a}(r),null===r))return this;var a=Math.abs(r)<=16?60*r:r,u=this;if(o)return u.$offset=a,u.$u=0===r,u;if(0!==r){var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(u=this.local().add(a+s,t)).$offset=a,u.$x.$localOffset=s}else u=this.utc();return u};var l=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var f=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var p=a.diff;a.diff=function(t,e,n){if(t&&this.$u===t.$u)return p.call(this,t,e,n);var r=this.local(),o=i(t).local();return p.call(r,o,e,n)}}}()},257:function(t,n,i){var a=Symbol("SemVer ANY"),u=function(){"use strict";function t(n,r){if(e(this,t),r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),o(n,t)){if(n.loose===!!r.loose)return n;n=n.value}p("comparator",n,r),this.options=r,this.loose=!!r.loose,this.parse(n),this.semver===a?this.value="":this.value=this.operator+this.semver.version,p("comp",this)}return r(t,[{key:"parse",value:function(t){var e=this.options.loose?c[l.COMPARATORLOOSE]:c[l.COMPARATOR],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: ".concat(t));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new h(n[2],this.options.loose):this.semver=a}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(t){if(p("Comparator.test",t,this.options.loose),this.semver===a||t===a)return!0;if("string"==typeof t)try{t=new h(t,this.options)}catch(t){return!1}return f(t,this.operator,this.semver,this.options)}},{key:"intersects",value:function(e,n){if(!o(e,t))throw new TypeError("a Comparator is required");if(n&&"object"==typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new d(e.value,n).test(this.value);if(""===e.operator)return""===e.value||new d(this.value,n).test(e.semver);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,u=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=f(this.semver,"<",e.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=f(this.semver,">",e.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||a&&u||s||c}}],[{key:"ANY",get:function(){return a}}]),t}();t.exports=u;var s=i(765),c=s.re,l=s.t,f=i(539),p=i(225),h=i(376),d=i(902)},902:function(t,n,i){var a=function(){"use strict";function t(n,r){var i=this;if(e(this,t),r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),o(n,t))return n.loose===!!r.loose&&n.includePrerelease===!!r.includePrerelease?n:new t(n.raw,r);if(o(n,u))return this.raw=n.value,this.set=[[n]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=n,this.set=n.split(/\s*\|\|\s*/).map((function(t){return i.parseRange(t.trim())})).filter((function(t){return t.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(n));this.format()}return r(t,[{key:"format",value:function(){return this.range=this.set.map((function(t){return t.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(t){var e=this,n=this.options.loose;t=t.trim();var r=n?f[p.HYPHENRANGELOOSE]:f[p.HYPHENRANGE];t=t.replace(r,P(this.options.includePrerelease)),s("hyphen replace",t),t=t.replace(f[p.COMPARATORTRIM],h),s("comparator trim",t,f[p.COMPARATORTRIM]),t=(t=(t=t.replace(f[p.TILDETRIM],d)).replace(f[p.CARETTRIM],v)).split(/\s+/).join(" ");var o=n?f[p.COMPARATORLOOSE]:f[p.COMPARATOR];return t.split(" ").map((function(t){return m(t,e.options)})).join(" ").split(/\s+/).map((function(t){return x(t,e.options)})).filter(this.options.loose?function(t){return!!t.match(o)}:function(){return!0}).map((function(t){return new u(t,e.options)}))}},{key:"intersects",value:function(e,n){if(!o(e,t))throw new TypeError("a Range is required");return this.set.some((function(t){return y(t,n)&&e.set.some((function(e){return y(e,n)&&t.every((function(t){return e.every((function(e){return t.intersects(e,n)}))}))}))}))}},{key:"test",value:function(t){if(!t)return!1;if("string"==typeof t)try{t=new c(t,this.options)}catch(t){return!1}for(var e=0;e<this.set.length;e++)if(k(this.set[e],t,this.options))return!0;return!1}}]),t}();t.exports=a;var u=i(257),s=i(225),c=i(376),l=i(765),f=l.re,p=l.t,h=l.comparatorTrimReplace,d=l.tildeTrimReplace,v=l.caretTrimReplace,y=function(t,e){for(var n=!0,r=t.slice(),o=r.pop();n&&r.length;)n=r.every((function(t){return o.intersects(t,e)})),o=r.pop();return n},m=function(t,e){return s("comp",t,e),t=S(t,e),s("caret",t),t=b(t,e),s("tildes",t),t=E(t,e),s("xrange",t),t=j(t,e),s("stars",t),t},g=function(t){return!t||"x"===t.toLowerCase()||"*"===t},b=function(t,e){return t.trim().split(/\s+/).map((function(t){return w(t,e)})).join(" ")},w=function(t,e){var n=e.loose?f[p.TILDELOOSE]:f[p.TILDE];return t.replace(n,(function(e,n,r,o,i){var a;return s("tilde",t,e,n,r,o,i),g(n)?a="":g(r)?a=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):g(o)?a=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):i?(s("replaceTilde pr",i),a=">=".concat(n,".").concat(r,".").concat(o,"-").concat(i," <").concat(n,".").concat(+r+1,".0-0")):a=">=".concat(n,".").concat(r,".").concat(o," <").concat(n,".").concat(+r+1,".0-0"),s("tilde return",a),a}))},S=function(t,e){return t.trim().split(/\s+/).map((function(t){return O(t,e)})).join(" ")},O=function(t,e){s("caret",t,e);var n=e.loose?f[p.CARETLOOSE]:f[p.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(function(e,n,o,i,a){var u;return s("caret",t,e,n,o,i,a),g(n)?u="":g(o)?u=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):g(i)?u="0"===n?">=".concat(n,".").concat(o,".0").concat(r," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".0").concat(r," <").concat(+n+1,".0.0-0"):a?(s("replaceCaret pr",a),u="0"===n?"0"===o?">=".concat(n,".").concat(o,".").concat(i,"-").concat(a," <").concat(n,".").concat(o,".").concat(+i+1,"-0"):">=".concat(n,".").concat(o,".").concat(i,"-").concat(a," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".").concat(i,"-").concat(a," <").concat(+n+1,".0.0-0")):(s("no pr"),u="0"===n?"0"===o?">=".concat(n,".").concat(o,".").concat(i).concat(r," <").concat(n,".").concat(o,".").concat(+i+1,"-0"):">=".concat(n,".").concat(o,".").concat(i).concat(r," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".").concat(i," <").concat(+n+1,".0.0-0")),s("caret return",u),u}))},E=function(t,e){return s("replaceXRanges",t,e),t.split(/\s+/).map((function(t){return _(t,e)})).join(" ")},_=function(t,e){t=t.trim();var n=e.loose?f[p.XRANGELOOSE]:f[p.XRANGE];return t.replace(n,(function(n,r,o,i,a,u){s("xRange",t,n,r,o,i,a,u);var c=g(o),l=c||g(i),f=l||g(a),p=f;return"="===r&&p&&(r=""),u=e.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(i=0),a=0,">"===r?(r=">=",l?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(u="-0"),n="".concat(r+o,".").concat(i,".").concat(a).concat(u)):l?n=">=".concat(o,".0.0").concat(u," <").concat(+o+1,".0.0-0"):f&&(n=">=".concat(o,".").concat(i,".0").concat(u," <").concat(o,".").concat(+i+1,".0-0")),s("xRange return",n),n}))},j=function(t,e){return s("replaceStars",t,e),t.trim().replace(f[p.STAR],"")},x=function(t,e){return s("replaceGTE0",t,e),t.trim().replace(f[e.includePrerelease?p.GTE0PRE:p.GTE0],"")},P=function(t){return function(e,n,r,o,i,a,u,s,c,l,f,p,h){return"".concat(n=g(r)?"":g(o)?">=".concat(r,".0.0").concat(t?"-0":""):g(i)?">=".concat(r,".").concat(o,".0").concat(t?"-0":""):a?">=".concat(n):">=".concat(n).concat(t?"-0":"")," ").concat(s=g(c)?"":g(l)?"<".concat(+c+1,".0.0-0"):g(f)?"<".concat(c,".").concat(+l+1,".0-0"):p?"<=".concat(c,".").concat(l,".").concat(f,"-").concat(p):t?"<".concat(c,".").concat(l,".").concat(+f+1,"-0"):"<=".concat(s)).trim()}},k=function(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(var o=0;o<t.length;o++)if(s(t[o].semver),t[o].semver!==u.ANY&&t[o].semver.prerelease.length>0){var i=t[o].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}},376:function(t,n,i){var a=i(225),u=i(295),s=u.MAX_LENGTH,c=u.MAX_SAFE_INTEGER,l=i(765),f=l.re,p=l.t,h=i(742).compareIdentifiers,d=function(){"use strict";function t(n,r){if(e(this,t),r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),o(n,t)){if(n.loose===!!r.loose&&n.includePrerelease===!!r.includePrerelease)return n;n=n.version}else if("string"!=typeof n)throw new TypeError("Invalid Version: ".concat(n));if(n.length>s)throw new TypeError("version is longer than ".concat(s," characters"));a("SemVer",n,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;var i=n.trim().match(r.loose?f[p.LOOSE]:f[p.FULL]);if(!i)throw new TypeError("Invalid Version: ".concat(n));if(this.raw=n,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>c||this.major<0)throw new TypeError("Invalid major version");if(this.minor>c||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>c||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<c)return e}return t})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}return r(t,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(e){if(a("SemVer.compare",this.version,this.options,e),!o(e,t)){if("string"==typeof e&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}},{key:"compareMain",value:function(e){return o(e,t)||(e=new t(e,this.options)),h(this.major,e.major)||h(this.minor,e.minor)||h(this.patch,e.patch)}},{key:"comparePre",value:function(e){if(o(e,t)||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=e.prerelease[n];if(a("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return h(r,i)}while(++n)}},{key:"compareBuild",value:function(e){o(e,t)||(e=new t(e,this.options));var n=0;do{var r=this.build[n],i=e.build[n];if(a("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return h(r,i)}while(++n)}},{key:"inc",value:function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: ".concat(t))}return this.format(),this.raw=this.version,this}}]),t}();t.exports=d},507:function(t,e,n){var r=n(959);t.exports=function(t,e){var n=r(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}},539:function(t,e,n){var r=n(718),o=n(194),i=n(312),a=n(903),u=n(544),s=n(56);t.exports=function(t,e,n,c){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t===n;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return r(t,n,c);case"!=":return o(t,n,c);case">":return i(t,n,c);case">=":return a(t,n,c);case"<":return u(t,n,c);case"<=":return s(t,n,c);default:throw new TypeError("Invalid operator: ".concat(e))}}},38:function(t,e,n){var r=n(376),i=n(959),a=n(765),u=a.re,s=a.t;t.exports=function(t,e){if(o(t,r))return t;if("number"==typeof t&&(t=String(t)),"string"!=typeof t)return null;var n=null;if((e=e||{}).rtl){for(var a;(a=u[s.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)n&&a.index+a[0].length===n.index+n[0].length||(n=a),u[s.COERCERTL].lastIndex=a.index+a[1].length+a[2].length;u[s.COERCERTL].lastIndex=-1}else n=t.match(u[s.COERCE]);return null===n?null:i("".concat(n[2],".").concat(n[3]||"0",".").concat(n[4]||"0"),e)}},773:function(t,e,n){var r=n(376);t.exports=function(t,e,n){var o=new r(t,n),i=new r(e,n);return o.compare(i)||o.compareBuild(i)}},880:function(t,e,n){var r=n(269);t.exports=function(t,e){return r(t,e,!0)}},269:function(t,e,n){var r=n(376);t.exports=function(t,e,n){return new r(t,n).compare(new r(e,n))}},378:function(t,e,n){var r=n(959),o=n(718);t.exports=function(t,e){if(o(t,e))return null;var n=r(t),i=r(e),a=n.prerelease.length||i.prerelease.length,u=a?"pre":"",s=a?"prerelease":"";for(var c in n)if(("major"===c||"minor"===c||"patch"===c)&&n[c]!==i[c])return u+c;return s}},718:function(t,e,n){var r=n(269);t.exports=function(t,e,n){return 0===r(t,e,n)}},312:function(t,e,n){var r=n(269);t.exports=function(t,e,n){return r(t,e,n)>0}},903:function(t,e,n){var r=n(269);t.exports=function(t,e,n){return r(t,e,n)>=0}},253:function(t,e,n){var r=n(376);t.exports=function(t,e,n,o){"string"==typeof n&&(o=n,n=void 0);try{return new r(t,n).inc(e,o).version}catch(t){return null}}},544:function(t,e,n){var r=n(269);t.exports=function(t,e,n){return r(t,e,n)<0}},56:function(t,e,n){var r=n(269);t.exports=function(t,e,n){return r(t,e,n)<=0}},679:function(t,e,n){var r=n(376);t.exports=function(t,e){return new r(t,e).major}},789:function(t,e,n){var r=n(376);t.exports=function(t,e){return new r(t,e).minor}},194:function(t,e,n){var r=n(269);t.exports=function(t,e,n){return 0!==r(t,e,n)}},959:function(t,e,n){var r=n(295).MAX_LENGTH,i=n(765),a=i.re,u=i.t,s=n(376);t.exports=function(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),o(t,s))return t;if("string"!=typeof t)return null;if(t.length>r)return null;if(!(e.loose?a[u.LOOSE]:a[u.FULL]).test(t))return null;try{return new s(t,e)}catch(t){return null}}},358:function(t,e,n){var r=n(376);t.exports=function(t,e){return new r(t,e).patch}},559:function(t,e,n){var r=n(959);t.exports=function(t,e){var n=r(t,e);return n&&n.prerelease.length?n.prerelease:null}},795:function(t,e,n){var r=n(269);t.exports=function(t,e,n){return r(e,t,n)}},657:function(t,e,n){var r=n(773);t.exports=function(t,e){return t.sort((function(t,n){return r(n,t,e)}))}},712:function(t,e,n){var r=n(902);t.exports=function(t,e,n){try{e=new r(e,n)}catch(t){return!1}return e.test(t)}},100:function(t,e,n){var r=n(773);t.exports=function(t,e){return t.sort((function(t,n){return r(t,n,e)}))}},397:function(t,e,n){var r=n(959);t.exports=function(t,e){var n=r(t,e);return n?n.version:null}},249:function(t,e,n){var r=n(765);t.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(295).SEMVER_SPEC_VERSION,SemVer:n(376),compareIdentifiers:n(742).compareIdentifiers,rcompareIdentifiers:n(742).rcompareIdentifiers,parse:n(959),valid:n(397),clean:n(507),inc:n(253),diff:n(378),major:n(679),minor:n(789),patch:n(358),prerelease:n(559),compare:n(269),rcompare:n(795),compareLoose:n(880),compareBuild:n(773),sort:n(100),rsort:n(657),gt:n(312),lt:n(544),eq:n(718),neq:n(194),gte:n(903),lte:n(56),cmp:n(539),coerce:n(38),Comparator:n(257),Range:n(902),satisfies:n(712),toComparators:n(42),maxSatisfying:n(775),minSatisfying:n(649),minVersion:n(316),validRange:n(230),outside:n(826),gtr:n(606),ltr:n(32),intersects:n(937),simplifyRange:n(908),subset:n(799)}},295:function(t){var e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:e,MAX_SAFE_COMPONENT_LENGTH:16}},225:function(e){var n,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=console).error.apply(n,["SEMVER"].concat(function(e){if(Array.isArray(e))return t(e)}(i=r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||a(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var i}:function(){};e.exports=r},742:function(t){var e=/^[0-9]+$/,n=function(t,n){var r=e.test(t),o=e.test(n);return r&&o&&(t=+t,n=+n),t===n?0:r&&!o?-1:o&&!r?1:t<n?-1:1};t.exports={compareIdentifiers:n,rcompareIdentifiers:function(t,e){return n(e,t)}}},765:function(t,e,n){var r=n(295).MAX_SAFE_COMPONENT_LENGTH,o=n(225),i=(e=t.exports={}).re=[],a=e.src=[],u=e.t={},s=0,c=function(t,e,n){var r=s++;o(r,e),u[t]=r,a[r]=e,i[r]=new RegExp(e,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION","(".concat(a[u.NUMERICIDENTIFIER],")\\.(").concat(a[u.NUMERICIDENTIFIER],")\\.(").concat(a[u.NUMERICIDENTIFIER],")")),c("MAINVERSIONLOOSE","(".concat(a[u.NUMERICIDENTIFIERLOOSE],")\\.(").concat(a[u.NUMERICIDENTIFIERLOOSE],")\\.(").concat(a[u.NUMERICIDENTIFIERLOOSE],")")),c("PRERELEASEIDENTIFIER","(?:".concat(a[u.NUMERICIDENTIFIER],"|").concat(a[u.NONNUMERICIDENTIFIER],")")),c("PRERELEASEIDENTIFIERLOOSE","(?:".concat(a[u.NUMERICIDENTIFIERLOOSE],"|").concat(a[u.NONNUMERICIDENTIFIER],")")),c("PRERELEASE","(?:-(".concat(a[u.PRERELEASEIDENTIFIER],"(?:\\.").concat(a[u.PRERELEASEIDENTIFIER],")*))")),c("PRERELEASELOOSE","(?:-?(".concat(a[u.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(a[u.PRERELEASEIDENTIFIERLOOSE],")*))")),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD","(?:\\+(".concat(a[u.BUILDIDENTIFIER],"(?:\\.").concat(a[u.BUILDIDENTIFIER],")*))")),c("FULLPLAIN","v?".concat(a[u.MAINVERSION]).concat(a[u.PRERELEASE],"?").concat(a[u.BUILD],"?")),c("FULL","^".concat(a[u.FULLPLAIN],"$")),c("LOOSEPLAIN","[v=\\s]*".concat(a[u.MAINVERSIONLOOSE]).concat(a[u.PRERELEASELOOSE],"?").concat(a[u.BUILD],"?")),c("LOOSE","^".concat(a[u.LOOSEPLAIN],"$")),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE","".concat(a[u.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),c("XRANGEIDENTIFIER","".concat(a[u.NUMERICIDENTIFIER],"|x|X|\\*")),c("XRANGEPLAIN","[v=\\s]*(".concat(a[u.XRANGEIDENTIFIER],")(?:\\.(").concat(a[u.XRANGEIDENTIFIER],")(?:\\.(").concat(a[u.XRANGEIDENTIFIER],")(?:").concat(a[u.PRERELEASE],")?").concat(a[u.BUILD],"?)?)?")),c("XRANGEPLAINLOOSE","[v=\\s]*(".concat(a[u.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(a[u.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(a[u.XRANGEIDENTIFIERLOOSE],")(?:").concat(a[u.PRERELEASELOOSE],")?").concat(a[u.BUILD],"?)?)?")),c("XRANGE","^".concat(a[u.GTLT],"\\s*").concat(a[u.XRANGEPLAIN],"$")),c("XRANGELOOSE","^".concat(a[u.GTLT],"\\s*").concat(a[u.XRANGEPLAINLOOSE],"$")),c("COERCE","(^|[^\\d])(\\d{1,".concat(r,"})(?:\\.(\\d{1,").concat(r,"}))?(?:\\.(\\d{1,").concat(r,"}))?(?:$|[^\\d])")),c("COERCERTL",a[u.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM","(\\s*)".concat(a[u.LONETILDE],"\\s+"),!0),e.tildeTrimReplace="$1~",c("TILDE","^".concat(a[u.LONETILDE]).concat(a[u.XRANGEPLAIN],"$")),c("TILDELOOSE","^".concat(a[u.LONETILDE]).concat(a[u.XRANGEPLAINLOOSE],"$")),c("LONECARET","(?:\\^)"),c("CARETTRIM","(\\s*)".concat(a[u.LONECARET],"\\s+"),!0),e.caretTrimReplace="$1^",c("CARET","^".concat(a[u.LONECARET]).concat(a[u.XRANGEPLAIN],"$")),c("CARETLOOSE","^".concat(a[u.LONECARET]).concat(a[u.XRANGEPLAINLOOSE],"$")),c("COMPARATORLOOSE","^".concat(a[u.GTLT],"\\s*(").concat(a[u.LOOSEPLAIN],")$|^$")),c("COMPARATOR","^".concat(a[u.GTLT],"\\s*(").concat(a[u.FULLPLAIN],")$|^$")),c("COMPARATORTRIM","(\\s*)".concat(a[u.GTLT],"\\s*(").concat(a[u.LOOSEPLAIN],"|").concat(a[u.XRANGEPLAIN],")"),!0),e.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE","^\\s*(".concat(a[u.XRANGEPLAIN],")\\s+-\\s+(").concat(a[u.XRANGEPLAIN],")\\s*$")),c("HYPHENRANGELOOSE","^\\s*(".concat(a[u.XRANGEPLAINLOOSE],")\\s+-\\s+(").concat(a[u.XRANGEPLAINLOOSE],")\\s*$")),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},606:function(t,e,n){var r=n(826);t.exports=function(t,e,n){return r(t,e,">",n)}},937:function(t,e,n){var r=n(902);t.exports=function(t,e,n){return t=new r(t,n),e=new r(e,n),t.intersects(e)}},32:function(t,e,n){var r=n(826);t.exports=function(t,e,n){return r(t,e,"<",n)}},775:function(t,e,n){var r=n(376),o=n(902);t.exports=function(t,e,n){var i=null,a=null,u=null;try{u=new o(e,n)}catch(t){return null}return t.forEach((function(t){u.test(t)&&(i&&-1!==a.compare(t)||(a=new r(i=t,n)))})),i}},649:function(t,e,n){var r=n(376),o=n(902);t.exports=function(t,e,n){var i=null,a=null,u=null;try{u=new o(e,n)}catch(t){return null}return t.forEach((function(t){u.test(t)&&(i&&1!==a.compare(t)||(a=new r(i=t,n)))})),i}},316:function(t,e,n){var r=n(376),o=n(902),i=n(312);t.exports=function(t,e){t=new o(t,e);var n=new r("0.0.0");if(t.test(n))return n;if(n=new r("0.0.0-0"),t.test(n))return n;n=null;for(var a=0;a<t.set.length;++a)t.set[a].forEach((function(t){var e=new r(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":n&&!i(n,e)||(n=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(t.operator))}}));return n&&t.test(n)?n:null}},826:function(t,e,n){var r=n(376),o=n(257),i=o.ANY,a=n(902),u=n(712),s=n(312),c=n(544),l=n(56),f=n(903);t.exports=function(t,e,n,p){var h,d,v,y,m,g,b=function(n){var r=e.set[n],a=null,u=null;return r.forEach((function(t){t.semver===i&&(t=new o(">=0.0.0")),a=a||t,u=u||t,h(t.semver,a.semver,p)?a=t:v(t.semver,u.semver,p)&&(u=t)})),a.operator===y||a.operator===m?{v:!1}:u.operator&&u.operator!==y||!d(t,u.semver)?u.operator===m&&v(t,u.semver)?{v:!1}:void 0:{v:!1}};switch(t=new r(t,p),e=new a(e,p),n){case">":h=s,d=l,v=c,y=">",m=">=";break;case"<":h=c,d=f,v=s,y="<",m="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(u(t,e,p))return!1;for(var w=0;w<e.set.length;++w){var S=b(w);if("object"==((g=S)&&"undefined"!=typeof Symbol&&g.constructor===Symbol?"symbol":typeof g))return S.v}return!0}},908:function(t,e,n){var r=n(712),o=n(269);t.exports=function(t,e,n){var a=[],u=null,s=null,c=t.sort((function(t,e){return o(t,e,n)})),l=!0,f=!1,p=void 0;try{for(var h,d=c[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var v=h.value;r(v,e,n)?(s=v,u||(u=v)):(s&&a.push([u,s]),s=null,u=null)}}catch(t){f=!0,p=t}finally{try{l||null==d.return||d.return()}finally{if(f)throw p}}u&&a.push([u,null]);var y=[],m=!0,g=!1,b=void 0;try{for(var w,S=a[Symbol.iterator]();!(m=(w=S.next()).done);m=!0){var O=i(w.value,2),E=O[0],_=O[1];E===_?y.push(E):_||E!==c[0]?_?E===c[0]?y.push("<=".concat(_)):y.push("".concat(E," - ").concat(_)):y.push(">=".concat(E)):y.push("*")}}catch(t){g=!0,b=t}finally{try{m||null==S.return||S.return()}finally{if(g)throw b}}var j=y.join(" || "),x="string"==typeof e.raw?e.raw:String(e);return j.length<x.length?j:e}},799:function(t,e,n){var r=n(902),o=n(257).ANY,i=n(712),a=n(269),u=function(t,e,n){if(1===t.length&&t[0].semver===o)return 1===e.length&&e[0].semver===o;var r,u,l,f,p,h=new Set,d=!0,v=!1,y=void 0;try{for(var m,g=t[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var b=m.value;">"===b.operator||">="===b.operator?r=s(r,b,n):"<"===b.operator||"<="===b.operator?u=c(u,b,n):h.add(b.semver)}}catch(t){v=!0,y=t}finally{try{d||null==g.return||g.return()}finally{if(v)throw y}}if(h.size>1)return null;if(r&&u){if((l=a(r.semver,u.semver,n))>0)return null;if(0===l&&(">="!==r.operator||"<="!==u.operator))return null}var w=!0,S=!1,O=void 0;try{for(var E,_=h[Symbol.iterator]();!(w=(E=_.next()).done);w=!0){var j=E.value;if(r&&!i(j,String(r),n))return null;if(u&&!i(j,String(u),n))return null;var x=!0,P=!1,k=void 0;try{for(var A,C=e[Symbol.iterator]();!(x=(A=C.next()).done);x=!0){var T=A.value;if(!i(j,String(T),n))return!1}}catch(t){P=!0,k=t}finally{try{x||null==C.return||C.return()}finally{if(P)throw k}}return!0}}catch(t){S=!0,O=t}finally{try{w||null==_.return||_.return()}finally{if(S)throw O}}var I=!0,D=!1,N=void 0;try{for(var R,L=e[Symbol.iterator]();!(I=(R=L.next()).done);I=!0){var M=R.value;if(p=p||">"===M.operator||">="===M.operator,f=f||"<"===M.operator||"<="===M.operator,r)if(">"===M.operator||">="===M.operator){if(s(r,M,n)===M)return!1}else if(">="===r.operator&&!i(r.semver,String(M),n))return!1;if(u)if("<"===M.operator||"<="===M.operator){if(c(u,M,n)===M)return!1}else if("<="===u.operator&&!i(u.semver,String(M),n))return!1;if(!M.operator&&(u||r)&&0!==l)return!1}}catch(t){D=!0,N=t}finally{try{I||null==L.return||L.return()}finally{if(D)throw N}}return!(r&&f&&!u&&0!==l||u&&p&&!r&&0!==l)},s=function(t,e,n){if(!t)return e;var r=a(t.semver,e.semver,n);return r>0?t:r<0||">"===e.operator&&">="===t.operator?e:t},c=function(t,e,n){if(!t)return e;var r=a(t.semver,e.semver,n);return r<0?t:r>0||"<"===e.operator&&"<="===t.operator?e:t};t.exports=function(t,e,n){t=new r(t,n),e=new r(e,n);var o=!1,i=!0,a=!1,s=void 0;try{t:for(var c,l=t.set[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var f=c.value,p=!0,h=!1,d=void 0;try{for(var v,y=e.set[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var m=v.value,g=u(f,m,n);if(o=o||null!==g,g)continue t}}catch(t){h=!0,d=t}finally{try{p||null==y.return||y.return()}finally{if(h)throw d}}if(o)return!1}}catch(t){a=!0,s=t}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}return!0}},42:function(t,e,n){var r=n(902);t.exports=function(t,e){return new r(t,e).set.map((function(t){return t.map((function(t){return t.value})).join(" ").trim().split(" ")}))}},230:function(t,e,n){var r=n(902);t.exports=function(t,e){try{return new r(t,e).range||"*"}catch(t){return null}}},688:function(t){"use strict";t.exports=s}},u={};function c(t){var e=u[t];if(void 0!==e)return e.exports;var r=u[t]={exports:{}};return n[t].call(r.exports,r,r.exports,c),r.exports}c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,{a:e}),e},c.d=function(t,e){for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var l={};return function(){"use strict";var t=function(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)},e=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},n=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(n){e(t,n,r[n])}))}return t},r=function(t){return null!=t&&28===t.trim().length&&"T"===(t=t.trim())[10]&&":"===t[13]&&":"===t[16]&&"."===t[19]&&("+"===t[23]||"-"===t[23])&&(0,R.default)(t,F).isValid()},i=function(t){return(0,R.default)(t).isToday()},a=function(t){return r(t)?(0,R.default)(t,F).toDate():null},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,R.default)(t);return e&&(n=n.utc()),n.format(F)},s=function(t){return(0,R.default)(t).format("HH:mm")},f=function(t){return R.default.utc(t).format("HH:mm A")},p=function(t){return d(t,"DD - MMM - YYYY")},h=function(t){return d(t,"DD-MMM")},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MMM-DD";return(0,R.default)(t).format(e)},v=function(t){return(0,R.default)(t).toDate()},y=function(t,e){K.register(t,e)},m=function(t){var e,n,r=null!=t?t:S();return K.getCalendar((e=r,(null!=(n=Intl.Locale)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](e):o(e,n))?r:new Intl.Locale(r)))},g=function(t,e){var r,o=S(),i=new Intl.Locale(o),a=n({},H,{noToday:"am"===i.language},e),u=a.calendar,s=a.mode,c=a.time,l=a.day,f=a.year,p=a.noToday,h={calendar:null!=u?u:m(i),year:f?"numeric":void 0,month:"short",day:l?"2-digit":void 0},d=(0,R.default)(t).isToday();if(d&&!p)r=(r=new Intl.RelativeTimeFormat(o,{numeric:"auto"}).format(0,"day"))[0].toLocaleUpperCase(o)+r.slice(1);else{"en"===i.language&&(o="en-GB");var v=new Intl.DateTimeFormat(o,h).formatToParts(t);("en"===i.language||"am"===i.language)&&"standard"==s&&f&&l&&(v=v.map(G("-"))),"wide"==s&&(v=v.map(G(" — "))),"ethiopic"===h.calendar&&(v=v.filter((function(t,e,n){return!("era"===t.type||"literal"===t.type&&e<n.length-1&&"era"===n[e+1].type)}))),r=v.map((function(t){return t.value})).join("")}return(!0===c||d&&"for today"===c)&&(r+=", ".concat(b(t))),r},b=function(t){return t.toLocaleTimeString(S(),{hour:"2-digit",minute:"2-digit"})},w=function(t,e){return g(t,(r=n({},e),o=null!=(o={time:!0})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(o)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})),r));var r,o},S=function(){var t=window.i18next.language;return"ht"===(t=t.replace("_","-"))&&(t="fr-HT"),t},O=function(t){return(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())-Date.UTC(t.getUTCFullYear(),0,0))/24/60/60/1e3},E=function(t,e){var n=t.toISOString(),r=e.toISOString();return n.slice(0,n.indexOf("T"))===r.slice(0,r.indexOf("T"))},_=function(t){var e=new Date,n=new Date(t),r=e.getUTCMonth()-n.getUTCMonth(),o=e.getUTCDate()-n.getUTCDate(),i=e.getUTCFullYear()-n.getUTCFullYear();(r<0||0===r&&o<0)&&i--;var a=r>=0?r:r+12;o<0&&a--;var u=O(e)-O(n);u<0&&(u+=365);var s=Math.floor(u/7),c=S();return 0===i?E(e,n)?new Intl.RelativeTimeFormat(c,{numeric:"auto"}).format(0,"day"):u<31?new Intl.NumberFormat(c,{style:"unit",unit:"day",unitDisplay:"short"}).format(u):new Intl.NumberFormat(c,{style:"unit",unit:"week",unitDisplay:"short"}).format(s):i<2?new Intl.NumberFormat(c,{style:"unit",unit:"month",unitDisplay:"short"}).format(a+12):new Intl.NumberFormat(c,{style:"unit",unit:"year",unitDisplay:"short"}).format(i)},j=function(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);return n.length===r.length&&n.every((function(n){return t[n]===e[n]}))},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage;try{return t.getItem("test"),!0}catch(t){return!1}},P=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},k=function(t){var e,n=function(t){if(Array.isArray(t))return t}(e=t.split("."))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),3!==i.length);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(t,e){if(t){if("string"==typeof t)return P(t,3);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(t,3):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1],i=n[2];return"".concat(r,".").concat(o,".").concat(i)},A=function(t,e){var n=function(t){var e=t.indexOf("-");if(e>=0){var n=k(t.slice(0,e)),r=t.slice(e+1);return"".concat(n,"-").concat(r)}return k(t)}(e);return $.satisfies(n,t,{includePrerelease:!0})},C=function(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)},T=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){C(i,r,o,a,u,"next",t)}function u(t){C(i,r,o,a,u,"throw",t)}a(void 0)}))}},I=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},D=function(t){return z.apply(this,arguments)},N=function(t){return q.apply(this,arguments)};c.r(l),c.d(l,{age:function(){return _},canAccessStorage:function(){return x},daysIntoYear:function(){return O},formatDate:function(){return g},formatDatetime:function(){return w},formatTime:function(){return b},getDefaultCalendar:function(){return m},getDefaultsFromConfigSchema:function(){return W},getLocale:function(){return S},isOmrsDateStrict:function(){return r},isOmrsDateToday:function(){return i},isSameDay:function(){return E},isVersionSatisfied:function(){return A},parseDate:function(){return v},registerDefaultCalendar:function(){return y},retry:function(){return D},shallowEqual:function(){return j},toDateObjectStrict:function(){return a},toOmrsDateFormat:function(){return d},toOmrsDayDateFormat:function(){return p},toOmrsIsoString:function(){return u},toOmrsTimeString:function(){return f},toOmrsTimeString24:function(){return s},toOmrsYearlessDateFormat:function(){return h}});var R=c(688),L=c(14),M=c.n(L),U=c(332),B=c.n(U);R.default.extend(M()),R.default.extend(B());var F="YYYY-MM-DDTHH:mm:ss.SSSZZ",H={mode:"standard",time:"for today",day:!0,year:!0,noToday:!1},V=new WeakMap,K=new(function(){function e(){var n,r;!function(t,e){if(!o(t,e))throw new TypeError("Cannot call a class as a function")}(this,e),n=V,r={writable:!0,value:new Map},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(this,n),n.set(this,r),t(this,V).set("am","ethiopic")}var n;return(n=[{key:"register",value:function(e,n){t(this,V).set(e,n)}},{key:"getCalendar",value:function(e){if(Boolean(e)){if(e.calendar)return e.calendar;if(e.region){var n="".concat(e.language,"-").concat(e.region);if(t(this,V).has(n))return t(this,V).get(n)}if(e.language&&t(this,V).has(e.language))return t(this,V).get(e.language);var r=new Intl.DateTimeFormat(e.toString()).resolvedOptions().calendar;return t(this,V).set("".concat(e.language).concat(e.region?"-".concat(e.region):""),r),r}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}()),G=function(t){return function(e,n,r){return"literal"!==e.type||" "!==e.value||n<r.length-1&&"era"===r[n+1].type?e:{type:"literal",value:t}}};function W(t){var e,n={},r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;if(t[s].hasOwnProperty("_default"))n[s]=t[s]._default;else{if(s.startsWith("_"))continue;(e=t[s])&&e.constructor===Object?n[s]=W(t[s]):n[s]=t[s]}}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}var $=c(249);function z(){return z=T((function(t){var e,n,r,o,i,a,u,s=arguments;return I(this,(function(c){switch(c.label){case 0:n=(e=s.length>1&&void 0!==s[1]?s[1]:{}).shouldRetry,r=e.getDelay,o=e.onError,n=null!=n?n:function(t){return function(t,e){return t<=5}(t)},r=null!=r?r:function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t+1:t;return e*Math.pow(2,n)}(t,1e3)},i=0,a=void 0,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,N(r(i))];case 2:return c.sent(),[4,t()];case 3:return[2,c.sent()];case 4:return u=c.sent(),null==o||o(u,i),a=u,[3,5];case 5:if(n(i++))return[3,1];c.label=6;case 6:throw a}}))})),z.apply(this,arguments)}function q(){return(q=T((function(t){return I(this,(function(e){return t<=0?[2]:[2,new Promise((function(e){return setTimeout(e,t)}))]}))}))).apply(this,arguments)}}(),l}())}}}))},9868:(t,e,n)=>{"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,{Z:()=>r})},9249:(t,e,n)=>{"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:()=>r})},7371:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(2802);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(0,r.Z)(o.key),o)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},6666:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(2802);function o(t,e,n){return(e=(0,r.Z)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},4434:(t,e,n)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,{Z:()=>r})},2802:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(6522);function o(t){var e=function(t,e){if("object"!==(0,r.Z)(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==(0,r.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===(0,r.Z)(e)?e:String(e)}},6522:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{Z:()=>r})},7066:(t,e,n)=>{"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}n.d(e,{Z:()=>o})}}]);