"use strict";(globalThis.webpackChunk_openmrs_esm_openconceptlab_app=globalThis.webpackChunk_openmrs_esm_openconceptlab_app||[]).push([[878],{2762:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(2001),o=n.n(r),a=n(935),i=n.n(a)()(o());i.push([e.id,".-esm-openconceptlab__import__grid___YZXsF{margin-left:0;margin-right:0;padding-left:0;padding-right:0}.-esm-openconceptlab__import__productiveHeading03___aJ3VQ{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-bottom:.5rem}.-esm-openconceptlab__import__form___Ag0gn{margin-top:2rem}.-esm-openconceptlab__import__formText___cuZHY{padding-bottom:1rem}.-esm-openconceptlab__import__fileUploaderDropContainer___ez4ji{margin-bottom:1.5rem}","",{version:3,sources:["webpack://./src/import/import.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAGA,2CACE,aAAA,CACA,cAAA,CACA,cAAA,CACA,eAAA,CAGF,0DCw1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BF,mBESW,CFNb,2CACE,eEyBW,CFtBb,+CACE,mBEWW,CFRb,gEACE,oBEYW",sourceRoot:""}]),i.locals={grid:"-esm-openconceptlab__import__grid___YZXsF",productiveHeading03:"-esm-openconceptlab__import__productiveHeading03___aJ3VQ",form:"-esm-openconceptlab__import__form___Ag0gn",formText:"-esm-openconceptlab__import__formText___cuZHY",fileUploaderDropContainer:"-esm-openconceptlab__import__fileUploaderDropContainer___ez4ji"};const s=i},5850:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(2001),o=n.n(r),a=n(935),i=n.n(a)()(o());i.push([e.id,".-esm-openconceptlab__import-items__pagination___FsMvH{font-size:var(--cds-body-short-01-font-size, 0.875rem);font-weight:var(--cds-body-short-01-font-weight, 400);line-height:var(--cds-body-short-01-line-height, 1.28572);letter-spacing:var(--cds-body-short-01-letter-spacing, 0.16px);background-color:#fff;color:#525252;border:1px solid #e0e0e0;display:flex}.-esm-openconceptlab__import-items__tableBordered___sPzlD{border:1px solid #e0e0e0}.-esm-openconceptlab__import-items__tableDataRow___Gv_2K>td{padding-left:1rem !important;background-color:#fff !important}.-esm-openconceptlab__import-items__tableHeaderRow___iYUNO>th{background-color:#e0e0e0 !important}","",{version:3,sources:["webpack://./src/previous-imports/import-overview/import-items.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAGA,uDC+1BI,sDAAA,CAAA,qDAAA,CAAA,yDAAA,CAAA,8DAAA,CD71BF,qBEqHQ,CFpHR,aE0CQ,CFzCR,wBAAA,CACA,YAAA,CAGF,0DACE,wBAAA,CAGF,4DACE,4BAAA,CACA,gCAAA,CAGF,8DACE,mCAAA",sourceRoot:""}]),i.locals={pagination:"-esm-openconceptlab__import-items__pagination___FsMvH",tableBordered:"-esm-openconceptlab__import-items__tableBordered___sPzlD",tableDataRow:"-esm-openconceptlab__import-items__tableDataRow___Gv_2K",tableHeaderRow:"-esm-openconceptlab__import-items__tableHeaderRow___iYUNO"};const s=i},4653:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(2001),o=n.n(r),a=n(935),i=n.n(a)()(o());i.push([e.id,".-esm-openconceptlab__import-overview__heading01___JDxgf{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-openconceptlab__import-overview__indentedContent___tuwKa{margin-left:2rem}","",{version:3,sources:["webpack://./src/previous-imports/import-overview/import-overview.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAGA,yDC+1BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD31BJ,+DACE,gBEiCW",sourceRoot:""}]),i.locals={heading01:"-esm-openconceptlab__import-overview__heading01___JDxgf",indentedContent:"-esm-openconceptlab__import-overview__indentedContent___tuwKa"};const s=i},4168:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(2001),o=n.n(r),a=n(935),i=n.n(a)()(o());i.push([e.id,".-esm-openconceptlab__previous-imports__grid___HkWqe{margin-left:0;margin-right:0;padding-left:0;padding-right:0}.-esm-openconceptlab__previous-imports__productiveHeading03___WAEk0{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-bottom:.5rem}.-esm-openconceptlab__previous-imports__pagination___gCxCs{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);background-color:#fff;color:#525252;border:1px solid #e0e0e0;display:flex}.-esm-openconceptlab__previous-imports__tableBordered___Yob2_{border:1px solid #e0e0e0}.-esm-openconceptlab__previous-imports__tableRow___PURuk>td{background-color:#fff;border-bottom:1px solid #e0e0e0 !important}.-esm-openconceptlab__previous-imports__tableExpandedRow___YlWRi>td{padding-left:3rem !important;padding-right:3rem;padding-top:1rem;padding-bottom:1rem}","",{version:3,sources:["webpack://./src/previous-imports/previous-imports.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAIA,qDACE,aAAA,CACA,cAAA,CACA,cAAA,CACA,eAAA,CAGF,oECu1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDr1BF,mBEQW,CFLb,2DCk1BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDh1BF,qBGwGQ,CHvGR,aG6BQ,CH5BR,wBAAA,CACA,YAAA,CAGF,8DACE,wBAAA,CAGF,4DACE,qBG6FQ,CH5FR,0CAAA,CAGF,oEACE,4BAAA,CACA,kBEgBW,CFfX,gBELW,CFMX,mBENW",sourceRoot:""}]),i.locals={grid:"-esm-openconceptlab__previous-imports__grid___HkWqe",productiveHeading03:"-esm-openconceptlab__previous-imports__productiveHeading03___WAEk0",pagination:"-esm-openconceptlab__previous-imports__pagination___gCxCs",tableBordered:"-esm-openconceptlab__previous-imports__tableBordered___Yob2_",tableRow:"-esm-openconceptlab__previous-imports__tableRow___PURuk",tableExpandedRow:"-esm-openconceptlab__previous-imports__tableExpandedRow___YlWRi"};const s=i},8431:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(2001),o=n.n(r),a=n(935),i=n.n(a)()(o());i.push([e.id,".-esm-openconceptlab__root__main___xjPQ1{background-color:#fff}.-esm-openconceptlab__root__moduleHeader___dcCSY{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);padding-left:1rem;padding-top:1rem;padding-bottom:1rem}.-esm-openconceptlab__root__tabList___gASbP{padding:0 1rem}.-esm-openconceptlab__root__tabPanel___b1OQL{height:100%;background-color:#f4f4f4}","",{version:3,sources:["webpack://./src/root.scss","webpack://./../../node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAIA,yCACE,qBCqHQ,CDlHV,iDE01BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CFx1BF,iBGqBW,CHpBX,gBGoBW,CHnBX,mBGmBW,CHhBb,4CACE,cAAA,CAGF,6CACE,WAAA,CACA,wBCqBQ",sourceRoot:""}]),i.locals={main:"-esm-openconceptlab__root__main___xjPQ1",moduleHeader:"-esm-openconceptlab__root__moduleHeader___dcCSY",tabList:"-esm-openconceptlab__root__tabList___gASbP",tabPanel:"-esm-openconceptlab__root__tabPanel___b1OQL"};const s=i},7618:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(2001),o=n.n(r),a=n(935),i=n.n(a)()(o());i.push([e.id,".-esm-openconceptlab__subscription__grid___gYc7w{margin-left:0;margin-right:0;padding-left:0;padding-right:0}.-esm-openconceptlab__subscription__productiveHeading03___EXzJg{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-bottom:.5rem}.-esm-openconceptlab__subscription__formGroup___lGgTS{margin-bottom:1rem}.-esm-openconceptlab__subscription__unsubscribeText___UJbmQ{padding-bottom:1rem}.-esm-openconceptlab__subscription__unsubscribeForm___BGAJC{margin-top:1rem}","",{version:3,sources:["webpack://./src/subscription/subscription.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAGA,iDACE,aAAA,CACA,cAAA,CACA,cAAA,CACA,eAAA,CAGF,gECw1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BF,mBESW,CFNb,sDACE,kBEeW,CFZb,4DACE,mBEWW,CFRb,4DACE,eEOW",sourceRoot:""}]),i.locals={grid:"-esm-openconceptlab__subscription__grid___gYc7w",productiveHeading03:"-esm-openconceptlab__subscription__productiveHeading03___EXzJg",formGroup:"-esm-openconceptlab__subscription__formGroup___lGgTS",unsubscribeText:"-esm-openconceptlab__subscription__unsubscribeText___UJbmQ",unsubscribeForm:"-esm-openconceptlab__subscription__unsubscribeForm___BGAJC"};const s=i},3985:(e,t,n)=>{n.r(t),n.d(t,{default:()=>De});var r=n(1343),o=n.n(r),a=n(8225),i=n(3150),s=n(1083),l=n(1123);function c(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)}))}}function p(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e){return m.apply(this,arguments)}function m(){return(m=u((function(e){return p(this,(function(t){return[2,(0,s.openmrsFetch)("/ws/rest/v1/openconceptlab/import",{method:"POST",body:{},headers:{"Content-Type":"application/json"},signal:null==e?void 0:e.signal})]}))}))).apply(this,arguments)}function b(e,t){return f.apply(this,arguments)}function f(){return(f=u((function(e,t){var n;return p(this,(function(r){return(n=new FormData).append("file",e),[2,(0,s.openmrsFetch)("/ws/rest/v1/openconceptlab/import",{method:"POST",body:n,signal:null==t?void 0:t.signal})]}))}))).apply(this,arguments)}var _=n(111),A=n.n(_),g=n(5660),h=n.n(g),v=n(3824),y=n.n(v),E=n(8823),w=n.n(E),C=n(6747),k=n.n(C),S=n(4072),D=n.n(S),N=n(2762),T={};T.styleTagTransform=D(),T.setAttributes=w(),T.insert=y().bind(null,"head"),T.domAPI=h(),T.insertStyleElement=k(),A()(N.A,T);const O=N.A&&N.A.locals?N.A.locals:void 0;function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){P(a,r,o,i,s,"next",e)}function s(e){P(a,r,o,i,s,"throw",e)}i(void 0)}))}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}const H=function(){var e,t,n,c,u,p=(0,i.useTranslation)().t,m=B((0,r.useState)(!1),2),f=m[0],_=m[1],A=B((0,r.useState)(),2),g=A[0],h=A[1],v=B((0,r.useState)(!1),2),y=v[0],E=v[1],w=(n=(t=(0,l.Ay)("/ws/rest/v1/openconceptlab/subscription?v=full",s.openmrsFetch)).data,c=t.error,u=t.isValidating,{data:null==n||null===(e=n.data)||void 0===e?void 0:e.results[0],isLoading:!n&&!c,isError:c,isValidating:u}),C=w.data,k=w.isLoading,S=w.isError;(0,r.useEffect)((function(){k||S||_(!!C)}),[k,S,C]);var D,N=(0,r.useCallback)((function(e,t){var n=t.addedFiles[0];"application/zip"!==n.type?(0,s.showNotification)({kind:"error",description:p("fileFormatError","Only .zip files are allowed")}):h(n)}),[p]),T=(0,r.useCallback)((function(){h(null)}),[]),x=(0,r.useCallback)((D=F((function(e){return I(this,(function(t){switch(t.label){case 0:return e.preventDefault(),e.stopPropagation(),f?[4,d(new AbortController)]:((0,s.showNotification)({kind:"error",description:p("noSubscriptionError","No saved subscription")}),[2]);case 1:return 201===t.sent().status?(0,s.showNotification)({kind:"success",description:p("importSuccess","Import started successfully")}):(0,s.showNotification)({kind:"error",description:p("importFailed","Import failed")}),[2]}}))})),function(e){return D.apply(this,arguments)}),[f,p]),P=(0,r.useCallback)(function(){var e=F((function(e){var t;return I(this,(function(n){switch(n.label){case 0:return E(!0),e.preventDefault(),e.stopPropagation(),g?(t=new AbortController,[4,b(g,t)]):(E(!1),(0,s.showNotification)({kind:"error",description:p("noFileSelected","No file selected")}),[2]);case 1:return 201===n.sent().status?(h(null),E(!1),(0,s.showNotification)({kind:"success",description:p("importSuccess","Import started successfully")})):(E(!1),(0,s.showNotification)({kind:"error",description:p("importFailed","Import failed")})),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[g,p]);return k?o().createElement(a.xA9,{className:O.grid},o().createElement(a.VPZ,{sm:4,md:8,lg:10},o().createElement(a.lVW,null,o().createElement(a.rrI,{className:O.productiveHeading03,heading:!0}),o().createElement(a.rrI,{className:O.formText,paragraph:!0,lineCount:2}),o().createElement(a.k_N,null)),o().createElement(a.lVW,{className:O.form},o().createElement(a.rrI,{className:O.productiveHeading03,heading:!0}),o().createElement(a.rrI,{className:O.formText}),o().createElement(a.IY6,{style:{marginBottom:"1.5rem"}}),o().createElement(a.k_N,null)))):(S&&(0,s.showNotification)({kind:"error",description:p("subscriptionError","Error occured while fetching the subscription")}),o().createElement(a.xA9,{className:O.grid},o().createElement(a.VPZ,{sm:4,md:8,lg:10},o().createElement(a.lVW,{onSubmit:x},o().createElement("h3",{className:O.productiveHeading03},p("importConcepts","Import Concepts")),o().createElement("p",{className:O.formText},p("importInstructions","Avoid importing during data entry hours, because the operation may significantly slow down the system. You can either use the subscription or a zip file to import concepts.")),o().createElement(a.$nd,{kind:"primary",type:"submit",disabled:!f},p("importFromSubscription","Import from Subscription"))),o().createElement(a.lVW,{className:O.form,onSubmit:P},o().createElement("h3",{className:O.productiveHeading03},p("importFromFileHeading","Import from file (Offline)")),o().createElement("p",{className:O.formText},p("importFromFileInfo","You can import data without setting up a subscription by using this option.")),g?o().createElement(a.ssm,{key:g.name,name:g.name,size:"default",status:"edit",iconDescription:p("fileAdded","File Added"),onDelete:T,style:{backgroundColor:"#e0e0e0"}}):o().createElement(a.F9d,{accept:["application/zip"],multiple:!0,labelText:p("importFromFileDragInfo","Drag and drop file here or click to upload"),onAddFiles:N,style:{marginBottom:"1.5rem"}}),o().createElement(a.BJc,{gap:6,orientation:"horizontal"},o().createElement(a.$nd,{kind:"primary",type:"submit"},p("importFromFile","Import from file")),y&&o().createElement(a.OuH,{description:p("uploading","Uploading...")}))))))};function j(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function z(e,t){return R.apply(this,arguments)}function R(){var e;return e=function(e,t){var n;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){return n="/ws/rest/v1/openconceptlab/import/".concat(e,"/item?state=ERROR&v=full"),[2,(0,s.openmrsFetch)(n,{method:"GET",signal:null==t?void 0:t.signal})]}))},R=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){j(a,r,o,i,s,"next",e)}function s(e){j(a,r,o,i,s,"throw",e)}i(void 0)}))},R.apply(this,arguments)}var G=n(5850),W={};W.styleTagTransform=D(),W.setAttributes=w(),W.insert=y().bind(null,"head"),W.domAPI=h(),W.insertStyleElement=k(),A()(G.A,W);const U=G.A&&G.A.locals?G.A.locals:void 0;function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const J=function(e){var t,n,l=e.importUuid,c=(0,i.useTranslation)().t,u=Y((0,r.useState)(),2),p=u[0],d=u[1],m=Y((0,r.useState)(5),2),b=m[0],f=m[1],_=Y((0,r.useState)([]),2),A=_[0],g=_[1],h=(0,s.usePagination)(A,b),v=h.results,y=h.currentPage,E=h.goTo,w=(0,r.useCallback)((t=function(e){var t,n;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){switch(r.label){case 0:return d(!0),t=new AbortController,[4,z(e,t)];case 1:return(n=r.sent()).ok?g(n.data.results):(0,s.showNotification)({title:c("importItemsFetchError","Error occured while fetching the import items"),kind:"error",critical:!0,description:JSON.stringify(n.data)}),d(!1),[2,function(){return t.abort()}]}}))},n=function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){V(a,r,o,i,s,"next",e)}function s(e){V(a,r,o,i,s,"throw",e)}i(void 0)}))},function(e){return n.apply(this,arguments)}),[c]);if((0,r.useEffect)((function(){w(l)}),[w,l]),p)return o().createElement("div",null,o().createElement(a.OOb,{showHeader:!1,showToolbar:!1,columnCount:2}),o().createElement(a._l2,null));var C=[{header:c("conceptOrMapping","Concept/Mapping"),key:"uuid"},{header:c("message","Message"),key:"errorMessage"}];return!p&&o().createElement("div",null,o().createElement(a.XIK,{size:"sm",className:U.tableBordered},o().createElement(a.ndF,null,o().createElement(a.Hjg,{className:U.tableHeaderRow},C.map((function(e,t){return o().createElement(a.A0N,{key:t,isSortable:!0},e.header)})))),o().createElement(a.BFY,null,null==v?void 0:v.map((function(e){return o().createElement(r.Fragment,{key:e.uuid},o().createElement(a.Hjg,{className:U.tableDataRow},o().createElement(a.nA6,null,o().createElement(a.N_E,{href:e.versionUrl},e.type," ",e.uuid)),o().createElement(a.nA6,null,e.errorMessage)))})))),o().createElement(a.dKS,{className:U.pagination,size:"sm",page:y,pageSize:b,pageSizes:[5,10,20,50,100],totalItems:null==A?void 0:A.length,onChange:function(e){var t=e.page,n=e.pageSize;E(t),f(n)}}))};var Q=n(4653),K={};K.styleTagTransform=D(),K.setAttributes=w(),K.insert=y().bind(null,"head"),K.domAPI=h(),K.insertStyleElement=k(),A()(Q.A,K);const q=Q.A&&Q.A.locals?Q.A.locals:void 0,M=function(e){var t=e.selectedImportObject,n=(0,i.useTranslation)().t;return o().createElement("div",null,o().createElement("span",{className:q.heading01},n("startedOn","Started on")," "),o().createElement("span",{className:"body"},(0,s.formatDatetime)(new Date(t.localDateStarted))),o().createElement("br",null),o().createElement("span",{className:q.heading01},n("completedOn","Completed on")," "),o().createElement("span",{className:"body"},(0,s.formatDatetime)(new Date(t.localDateStopped))),o().createElement("br",null),o().createElement("span",{className:q.heading01},n("duration","Duration")," "),o().createElement("span",{className:"body"},t.importTime),o().createElement("br",null),o().createElement("br",null),o().createElement("span",{className:q.heading01},n("result","Result:")," "),o().createElement("br",null),o().createElement("div",{className:"body ".concat(q.indentedContent)},o().createElement("span",null,t.upToDateItemsCount," ",n("conceptsUpToDate","concepts up to date")),o().createElement("br",null),o().createElement("span",null,t.addedItemsCount," ",n("conceptsAdded","concepts added")),o().createElement("br",null),o().createElement("span",null,t.updatedItemsCount," ",n("conceptsUpdated","concepts updated")),o().createElement("br",null),o().createElement("span",null,t.retiredItemsCount," ",n("conceptsRetired","concepts retired")),o().createElement("br",null),o().createElement("span",null,t.errorItemsCount," ",n("errorsFound","errors found")),o().createElement("br",null),o().createElement("span",null,t.ignoredErrorsCount," ",n("errorsIgnored","errors ignored")),o().createElement("br",null)),o().createElement("br",null),0!=t.errorItemsCount&&o().createElement(J,{importUuid:t.uuid}))};var Z=n(4168),X={};X.styleTagTransform=D(),X.setAttributes=w(),X.insert=y().bind(null,"head"),X.domAPI=h(),X.insertStyleElement=k(),A()(Z.A,X);const $=Z.A&&Z.A.locals?Z.A.locals:void 0;function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}function re(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const oe=function(){var e,t,n,c,u,p,d,m=(0,i.useTranslation)().t,b=(p=(0,r.useState)(10),d=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(p,d)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(p,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=b[0],_=b[1],A=(n=(t=(0,l.Ay)("/ws/rest/v1/openconceptlab/import?v=full",s.openmrsFetch)).data,c=t.error,u=t.isValidating,{data:null==n||null===(e=n.data)||void 0===e?void 0:e.results,isLoading:!n&&!c,isError:c,isValidating:u}),g=A.data,h=A.isLoading,v=A.isError,y=(0,s.usePagination)(g,f),E=y.results,w=y.currentPage,C=y.goTo;if(h)return o().createElement(a.xA9,{className:$.grid},o().createElement(a.VPZ,{sm:4,md:8,lg:10},o().createElement(a.rrI,{className:$.productiveHeading03}),o().createElement(a.OOb,{showHeader:!1,showToolbar:!1,rowCount:10,columnCount:3}),o().createElement(a._l2,null)));v&&(0,s.showNotification)({kind:"error",description:m("previousImportsFetchError","Error occured while fetching the imports")});var k=[{header:m("dateAndTime","Date and Time"),key:"localDateStarted"},{header:m("duration","Duration"),key:"importTime"},{header:m("status","Status"),key:"status"}],S=null==E?void 0:E.map((function(e){return{id:e.uuid,localDateStarted:(0,s.formatDatetime)(new Date(e.localDateStarted)),importTime:e.importTime,status:e.status}}));return!h&&!v&&o().createElement(a.xA9,{className:$.grid},o().createElement(a.VPZ,{sm:4,md:8,lg:10},o().createElement("h3",{className:$.productiveHeading03},m("previousImports","Previous Imports")),o().createElement(a.bQt,{rows:S,headers:k,size:"sm"},(function(e){var t=e.rows,n=e.headers,i=e.getHeaderProps,s=e.getRowProps,l=e.getTableProps;return o().createElement(a.XIK,re(ne({},l()),{className:$.tableBordered}),o().createElement(a.ndF,null,o().createElement(a.Hjg,null,o().createElement(a.Uwq,null),n.map((function(e,t){return o().createElement(a.A0N,ne({key:t},i({header:e})),e.header)})))),o().createElement(a.BFY,null,t.map((function(e){return o().createElement(r.Fragment,{key:e.id},o().createElement(a.fZD,re(ne({},s({row:e})),{className:$.tableRow}),e.cells.map((function(e){return o().createElement(a.nA6,{key:e.id},e.value)}))),e.isExpanded&&o().createElement(a.cwJ,{colSpan:n.length+1,className:$.tableExpandedRow},o().createElement(M,{selectedImportObject:g.find((function(t){return t.uuid===e.id}))})))}))))})),o().createElement(a.dKS,{className:$.pagination,size:"sm",page:w,pageSize:f,pageSizes:[10,20,50,100],totalItems:g.length,onChange:function(e){var t=e.page,n=e.pageSize;C(t),_(n)}})))};var ae=n(254);function ie(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ie(a,r,o,i,s,"next",e)}function s(e){ie(a,r,o,i,s,"throw",e)}i(void 0)}))}}function le(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function ce(e,t){return ue.apply(this,arguments)}function ue(){return ue=se((function(e,t){var n;return le(this,(function(r){return n=(0,ae.A)(e.uuid)?"/ws/rest/v1/openconceptlab/subscription":"/ws/rest/v1/openconceptlab/subscription/".concat(e.uuid),[2,(0,s.openmrsFetch)(n,{method:"POST",body:e,headers:{"Content-Type":"application/json"},signal:null==t?void 0:t.signal})]}))})),ue.apply(this,arguments)}function pe(e,t){return de.apply(this,arguments)}function de(){return de=se((function(e,t){var n;return le(this,(function(r){return n="/ws/rest/v1/openconceptlab/subscription/".concat(e.uuid),[2,(0,s.openmrsFetch)(n,{method:"DELETE",signal:null==t?void 0:t.signal})]}))})),de.apply(this,arguments)}var me=function(e){var t,n,r;e.endsWith("/")&&(e=e.substring(0,e.lastIndexOf("/")));try{n=new URL(e)}catch(e){return!1}return 5==(null!==(r=null===(t=n.pathname.match(/\//g))||void 0===t?void 0:t.length)&&void 0!==r?r:0)},be=n(7618),fe={};fe.styleTagTransform=D(),fe.setAttributes=w(),fe.insert=y().bind(null,"head"),fe.domAPI=h(),fe.insertStyleElement=k(),A()(be.A,fe);const _e=be.A&&be.A.locals?be.A.locals:void 0;function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function he(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ge(a,r,o,i,s,"next",e)}function s(e){ge(a,r,o,i,s,"throw",e)}i(void 0)}))}}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}const we=function(){var e,t,n,c,u,p=(0,i.useTranslation)().t,d=(0,l.iX)().mutate,m=ye((0,r.useState)(""),2),b=m[0],f=m[1],_=ye((0,r.useState)(""),2),A=_[0],g=_[1],h=ye((0,r.useState)(!1),2),v=h[0],y=h[1],E=ye((0,r.useState)("FULL"),2),w=E[0],C=E[1],k=ye((0,r.useState)(!1),2),S=k[0],D=k[1],N=(n=(t=(0,l.Ay)("/ws/rest/v1/openconceptlab/subscription?v=full",s.openmrsFetch)).data,c=t.error,u=t.isValidating,{data:null==n||null===(e=n.data)||void 0===e?void 0:e.results[0],isLoading:!n&&!c,isError:c,isValidating:u}),T=N.data,O=N.isLoading,x=N.isError;(0,r.useEffect)((function(){O||x||(f((null==T?void 0:T.url)||""),g((null==T?void 0:T.token)||""),y((null==T?void 0:T.subscribedToSnapshot)||!1),C((null==T?void 0:T.validationType)||"FULL"),D(!!T&&me(T.url)))}),[O,x,T]);var P,F=(0,r.useCallback)((function(e){f(e.target.value),me(e.target.value)?(D(!0),y(!1)):D(!1)}),[]),B=(0,r.useCallback)((function(e){g(e.target.value)}),[]),I=(0,r.useCallback)((function(e,t){var n=t.checked;t.id,C(n?"NONE":"FULL")}),[]),H=(0,r.useCallback)((function(e,t){var n=t.checked;t.id,y(n)}),[]),j=(0,r.useCallback)((P=he((function(e){var t,n,r;return Ee(this,(function(o){switch(o.label){case 0:return e.preventDefault(),e.stopPropagation(),S&&v?((0,s.showNotification)({kind:"error",description:p("snapshotDisabledError","You cannot subscribe to a SNAPSHOT if you've provided the collection version")}),[2]):(t=new AbortController,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ve(e,t,n[t])}))}return e}({},T),i=null!=(i={url:b,token:A,validationType:w,subscribedToSnapshot:v})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(i)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})),d("/ws/rest/v1/openconceptlab/subscription?v=full",n=a,!1),[4,ce(n,t)]);case 1:return r=o.sent(),d("/ws/rest/v1/openconceptlab/subscription?v=full"),r.ok?(0,s.showNotification)({kind:"success",description:p(201===r.status?"subscriptionCreated":"subscriptionUpdated",201===r.status?"Subscription created successfully":"Subscription updated successfully")}):(0,s.showNotification)({title:p("errorSavingSubscription","Error occured while saving the subscription"),kind:"error",critical:!0,description:JSON.stringify(r.data)}),[2,function(){return t.abort()}]}var a,i}))})),function(e){return P.apply(this,arguments)}),[b,A,w,v,S,T,p,d]),z=(0,r.useCallback)((function(){f((null==T?void 0:T.url)||""),g((null==T?void 0:T.token)||""),y((null==T?void 0:T.subscribedToSnapshot)||!1),C((null==T?void 0:T.validationType)||"FULL"),D(!!T&&me(T.url)),(0,s.showNotification)({kind:"info",description:p("cancelledChanges","Cancelled changes successfully")})}),[T,p]),R=(0,r.useCallback)(function(){var e=he((function(e){var t,n;return Ee(this,(function(r){switch(r.label){case 0:return e.preventDefault(),e.stopPropagation(),t=new AbortController,[4,pe(T,t)];case 1:return n=r.sent(),d("/ws/rest/v1/openconceptlab/subscription?v=full"),204===n.status?(f(""),g(""),y(!1),C("FULL"),D(!1),(0,s.showNotification)({kind:"success",description:p("subscriptionDeleted","Successfully unsubscribed")})):(0,s.showNotification)({title:p("errorDeletingSubscription","Error occured while deleting the subscription"),kind:"error",critical:!0,description:JSON.stringify(n.data)}),[2,function(){return t.abort()}]}}))}));return function(t){return e.apply(this,arguments)}}(),[T,p,d]);return O?o().createElement(a.xA9,{className:_e.grid},o().createElement(a.VPZ,{sm:4,md:8,lg:10},o().createElement(a.lVW,null,o().createElement(a.rrI,{className:_e.productiveHeading03}),o().createElement(a.BJc,{gap:5},o().createElement(a.P3Z,null),o().createElement(a.P3Z,null),o().createElement(a.gE_,{legendText:o().createElement(a.rrI,{width:"75px"}),className:_e.formGroup},o().createElement(a.d$P,null),o().createElement(a.d$P,null))),o().createElement(a.k_N,null),o().createElement(a.k_N,null)),o().createElement(a.lVW,{className:_e.unsubscribeForm},o().createElement(a.rrI,{className:_e.productiveHeading03}),o().createElement(a.rrI,{className:_e.unsubscribeText}),o().createElement(a.k_N,null)))):(x&&(0,s.showNotification)({kind:"error",description:p("subscriptionError","Error occured while fetching the subscription")}),o().createElement(a.xA9,{className:_e.grid},o().createElement(a.VPZ,{sm:4,md:8,lg:10},o().createElement(a.lVW,{onSubmit:j},o().createElement("h3",{className:_e.productiveHeading03},p("setupSubscription","Setup Subscription")),o().createElement(a.BJc,{gap:5},o().createElement(a.Wdr,null,o().createElement(a.ksK,{id:"subscriptionUrl",type:"url",labelText:p("subscriptionUrl","Subscription URL"),placeholder:"https://api.openconceptlab.org/orgs/organization-name/collections/dictionary-name",value:b,onChange:F,required:!0})),o().createElement(a.Wdr,null,o().createElement(a.ksK,{id:"apiToken",type:"password",placeholder:"••••••••••••••••••••••••••••••••••••••••••••••••",labelText:p("apiToken","Token"),value:A,onChange:B,required:!0})),o().createElement(a.gE_,{legendText:p("advancedOptions","Advanced Options"),className:_e.formGroup},o().createElement(a.Sc0,{checked:v,onChange:H,labelText:p("subscribeToSnapshotText","Subscribe to SNAPSHOT versions (not recommended)"),id:"isSubscribedToSnapshot",disabled:S}),o().createElement(a.Sc0,{checked:"NONE"===w,onChange:I,labelText:p("disableValidationText","Disable validation (should be used with care for well curated collections or sources)"),id:"isValidationDisabled"}))),o().createElement(a.$nd,{kind:"secondary",onClick:z},p("cancelButton","Cancel changes")),o().createElement(a.$nd,{kind:"primary",type:"submit"},p("subscribeButton","Save changes"))),o().createElement(a.lVW,{onSubmit:R,className:_e.unsubscribeForm},o().createElement("h3",{className:_e.productiveHeading03},p("unsubscribe","Unsubscribe")),o().createElement("p",{className:_e.unsubscribeText},p("unsubscribeInfo","If you unsubscribe, no concepts will be deleted nor changed. All information about subscription will be deleted from your system.")),o().createElement(a.$nd,{kind:"danger",type:"submit",disabled:!T},p("unsubscribeButton","Unsubscribe"))))))};var Ce=n(8431),ke={};ke.styleTagTransform=D(),ke.setAttributes=w(),ke.insert=y().bind(null,"head"),ke.domAPI=h(),ke.insertStyleElement=k(),A()(Ce.A,ke);const Se=Ce.A&&Ce.A.locals?Ce.A.locals:void 0,De=function(){var e=(0,i.useTranslation)().t;return o().createElement("main",{className:"omrs-main-content ".concat(Se.main)},o().createElement("h3",{className:Se.moduleHeader},e("moduleTitle","OCL Subscription Module")),o().createElement(a.tUM,null,o().createElement(a.wbY,{"aria-label":"OCL tabs",className:Se.tabList,contained:!0},o().createElement(a.ozo,null,e("subscription","Subscription")," "),o().createElement(a.ozo,null,e("import","Import")," "),o().createElement(a.ozo,null,e("previousImports","Previous Imports")," ")),o().createElement(a.T2N,null,o().createElement(a.KpK,{className:Se.tabPanel},o().createElement(we,null)),o().createElement(a.KpK,{className:Se.tabPanel},o().createElement(H,null)),o().createElement(a.KpK,{className:Se.tabPanel},o().createElement(oe,null)))))}}}]);