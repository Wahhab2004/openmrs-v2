"use strict";(globalThis.webpackChunk_openmrs_esm_fast_data_entry_app=globalThis.webpackChunk_openmrs_esm_fast_data_entry_app||[]).push([[101],{5543:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1354),a=n.n(r),o=n(6314),s=n.n(o)()(a());s.push([e.id,'.-esm-fast-data-entry__styles__modal___HR6f6 .cds--modal{z-index:90}.-esm-fast-data-entry__styles__modal___HR6f6 .cds--modal-container{height:600px}.-esm-fast-data-entry__styles__modal___HR6f6 .cds--modal-content{height:100%}.-esm-fast-data-entry__styles__searchBar___ge3CH>div>div>div{width:100%}.-esm-fast-data-entry__styles__searchBar___ge3CH>div button{height:auto}.-esm-fast-data-entry__styles__formError___KjTcI{color:red}.-esm-fast-data-entry__styles__patientRow___PUcqT{display:flex;align-items:center;width:"100%"}.-esm-fast-data-entry__styles__patientRow___PUcqT:nth-child(odd){background-color:#e0e0e0}.-esm-fast-data-entry__styles__patientName___RKb4f{flex-grow:1;padding-left:1rem}.-esm-fast-data-entry__styles__loading___sU49g{display:flex;height:100%;flex-direction:column;justify-content:center;align-items:center;row-gap:1rem}',"",{version:3,sources:["webpack://./src/add-group-modal/styles.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAIE,yDACE,UAAA,CAEF,mEACE,YAAA,CAEF,iEACE,WAAA,CAIJ,6DACE,UAAA,CAGF,4DACE,WAAA,CAGF,iDACE,SAAA,CAGF,kDACG,YAAA,CACA,kBAAA,CACA,YAAA,CACA,iEACC,wBCWM,CDPV,mDACE,WAAA,CACA,iBEPW,CFUb,+CACE,YAAA,CACA,WAAA,CACA,qBAAA,CACA,sBAAA,CACA,kBAAA,CACA,YEhBW",sourceRoot:""}]),s.locals={modal:"-esm-fast-data-entry__styles__modal___HR6f6",searchBar:"-esm-fast-data-entry__styles__searchBar___ge3CH",formError:"-esm-fast-data-entry__styles__formError___KjTcI",patientRow:"-esm-fast-data-entry__styles__patientRow___PUcqT",patientName:"-esm-fast-data-entry__styles__patientName___RKb4f",loading:"-esm-fast-data-entry__styles__loading___sU49g"};const i=s},8130:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1354),a=n.n(r),o=n(6314),s=n.n(o)()(a());s.push([e.id,".-esm-fast-data-entry__styles__container___tB6wf{height:5rem;display:flex;align-items:center;background-color:#fff;border-top:.0125rem solid #e0e0e0;border-bottom:.0125rem solid #e0e0e0;padding:0 1rem}.-esm-fast-data-entry__styles__photoPlaceholder___jG3dT{height:3rem;width:3rem}.-esm-fast-data-entry__styles__groupAvatar___YTLI1{width:3rem;height:3rem;margin:.5rem 1rem .5rem 0;border-radius:1px}.-esm-fast-data-entry__styles__groupName___M3vVp{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);font-weight:600}.-esm-fast-data-entry__styles__groupInfoContent___SUsPJ{margin-left:1rem;margin-right:4rem}.-esm-fast-data-entry__styles__groupInfoRow___w3Cez{display:flex;align-items:center;font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;column-gap:.8rem}.-esm-fast-data-entry__styles__groupInfoRow___w3Cez>button{min-height:2rem}.-esm-fast-data-entry__styles__sessionNotesLabel___h2a6F{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-bottom:.125rem}.-esm-fast-data-entry__styles__groupEditBtn___iSU2t{color:#161616;margin:.5rem}.-esm-fast-data-entry__styles__groupMetaContent___MPn4E{flex-grow:1}","",{version:3,sources:["webpack://./src/group-form-entry-workflow/group-display-header/styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,iDACE,WCwDW,CDvDX,YAAA,CACA,kBAAA,CACA,qBEkHQ,CFjHR,iCAAA,CACA,oCAAA,CACA,cAAA,CAGF,wDACE,WCoCW,CDnCX,UCmCW,CDhCb,mDACE,UC+BW,CD9BX,WC8BW,CD7BX,yBAAA,CACA,iBAAA,CAGF,iDGw0BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CHt0BF,eAAA,CAGF,wDACE,gBCDW,CDEX,iBCuBW,CDpBb,oDACE,YAAA,CACA,kBAAA,CG4zBE,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CHvzBF,aEKQ,CFJR,gBAAA,CALA,2DACE,eCCS,CDMb,yDGmzBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CHjzBF,qBCtCW,CDyCb,oDACE,aEFS,CFGT,YCjCW,CDoCb,wDACE,WAAA",sourceRoot:""}]),s.locals={container:"-esm-fast-data-entry__styles__container___tB6wf",photoPlaceholder:"-esm-fast-data-entry__styles__photoPlaceholder___jG3dT",groupAvatar:"-esm-fast-data-entry__styles__groupAvatar___YTLI1",groupName:"-esm-fast-data-entry__styles__groupName___M3vVp",groupInfoContent:"-esm-fast-data-entry__styles__groupInfoContent___SUsPJ",groupInfoRow:"-esm-fast-data-entry__styles__groupInfoRow___w3Cez",sessionNotesLabel:"-esm-fast-data-entry__styles__sessionNotesLabel___h2a6F",groupEditBtn:"-esm-fast-data-entry__styles__groupEditBtn___iSU2t",groupMetaContent:"-esm-fast-data-entry__styles__groupMetaContent___MPn4E"};const i=s},158:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1354),a=n.n(r),o=n(6314),s=n.n(o)()(a());s.push([e.id,".-esm-fast-data-entry__styles__searchHeaderContainer___uB8qf{height:5rem;display:flex;align-items:center;background-color:#fff;border-top:.0125rem solid #e0e0e0;border-bottom:.0125rem solid #e0e0e0;padding:0 1rem}.-esm-fast-data-entry__styles__searchBarWrapper___y9Dbo{min-width:35rem}.-esm-fast-data-entry__styles__padded___OccUp{padding:1rem}","",{version:3,sources:["webpack://./src/group-form-entry-workflow/group-search-header/styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAGA,6DACE,WCyDW,CDxDX,YAAA,CACA,kBAAA,CACA,qBEmHQ,CFlHR,iCAAA,CACA,oCAAA,CACA,cAAA,CAGF,wDACE,eAAA,CAGF,8CACE,YCaW",sourceRoot:""}]),s.locals={searchHeaderContainer:"-esm-fast-data-entry__styles__searchHeaderContainer___uB8qf",searchBarWrapper:"-esm-fast-data-entry__styles__searchBarWrapper___y9Dbo",padded:"-esm-fast-data-entry__styles__padded___OccUp"};const i=s},4959:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1354),a=n.n(r),o=n(6314),s=n.n(o)()(a());s.push([e.id,".-esm-fast-data-entry__compact-group-result__patientSearchResult___rZ1Jn{text-decoration:none;display:flex;align-items:center;border-bottom:1px solid #e0e0e0;padding:0 .75rem}.-esm-fast-data-entry__compact-group-result__patientSearchResult___rZ1Jn:hover,.-esm-fast-data-entry__compact-group-result__patientSearchResult___rZ1Jn:focus{background-color:#f4f4f4}.-esm-fast-data-entry__compact-group-result__patientSearchResultSelected___RSSYM{background-color:#e0e0e0}.-esm-fast-data-entry__compact-group-result__patientBanner___Qk8Jt{display:flex}.-esm-fast-data-entry__compact-group-result__patientName___rxQ4T{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-fast-data-entry__compact-group-result__patientAvatar___Bit9k{width:3rem;height:3rem;margin:.5rem 1rem .5rem 0;border-radius:1px}.-esm-fast-data-entry__compact-group-result__patientInfo___BhNAy{width:100%;display:flex;flex-flow:column wrap;margin:1rem;cursor:pointer}.-esm-fast-data-entry__compact-group-result__demographics___Qgkf5{margin-top:.5rem;font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252}.-esm-fast-data-entry__compact-group-result__identifiers___d_7v_{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#8d8d8d}.-esm-fast-data-entry__compact-group-result__actionsContainer___t4blo{padding-top:.5rem;margin-top:1rem}.-esm-fast-data-entry__compact-group-result__middot___uxxNI{margin:0 .5rem}","",{version:3,sources:["webpack://./src/group-form-entry-workflow/group-search/compact-group-result.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAIA,yEACE,oBAAA,CACA,YAAA,CACA,kBAAA,CACA,+BAAA,CACA,gBAAA,CAEA,8JAEE,wBC6BM,CDzBV,iFACE,wBCyBQ,CDtBV,mEACE,YAAA,CAGF,iEEy0BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CFr0BJ,mEACE,UGqBW,CHpBX,WGoBW,CHnBX,yBAAA,CACA,iBAAA,CAGF,iEACE,UAAA,CACA,YAAA,CACA,qBAAA,CACA,WGTW,CHUX,cAAA,CAGF,kEACE,gBGxBW,CD60BT,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CFnzBF,aCCQ,CDEV,iEEgzBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CF9yBF,aCNQ,CDSV,sEACE,iBGnCW,CHoCX,eG1BW,CH6Bb,4DACE,cAAA",sourceRoot:""}]),s.locals={patientSearchResult:"-esm-fast-data-entry__compact-group-result__patientSearchResult___rZ1Jn",patientSearchResultSelected:"-esm-fast-data-entry__compact-group-result__patientSearchResultSelected___RSSYM",patientBanner:"-esm-fast-data-entry__compact-group-result__patientBanner___Qk8Jt",patientName:"-esm-fast-data-entry__compact-group-result__patientName___rxQ4T",patientAvatar:"-esm-fast-data-entry__compact-group-result__patientAvatar___Bit9k",patientInfo:"-esm-fast-data-entry__compact-group-result__patientInfo___BhNAy",demographics:"-esm-fast-data-entry__compact-group-result__demographics___Qgkf5",identifiers:"-esm-fast-data-entry__compact-group-result__identifiers___d_7v_",actionsContainer:"-esm-fast-data-entry__compact-group-result__actionsContainer___t4blo",middot:"-esm-fast-data-entry__compact-group-result__middot___uxxNI"};const i=s},9346:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1354),a=n.n(r),o=n(6314),s=n.n(o)()(a());s.push([e.id,".-esm-fast-data-entry__compact-group-search__patientSearchBar___B9GBo{width:50vw;position:relative}.-esm-fast-data-entry__compact-group-search__floatingSearchResultsContainer___zT_9_{position:absolute;overflow-y:auto;box-shadow:0 .5rem 1rem #e0e0e0;z-index:99;border:0 1px 1px 1px solid #e0e0e0;width:100%;background-color:#fff}.-esm-fast-data-entry__compact-group-search__searchArea___dJxWX{width:inherit;display:flex;justify-content:center;align-items:center;border:1px solid #8d8d8d}.-esm-fast-data-entry__compact-group-search__patientSearchInput___qGllr{border:none}.-esm-fast-data-entry__compact-group-search__patientSearchInput___qGllr input:focus{outline:1px solid 1px solid #ff832b}","",{version:3,sources:["webpack://./src/group-form-entry-workflow/group-search/compact-group-search.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAIA,sEACE,UAAA,CACA,iBAAA,CAGF,oFACE,iBAAA,CACA,eAAA,CACA,+BAAA,CACA,UAAA,CACA,kCAAA,CACA,UAAA,CACA,qBC0GQ,CDvGV,gEACE,aAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,wBAAA,CAGF,wEACE,WAAA,CAGF,oFACE,mCAAA",sourceRoot:""}]),s.locals={patientSearchBar:"-esm-fast-data-entry__compact-group-search__patientSearchBar___B9GBo",floatingSearchResultsContainer:"-esm-fast-data-entry__compact-group-search__floatingSearchResultsContainer___zT_9_",searchArea:"-esm-fast-data-entry__compact-group-search__searchArea___dJxWX",patientSearchInput:"-esm-fast-data-entry__compact-group-search__patientSearchInput___qGllr"};const i=s},1894:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1354),a=n.n(r),o=n(6314),s=n.n(o)()(a());s.push([e.id,".-esm-fast-data-entry__group-search__searchResultsContainer___cNQH2{width:100%;background-color:#fff}.-esm-fast-data-entry__group-search__searchResultsContainer___cNQH2 a{text-decoration:none;font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0);color:#525252;margin:0rem}.omrs-breakpoint-lt-desktop .-esm-fast-data-entry__group-search__searchResultsContainer___cNQH2{top:6.25rem}.omrs-breakpoint-gt-tablet .-esm-fast-data-entry__group-search__searchResultsContainer___cNQH2{padding:0;top:3rem}.-esm-fast-data-entry__group-search__searchResults___IAVPi{width:100%}.-esm-fast-data-entry__group-search__searchTerm___PsuMT{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-top:.375rem}.-esm-fast-data-entry__group-search__resultsText___ByWT4{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252;line-height:1rem;margin:.5rem 1rem}.-esm-fast-data-entry__group-search__helperText___hiPIZ{color:var(--omrs-color-ink-medium-contrast);margin-left:2.375rem}.-esm-fast-data-entry__group-search__emptyResultText___tEWzA{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.313rem}.-esm-fast-data-entry__group-search__actionText___eRoZL{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}.-esm-fast-data-entry__group-search__pagination___s55FI{display:flex;justify-content:space-evenly;padding:4.688rem 0 1.5rem}.-esm-fast-data-entry__group-search__emptySearchResultsTile___dQf2f{text-align:center;margin-top:1rem;padding:3rem 0rem}.omrs-breakpoint-gt-tablet .-esm-fast-data-entry__group-search__emptySearchResultsTile___dQf2f{margin:1rem}.-esm-fast-data-entry__group-search__errorMessage___oh8Tu{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-top:2.25rem;margin-bottom:.5rem}.-esm-fast-data-entry__group-search__errorCopy___IiJZy{margin-bottom:.5rem;font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}.-esm-fast-data-entry__group-search__lastItem___ZkEUJ{padding:1rem;display:flex;justify-content:center;align-items:center}","",{version:3,sources:["webpack://./src/group-form-entry-workflow/group-search/group-search.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAIA,oEACE,UAAA,CACA,qBCoHQ,CDlHR,sEACE,oBAAA,CEy1BA,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CFv1BA,aCqCM,CDpCN,WAAA,CAIJ,gGACE,WAAA,CAGF,+FACE,SAAA,CACA,QG6BW,CH1Bb,2DACE,UAAA,CAIF,wDEo0BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CFl0BF,kBAAA,CAGF,yDE+zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF7zBF,aCWQ,CDVR,gBGPW,CHQX,iBAAA,CAGF,wDACE,2CAAA,CACA,oBAAA,CAGF,6DEmzBI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CFjzBF,aCDQ,CDER,eGnBW,CHoBX,qBAAA,CAGF,wDE4yBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CF1yBF,aCRQ,CDWV,wDACE,YAAA,CACA,4BAAA,CACA,yBAAA,CAGF,oEACE,iBAAA,CACA,eGpCW,CHqCX,iBAAA,CAGF,+FACE,WGzCW,CH4Cb,0DEuxBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFrxBF,kBAAA,CACA,mBGzDW,CH4Db,uDACE,mBG7DW,CD60BT,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CF9wBF,aCpCQ,CDuCV,sDACE,YGzDW,CH0DX,YAAA,CACA,sBAAA,CACA,kBAAA",sourceRoot:""}]),s.locals={searchResultsContainer:"-esm-fast-data-entry__group-search__searchResultsContainer___cNQH2",searchResults:"-esm-fast-data-entry__group-search__searchResults___IAVPi",searchTerm:"-esm-fast-data-entry__group-search__searchTerm___PsuMT",resultsText:"-esm-fast-data-entry__group-search__resultsText___ByWT4",helperText:"-esm-fast-data-entry__group-search__helperText___hiPIZ",emptyResultText:"-esm-fast-data-entry__group-search__emptyResultText___tEWzA",actionText:"-esm-fast-data-entry__group-search__actionText___eRoZL",pagination:"-esm-fast-data-entry__group-search__pagination___s55FI",emptySearchResultsTile:"-esm-fast-data-entry__group-search__emptySearchResultsTile___dQf2f",errorMessage:"-esm-fast-data-entry__group-search__errorMessage___oh8Tu",errorCopy:"-esm-fast-data-entry__group-search__errorCopy___IiJZy",lastItem:"-esm-fast-data-entry__group-search__lastItem___ZkEUJ"};const i=s},4487:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1354),a=n.n(r),o=n(6314),s=n.n(o)()(a());s.push([e.id,'.-esm-fast-data-entry__styles__breadcrumbsContainer___rQPV9>div>div>nav{background-color:#fff;padding:.75rem 1rem;height:2.5rem}.-esm-fast-data-entry__styles__workspaceWrapper___8dNsC{display:flex;justify-content:center}.-esm-fast-data-entry__styles__workspace___qeNxm{width:1100px}.omrs-breakpoint-lt-large-desktop .-esm-fast-data-entry__styles__workspace___qeNxm{width:1000px}.omrs-breakpoint-lt-small-desktop .-esm-fast-data-entry__styles__workspace___qeNxm{width:100vw;padding:0 .75rem}.-esm-fast-data-entry__styles__selectPatientMessage___XS640{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin:2rem;text-align:center}.-esm-fast-data-entry__styles__formMainContent___uEGFO{display:flex;text-align:center;margin-top:1rem;column-gap:1rem}.-esm-fast-data-entry__styles__formContainer___JOs4w{flex-grow:1;max-height:calc(100vh - 14rem);overflow-y:scroll;text-align:left}.-esm-fast-data-entry__styles__formContainer___JOs4w .cds--form-item .question-area{max-width:100%}.-esm-fast-data-entry__styles__rightPanel___pKJXB{min-width:13rem;text-align:left;overflow-y:scroll;display:flex;flex-direction:column;row-gap:1rem}.-esm-fast-data-entry__styles__patientCardsSection___TggNX{margin:1rem 0;border-bottom:1px solid #f4f4f4}.-esm-fast-data-entry__styles__rightPanelActionButtons___p7e2d{display:flex;flex-direction:column;row-gap:.5rem}.-esm-fast-data-entry__styles__rightPanelActionButtons___p7e2d button{width:100%;text-decoration:"none"}.-esm-fast-data-entry__styles__formSection___A_Zn1{display:flex;flex-direction:column;row-gap:1rem;justify-content:flex-start;align-items:flex-start;text-align:left}.-esm-fast-data-entry__styles__formSectionTile___srh1D{width:500px}.-esm-fast-data-entry__styles__formError___QC_bl{font-size:var(--cds-helper-text-02-font-size, 0.875rem);font-weight:var(--cds-helper-text-02-font-weight, 400);line-height:var(--cds-helper-text-02-line-height, 1.28572);letter-spacing:var(--cds-helper-text-02-letter-spacing, 0.16px);color:#da1e28}',"",{version:3,sources:["webpack://./src/group-form-entry-workflow/styles.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,wEACE,qBCqHQ,CDpHR,mBAAA,CACA,aEuCW,CFpCb,wDACE,YAAA,CACA,sBAAA,CAGF,iDACE,YAAA,CAGF,mFACE,YAAA,CAGF,mFAEE,WAAA,CACA,gBAAA,CAGF,4DGq0BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CHn0BF,WEUW,CFTX,iBAAA,CAGF,uDACE,YAAA,CACA,iBAAA,CACA,eEPW,CFQX,eERW,CFWb,qDACE,WAAA,CACA,8BAAA,CACA,iBAAA,CACA,eAAA,CAGF,oFACE,cAAA,CAGF,kDACE,eAAA,CACA,eAAA,CACA,iBAAA,CACA,YAAA,CACA,qBAAA,CACA,YE5BW,CF+Bb,2DACE,aAAA,CACA,+BAAA,CAGF,+DACE,YAAA,CACA,qBAAA,CACA,aEjDW,CFkDX,sEACE,UAAA,CACA,sBAAA,CAIJ,mDACE,YAAA,CACA,qBAAA,CACA,YAAA,CACA,0BAAA,CACA,sBAAA,CACA,eAAA,CAGF,uDACE,WAAA,CAGF,iDGwwBI,uDAAA,CAAA,sDAAA,CAAA,0DAAA,CAAA,+DAAA,CHtwBF,aCKO",sourceRoot:""}]),s.locals={breadcrumbsContainer:"-esm-fast-data-entry__styles__breadcrumbsContainer___rQPV9",workspaceWrapper:"-esm-fast-data-entry__styles__workspaceWrapper___8dNsC",workspace:"-esm-fast-data-entry__styles__workspace___qeNxm",selectPatientMessage:"-esm-fast-data-entry__styles__selectPatientMessage___XS640",formMainContent:"-esm-fast-data-entry__styles__formMainContent___uEGFO",formContainer:"-esm-fast-data-entry__styles__formContainer___JOs4w",rightPanel:"-esm-fast-data-entry__styles__rightPanel___pKJXB",patientCardsSection:"-esm-fast-data-entry__styles__patientCardsSection___TggNX",rightPanelActionButtons:"-esm-fast-data-entry__styles__rightPanelActionButtons___p7e2d",formSection:"-esm-fast-data-entry__styles__formSection___A_Zn1",formSectionTile:"-esm-fast-data-entry__styles__formSectionTile___srh1D",formError:"-esm-fast-data-entry__styles__formError___QC_bl"};const i=s},6028:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1354),a=n.n(r),o=n(6314),s=n.n(o)()(a());s.push([e.id,".-esm-fast-data-entry__styles__cardContainer___lDpJq{padding:1rem;display:flex;cursor:pointer}.-esm-fast-data-entry__styles__skeletonText___ffjkW{max-width:8rem}.-esm-fast-data-entry__styles__identifier___RkGs4{font-weight:300;font-size:.8rem;line-height:.9rem}.-esm-fast-data-entry__styles__displayName___Ol4ha{font-weight:bold}.-esm-fast-data-entry__styles__activeDisplayName___TSAgm{color:#4589ff}.-esm-fast-data-entry__styles__inactiveCard___j1a8H:hover{background-color:#c6c6c6}.-esm-fast-data-entry__styles__patientInfo___KY6Vw{flex-grow:1}.-esm-fast-data-entry__styles__statusSuccess____2BPe{fill:#198038}.-esm-fast-data-entry__styles__statusWarning___FNaQa{fill:#d2a106}","",{version:3,sources:["webpack://./src/patient-card/styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAGA,qDACE,YC2BW,CD1BX,YAAA,CACA,cAAA,CAGF,oDACE,cAAA,CAGF,kDACE,eAAA,CACA,eAAA,CACA,iBAAA,CAGF,mDACE,gBAAA,CAGF,yDACE,aERQ,CFYR,0DACE,wBEeM,CFXV,mDACE,WAAA,CAGF,qDACE,YEmBS,CFhBX,qDACE,YEoFU",sourceRoot:""}]),s.locals={cardContainer:"-esm-fast-data-entry__styles__cardContainer___lDpJq",skeletonText:"-esm-fast-data-entry__styles__skeletonText___ffjkW",identifier:"-esm-fast-data-entry__styles__identifier___RkGs4",displayName:"-esm-fast-data-entry__styles__displayName___Ol4ha",activeDisplayName:"-esm-fast-data-entry__styles__activeDisplayName___TSAgm",inactiveCard:"-esm-fast-data-entry__styles__inactiveCard___j1a8H",patientInfo:"-esm-fast-data-entry__styles__patientInfo___KY6Vw",statusSuccess:"-esm-fast-data-entry__styles__statusSuccess____2BPe",statusWarning:"-esm-fast-data-entry__styles__statusWarning___FNaQa"};const i=s},7104:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(1298),a=n(6072),o=n.n(a),s=n(3941);function i(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,l,"next",e)}function l(e){i(o,r,a,s,l,"throw",e)}s(void 0)}))}}function c(e,t){var n,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}const u=function(e){var t,n=e.open,a=e.setOpen,i=e.context,u=(0,s.useTranslation)().t,d=(t=l((function(){return c(this,(function(e){switch(e.label){case 0:return[4,i.destroySession()];case 1:return e.sent(),[2]}}))})),function(){return t.apply(this,arguments)}),m=function(){var e=l((function(){return c(this,(function(e){switch(e.label){case 0:return[4,i.closeSession()];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return o().createElement(r.ComposedModal,{open:n},o().createElement(r.ModalHeader,null,u("areYouSure","Are you sure?")),o().createElement(r.ModalBody,null,u("cancelExplanation","You will lose any unsaved changes on the current form. Do you want to discard the current session?")),o().createElement(r.ModalFooter,null,o().createElement(r.Button,{kind:"secondary",onClick:function(){return a(!1)}},u("cancel","Cancel")),o().createElement(r.Button,{kind:"danger",onClick:d},u("discard","Discard")),o().createElement(r.Button,{kind:"primary",onClick:m},u("saveSession","Save Session"))))}},809:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(1298),a=n(6072),o=n.n(a),s=n(3941);const i=function(e){var t=e.open,n=e.setOpen,a=e.context,i=e.validateFirst,l=void 0!==i&&i,c=(0,s.useTranslation)().t;return o().createElement(r.ComposedModal,{open:t},o().createElement(r.ModalHeader,null,c("areYouSure","Are you sure?")),o().createElement(r.ModalBody,null,c("saveExplanation","Do you want to save the current form and exit the workflow?")),o().createElement(r.ModalFooter,null,o().createElement(r.Button,{kind:"secondary",onClick:function(){return n(!1)}},c("cancel","Cancel")),o().createElement(r.Button,{kind:"primary",onClick:function(){l?a.validateForComplete():a.submitForComplete(),n(!1)}},c("complete","Complete"))))}},3249:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(6072),a=n.n(r),o=n(5987),s=n(1690),i=n(7844);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}const d=function(e){var t=e.formUuid,n=e.patientUuid,c=e.visitUuid,d=e.visitTypeUuid,m=e.encounterUuid,A=e.handlePostResponse,p=e.handleEncounterCreate,f=e.handleOnValidate,_=(0,s.A)(n),y=(0,r.useContext)(i.Ay).activeSessionMeta;(0,r.useEffect)((function(){return function(){return(0,o.detach)("form-widget-slot","form-widget-slot")}}));var v,h,g,C,b=(v=(0,r.useState)(!0),h=2,function(e){if(Array.isArray(e))return e}(v)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(v,h)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(v,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=b[0],w=b[1];return a().createElement("div",null,E&&t&&n&&_&&a().createElement(o.ExtensionSlot,{name:"form-widget-slot",state:{view:"form",formUuid:t,visitUuid:null!=c?c:"",visitTypeUuid:null!=d?d:"",patientUuid:n,patient:_,encounterUuid:null!=m?m:"",closeWorkspace:function(){},handlePostResponse:function(e){A(e),w(!1),setTimeout((function(){w(!0)}))},handleEncounterCreate:p,handleOnValidate:f,showDiscardSubmitButtons:!1,preFilledQuestions:(g=u({},y),C={encDate:y.sessionDate},C=null!=C?C:{},Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(C)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(C)).forEach((function(e){Object.defineProperty(g,e,Object.getOwnPropertyDescriptor(C,e))})),g)}}))}},7844:(e,t,n)=>{n.d(t,{Ay:()=>_,SR:()=>f});var r=n(6072),a=n.n(r),o=n(1511),s=n(7114),i=n(5987),l=n(944);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}var m={setGroup:function(e){},unsetGroup:function(){},setSessionMeta:function(e){},openPatientSearch:function(){},saveEncounter:function(e){},editEncounter:function(e){},validateForNext:function(){},validateForComplete:function(){},updateVisitUuid:function(e){},submitForNext:function(){},submitForReview:function(){},submitForComplete:function(){},addPatientUuid:function(e){},removePatientUuid:function(e){},goToReview:function(){},destroySession:function(){},closeSession:function(){}},A={activeFormUuid:null,forms:{},workflowState:null,activePatientUuid:null,activeEncounterUuid:null,activeSessionUuid:null,activeVisitUuid:null,patientUuids:[],encounters:{},visits:{},activeGroupUuid:null,activeGroupName:null,activeGroupMembers:[],activeSessionMeta:{sessionName:null,practitionerName:null,sessionDate:null,sessionNotes:null},groupVisitTypeUuid:null,userUuid:null},p=a().createContext(d({},A,m)),f=function(e){var t,n,u,f,_,y,v,h,g,C,b,E,w,S,O,D,k,x,P,T,B,N,I,j,F,U,G,R,M,W,z,q,H,L,V,Y,Q,X,J,Z,K,$=e.children,ee=(0,i.useSession)().user,te=(0,s.useParams)().formUuid.split("&")[0],ne=(0,l.A)("@openmrs/esm-fast-data-entry-app.groupSessionVisitTypeUuid"),re=null==ne||null===(f=ne.result)||void 0===f||null===(u=f.data)||void 0===u||null===(n=u.results)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.value,ae=(X=(0,r.useReducer)(o.Ay,d({},A,m)),J=2,function(e){if(Array.isArray(e))return e}(X)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(X,J)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(X,J)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),oe=ae[0],se=ae[1],ie=(0,r.useMemo)((function(){return{initializeWorkflowState:function(e){var t=e.activeFormUuid;return se({type:"INITIALIZE_WORKFLOW_STATE",activeFormUuid:t,userUuid:ee.uuid})},setGroup:function(e){return se({type:"SET_GROUP",group:e})},unsetGroup:function(){return se({type:"UNSET_GROUP"})},setSessionMeta:function(e){return se({type:"SET_SESSION_META",meta:e})},addPatientUuid:function(e){return se({type:"ADD_PATIENT_UUID",patientUuid:e})},removePatientUuid:function(e){return se({type:"REMOVE_PATIENT_UUID",patientUuid:e})},openPatientSearch:function(){return se({type:"OPEN_PATIENT_SEARCH"})},saveEncounter:function(e){return se({type:"SAVE_ENCOUNTER",encounterUuid:e})},validateForNext:function(){return se({type:"VALIDATE_FOR_NEXT"})},validateForComplete:function(){return se({type:"VALIDATE_FOR_COMPLETE"})},updateVisitUuid:function(e){return se({type:"UPDATE_VISIT_UUID",visitUuid:e})},submitForNext:function(e){return se({type:"SUBMIT_FOR_NEXT",nextPatientUuid:e})},submitForComplete:function(){return se({type:"SUBMIT_FOR_COMPLETE"})},editEncounter:function(e){return se({type:"EDIT_ENCOUNTER",patientUuid:e})},goToReview:function(){return se({type:"GO_TO_REVIEW"})},destroySession:function(){return se({type:"DESTROY_SESSION"})},closeSession:function(){return se({type:"CLOSE_SESSION"})}}}),[ee]);return(0,r.useEffect)((function(){null===(null==oe?void 0:oe.workflowState)&&te&&ie.initializeWorkflowState({activeFormUuid:te})}),[te,null==oe?void 0:oe.workflowState,ie]),a().createElement(p.Provider,{value:(Z=d({groupVisitTypeUuid:re},oe,ie),K={workflowState:null!==(G=null===(y=oe.forms)||void 0===y||null===(_=y[oe.activeFormUuid])||void 0===_?void 0:_.workflowState)&&void 0!==G?G:A.workflowState,activeSessionUuid:null!==(R=null===(h=oe.forms)||void 0===h||null===(v=h[oe.activeFormUuid])||void 0===v?void 0:v.activeSessionUuid)&&void 0!==R?R:A.activeSessionUuid,activePatientUuid:null!==(M=null===(C=oe.forms)||void 0===C||null===(g=C[oe.activeFormUuid])||void 0===g?void 0:g.activePatientUuid)&&void 0!==M?M:A.activePatientUuid,activeEncounterUuid:null!==(W=null===(E=oe.forms)||void 0===E||null===(b=E[oe.activeFormUuid])||void 0===b?void 0:b.activeEncounterUuid)&&void 0!==W?W:A.activeEncounterUuid,activeVisitUuid:null!==(z=null===(S=oe.forms)||void 0===S||null===(w=S[oe.activeFormUuid])||void 0===w?void 0:w.activeVisitUuid)&&void 0!==z?z:A.activeVisitUuid,patientUuids:null!==(q=null===(D=oe.forms)||void 0===D||null===(O=D[oe.activeFormUuid])||void 0===O?void 0:O.patientUuids)&&void 0!==q?q:A.patientUuids,encounters:null!==(H=null===(x=oe.forms)||void 0===x||null===(k=x[oe.activeFormUuid])||void 0===k?void 0:k.encounters)&&void 0!==H?H:A.encounters,activeGroupUuid:null!==(L=null===(T=oe.forms)||void 0===T||null===(P=T[oe.activeFormUuid])||void 0===P?void 0:P.groupUuid)&&void 0!==L?L:A.activeGroupUuid,activeGroupName:null!==(V=null===(N=oe.forms)||void 0===N||null===(B=N[oe.activeFormUuid])||void 0===B?void 0:B.groupName)&&void 0!==V?V:A.activeGroupName,activeGroupMembers:null!==(Y=null===(j=oe.forms)||void 0===j||null===(I=j[oe.activeFormUuid])||void 0===I?void 0:I.groupMembers)&&void 0!==Y?Y:A.activeGroupMembers,activeSessionMeta:null!==(Q=null===(U=oe.forms)||void 0===U||null===(F=U[oe.activeFormUuid])||void 0===F?void 0:F.sessionMeta)&&void 0!==Q?Q:A.activeSessionMeta},K=null!=K?K:{},Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(K)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(K)).forEach((function(e){Object.defineProperty(Z,e,Object.getOwnPropertyDescriptor(K,e))})),Z)},$)};const _=p},3694:(e,t,n)=>{n.d(t,{K:()=>o});var r=n(6072),a=n.n(r),o=function(e){var t=e.width,n=void 0===t?"64":t,r=e.height,o=void 0===r?"64":r;return a().createElement("svg",{width:n,height:o,viewBox:"0 0 64 64"},a().createElement("title",null,"Empty data illustration"),a().createElement("g",{fill:"none",fillRule:"evenodd"},a().createElement("path",{d:"M38.133 13.186H21.947c-.768.001-1.39.623-1.39 1.391V50.55l-.186.057-3.97 1.216a.743.743 0 01-.927-.493L3.664 12.751a.742.742 0 01.492-.926l6.118-1.874 17.738-5.43 6.119-1.873a.741.741 0 01.926.492L38.076 13l.057.186z",fill:"#F4F4F4"}),a().createElement("path",{d:"M41.664 13L38.026 1.117A1.576 1.576 0 0036.056.07l-8.601 2.633-17.737 5.43-8.603 2.634a1.578 1.578 0 00-1.046 1.97l12.436 40.616a1.58 1.58 0 001.969 1.046l5.897-1.805.185-.057v-.194l-.185.057-5.952 1.822a1.393 1.393 0 01-1.737-.923L.247 12.682a1.39 1.39 0 01.923-1.738L9.772 8.31 27.51 2.881 36.112.247a1.393 1.393 0 011.737.923L41.47 13l.057.186h.193l-.057-.185z",fill:"#8D8D8D"}),a().createElement("path",{d:"M11.378 11.855a.836.836 0 01-.798-.59L9.385 7.361a.835.835 0 01.554-1.042l16.318-4.996a.836.836 0 011.042.554l1.195 3.902a.836.836 0 01-.554 1.043l-16.318 4.995a.831.831 0 01-.244.037z",fill:"#C6C6C6"}),a().createElement("circle",{fill:"#C6C6C6",cx:17.636,cy:2.314,r:1.855}),a().createElement("circle",{fill:"#FFF",fillRule:"nonzero",cx:17.636,cy:2.314,r:1.175}),a().createElement("path",{d:"M55.893 53.995H24.544a.79.79 0 01-.788-.789V15.644a.79.79 0 01.788-.788h31.349a.79.79 0 01.788.788v37.562a.79.79 0 01-.788.789z",fill:"#F4F4F4"}),a().createElement("path",{d:"M41.47 13H21.948a1.579 1.579 0 00-1.576 1.577V52.4l.185-.057V14.577c.001-.768.623-1.39 1.391-1.39h19.581L41.471 13zm17.02 0H21.947a1.579 1.579 0 00-1.576 1.577v42.478c0 .87.706 1.576 1.576 1.577H58.49a1.579 1.579 0 001.576-1.577V14.577a1.579 1.579 0 00-1.576-1.576zm1.39 44.055c0 .768-.622 1.39-1.39 1.392H21.947c-.768-.001-1.39-.624-1.39-1.392V14.577c0-.768.622-1.39 1.39-1.39H58.49c.768 0 1.39.622 1.39 1.39v42.478z",fill:"#8D8D8D"}),a().createElement("path",{d:"M48.751 17.082H31.686a.836.836 0 01-.835-.835v-4.081c0-.46.374-.834.835-.835H48.75c.461 0 .834.374.835.835v4.08c0 .462-.374.835-.835.836z",fill:"#C6C6C6"}),a().createElement("circle",{fill:"#C6C6C6",cx:40.218,cy:9.755,r:1.855}),a().createElement("circle",{fill:"#FFF",fillRule:"nonzero",cx:40.218,cy:9.755,r:1.13})))}},8101:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pt});var r=n(5987),a=n(6072),o=n.n(a),s=n(1298),i=n(5143),l=n(5573),c=n(7710),u=n.n(c),d=n(4583),m=n.n(d),A=n(6765),p=n.n(A),f=n(8206),_=n.n(f),y=n(3930),v=n.n(y),h=n(4079),g=n.n(h),C=n(8130),b={};b.styleTagTransform=g(),b.setAttributes=_(),b.insert=p().bind(null,"head"),b.domAPI=m(),b.insertStyleElement=v(),u()(C.A,b);const E=C.A&&C.A.locals?C.A.locals:void 0;var w=n(3941),S=n(7844);const O=function(){var e=(0,a.useContext)(S.Ay),t=e.activeGroupName,n=e.activeGroupUuid,r=e.patientUuids,c=e.activeSessionMeta,u=e.unsetGroup,d=e.destroySession,m=(0,w.useTranslation)().t;return n?o().createElement("div",{className:E.container},o().createElement("div",{className:E.groupAvatar,role:"img"},o().createElement(i.sV,{size:48})),o().createElement("div",{className:E.groupInfoContent},o().createElement("div",{className:E.groupInfoRow},o().createElement("span",{className:E.groupName},t)),o().createElement("div",{className:E.groupInfoRow},o().createElement("span",null,r.length," ",m("members","members")))),(null==c?void 0:c.sessionNotes)&&o().createElement("div",{className:E.groupMeataContent},o().createElement("div",{className:"".concat(E.groupInfoRow," ").concat(E.sessionNotesLabel)},m("sessionNotes","Session Notes")),o().createElement("div",{className:E.groupInfoRow},c.sessionNotes)),o().createElement("span",{style:{flexGrow:1}}),o().createElement("span",null,o().createElement(s.Button,{kind:"ghost",onClick:function(){return u()}},m("changeGroup","Choose a different group")," ",o().createElement(l.bm,{size:20}))),o().createElement("span",null,o().createElement(s.Button,{kind:"ghost",onClick:function(){return d()}},m("cancel","Cancel")," ",o().createElement(l.bm,{size:20})))):null};var D=n(4487),k={};k.styleTagTransform=g(),k.setAttributes=_(),k.insert=p().bind(null,"head"),k.domAPI=m(),k.insertStyleElement=v(),u()(D.A,k);const x=D.A&&D.A.locals?D.A.locals:void 0;var P=n(7644),T=n(158),B={};B.styleTagTransform=g(),B.setAttributes=_(),B.insert=p().bind(null,"head"),B.domAPI=m(),B.insertStyleElement=v(),u()(T.A,B);const N=T.A&&T.A.locals?T.A.locals:void 0;var I=n(9346),j={};j.styleTagTransform=g(),j.setAttributes=_(),j.insert=p().bind(null,"head"),j.domAPI=m(),j.insertStyleElement=v(),u()(I.A,j);const F=I.A&&I.A.locals?I.A.locals:void 0;var U=n(1894),G={};G.styleTagTransform=g(),G.setAttributes=_(),G.insert=p().bind(null,"head"),G.domAPI=m(),G.insertStyleElement=v(),u()(U.A,G);const R=U.A&&U.A.locals?U.A.locals:void 0;var M=n(3694),W=n(4959),z={};z.styleTagTransform=g(),z.setAttributes=_(),z.insert=p().bind(null,"head"),z.domAPI=m(),z.insertStyleElement=v(),u()(W.A,z);const q=W.A&&W.A.locals?W.A.locals:void 0;function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const L=function(e){var t,n,r=(t=(0,a.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],s=r[1];return(0,a.useEffect)((function(){var t=function(t){t.key===e&&s(!0)},n=function(t){t.key===e&&s(!1)};return window.addEventListener("keydown",t),window.addEventListener("keyup",n),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n)}}),[e]),o};function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(e,t){switch(t.type){case"arrowUp":return{selectedIndex:Math.max(e.selectedIndex-1,0)};case"arrowDown":return{selectedIndex:Math.min(e.selectedIndex+1,t.listLength-1)};case"select":return{selectedIndex:t.payload};default:return e}},Q={behavior:"smooth",block:"nearest"},X=function(e){var t,n,r=e.index,s=e.selectGroupAction,l=e.group,c=e.dispatch,u=e.state,d=e.totalGroups,m=e.lastRef,A=(0,a.useRef)(null),p=(0,w.useTranslation)().t;return(0,a.useEffect)((function(){u.selectedIndex===d-1?m.current.scrollIntoView(Q):u.selectedIndex===r&&A.current.scrollIntoView(Q)}),[u,r,d,m]),o().createElement("div",{onClick:function(){c({type:"select",payload:r}),s(l)},className:"".concat(q.patientSearchResult," ").concat(r===u.selectedIndex&&q.patientSearchResultSelected),role:"button","aria-pressed":r===u.selectedIndex,tabIndex:0,ref:A},o().createElement("div",{className:q.patientAvatar,role:"img"},o().createElement(i.sV,{size:24})),o().createElement("div",null,o().createElement("h2",{className:q.patientName},l.name),o().createElement("p",{className:q.demographics},null!==(n=null===(t=l.cohortMembers)||void 0===t?void 0:t.length)&&void 0!==n?n:0," ",p("members","members"),o().createElement("span",{className:q.middot},"·")," ",l.description)))},J=function(){return o().createElement("div",{className:q.patientSearchResult},o().createElement("div",{className:q.patientAvatar,role:"img"},o().createElement(s.SkeletonIcon,{style:{height:"3rem",width:"3rem"}})),o().createElement("div",null,o().createElement("h2",{className:q.patientName},o().createElement(s.SkeletonText,null)),o().createElement("span",{className:q.demographics},o().createElement(s.SkeletonIcon,null)," ",o().createElement("span",{className:q.middot},"·")," ",o().createElement(s.SkeletonIcon,null)," ",o().createElement("span",{className:q.middot},"·")," ",o().createElement(s.SkeletonIcon,null))))};const Z=function(e){var t,n,r=e.groups,s=e.selectGroupAction,i=e.lastRef,l=L("ArrowUp"),c=L("ArrowDown"),u=L("Enter"),d=(t=(0,a.useReducer)(Y,{selectedIndex:0}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],A=d[1];return(0,a.useEffect)((function(){l&&A({type:"arrowUp"})}),[l]),(0,a.useEffect)((function(){c&&A({type:"arrowDown",listLength:r.length})}),[c,r.length]),(0,a.useEffect)((function(){u&&r.length&&s(r[m.selectedIndex])}),[u,s,r,m.selectedIndex]),o().createElement(o().Fragment,null,r.map((function(e,t){return o().createElement(X,{key:t,totalGroups:r.length,lastRef:i,index:t,selectGroupAction:s,group:e,dispatch:A,state:m})})))};var K=n(8647),$=n.n(K);function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}function ae(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}var oe=function(e){var t,n,o,s,i,l,c,u,d,m,A,p,f,_,y,v=ne({},function(e){if(null==e)throw new TypeError("Cannot destructure "+e);return e}(e));return t=re({baseUrl:"".concat(r.restBaseUrl,"/cohortm/cohort"),resultsToFetch:10},v),n=t.baseUrl,o=t.searchTerm,s=t.parameters,l=void 0===(i=t.searching)||i,c=t.resultsToFetch,u=void 0===c?10:c,d=(0,a.useCallback)((function(e,t){var r;if(t&&!(null==t||null===(r=t.data)||void 0===r?void 0:r.links.some((function(e){return"next"===e.rel}))))return null;var a="".concat(n,"?q=").concat(o),i=re({totalCount:!0,limit:u},s);return Object.entries(i).forEach((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||ae(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],s=r[1];null!=s&&(a+="&".concat(o,"=").concat(s))})),e&&(a+="&startIndex=".concat(e*u)),a}),[n,o,s,u]),m=$()(l?d:null,r.openmrsFetch),A=m.data,p=m.isValidating,f=m.setSize,_=m.error,y=m.size,(0,a.useMemo)((function(){var e,t,n,r,a,o,s;return{data:A?(e=[]).concat.apply(e,(s=null!==(o=null==A?void 0:A.map((function(e){var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.results})))&&void 0!==o?o:[],function(e){if(Array.isArray(e))return ee(e)}(s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||ae(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):null,isLoading:!A&&!_,error:_,hasMore:!!(null==A?void 0:A.length)&&!!(null===(n=A[A.length-1].data)||void 0===n||null===(t=n.links)||void 0===t?void 0:t.some((function(e){return"next"===e.rel}))),loadingNewData:p,setPage:f,currentPage:y,totalResults:null==A||null===(a=A[0])||void 0===a||null===(r=a.data)||void 0===r?void 0:r.totalCount}}),[A,p,_,f,y])};const se=function(e){var t=e.query,n=void 0===t?"":t,r=e.selectGroupAction,i=(0,w.useTranslation)().t,l=oe({searchTerm:n,searching:!!n,parameters:{v:"full"}}),c=l.isLoading,u=l.data,d=l.error,m=l.loadingNewData,A=l.setPage,p=l.hasMore,f=l.totalResults,_=(0,a.useRef)(null),y=(0,a.useRef)(null),v=(0,a.useCallback)((function(e){m||(y.current&&y.current.disconnect(),y.current=new IntersectionObserver((function(e){e[0].isIntersecting&&p&&A((function(e){return e+1}))}),{threshold:.75}),e&&y.current.observe(e))}),[m,p,A]);return d?o().createElement("div",{className:R.searchResults},o().createElement(s.Layer,null,o().createElement(s.Tile,{className:R.emptySearchResultsTile},o().createElement(M.K,null),o().createElement("div",null,o().createElement("p",{className:R.errorMessage},i("error","Error")),o().createElement("p",{className:R.errorCopy},i("errorCopy","Sorry, there was an error. You can try to reload this page, or contact the site administrator and quote the error code above.")))))):c?o().createElement("div",{className:R.searchResultsContainer},o().createElement(J,null),o().createElement(J,null),o().createElement(J,null),o().createElement(J,null),o().createElement(J,null)):0===(null==u?void 0:u.length)?o().createElement("div",{className:R.searchResults},o().createElement(s.Layer,null,o().createElement(s.Tile,{className:R.emptySearchResultsTile},o().createElement(M.K,null),o().createElement("p",{className:R.emptyResultText},i("noGroupsFoundMessage","Sorry, no groups have been found")),o().createElement("p",{className:R.actionText},o().createElement("span",null,i("trySearchWithPatientUniqueID","Try searching with the cohort's description")),o().createElement("br",null),o().createElement("span",null,i("orLabelName","OR label name")))))):o().createElement("div",{className:R.searchResultsContainer},o().createElement("div",{className:R.searchResults,style:{maxHeight:"22rem"}},o().createElement("p",{className:R.resultsText},f," ",i("searchResultsText","search result(s)")),o().createElement(Z,{groups:u,selectGroupAction:r,lastRef:_}),o().createElement("div",{ref:_},o().createElement("div",{className:R.lastItem,ref:v},p&&o().createElement(s.Loading,{withOverlay:!1,small:!0}),!p&&o().createElement("p",null,i("noMoreResults","End of search results"))))))};var ie=n(3366);function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ue=function(e){var t=e.selectGroupAction,n=(0,w.useTranslation)().t,r=ce((0,a.useState)(""),2),i=r[0],l=r[1],c=ce((0,a.useState)(!1),2),u=c[0],d=c[1];return o().createElement("div",{className:F.patientSearchBar},o().createElement("div",{className:F.searchArea},o().createElement(s.Search,{autoFocus:!0,className:F.patientSearchInput,closeButtonLabelText:n("clearSearch","Clear"),labelText:"",onChange:function(e){var t;t=e.target.value,(0,ie.A)((function(e){d(!!t.length),l(e)}),300),l(t),t.length?d(!0):d(!1)},onClear:function(){},placeholder:n("searchForGroup","Search for a group by name"),size:"sm",value:i}),o().createElement(s.Button,{kind:"secondary",size:"sm"},n("search","Search"))),u&&o().createElement("div",{className:F.floatingSearchResultsContainer},o().createElement(se,{query:i,selectGroupAction:function(e){t(e),d(!1),l("")}})))};var de=n(7376),me=n(5543),Ae={};Ae.styleTagTransform=g(),Ae.setAttributes=_(),Ae.insert=p().bind(null,"head"),Ae.domAPI=m(),Ae.insertStyleElement=v(),u()(me.A,Ae);const pe=me.A&&me.A.locals?me.A.locals:void 0;var fe=n(8453);function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ye(e,t,n[t])}))}return e}function he(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||Ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){if(e){if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}var be=o().memo(r.ExtensionSlot),Ee=function(e){var t=e.patient,n=e.removePatient,i=(0,w.useTranslation)().t,l=(0,r.usePatient)(null==t?void 0:t.uuid),c=l.patient,u=l.error,d=l.isLoading,m=(0,a.useCallback)((function(){return n(null==t?void 0:t.uuid)}),[t,n]),A=(0,a.useMemo)((function(){var e,t,n;if(d||u||!c)return"";var r=c.identifier,a=c.name,o=(null==r||null===(e=r[0])||void 0===e?void 0:e.value)||"",s="".concat(((null==a||null===(t=a[0])||void 0===t?void 0:t.given)||[]).join(" ")," ").concat((null==a||null===(n=a[0])||void 0===n?void 0:n.family)||"");return"".concat(o?"".concat(o," -"):"").concat(s?" ".concat(s):"").trim()}),[d,u,c]);return o().createElement("li",{className:pe.patientRow},o().createElement("span",null,o().createElement(s.Button,{kind:"tertiary",size:"sm",hasIconOnly:!0,onClick:m,renderIcon:de.zH,tooltipAlignment:"start",tooltipPosition:"top",iconDescription:i("remove","Remove")})),o().createElement("span",{className:pe.patientName},A))},we=function(e){var t=e.name,n=e.setName,r=e.patientList,a=e.updatePatientList,i=e.errors,l=e.validate,c=e.removePatient,u=(0,w.useTranslation)().t;return o().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"1rem"}},o().createElement(s.TextInput,{labelText:u("newGroupName","New Group Name"),value:t,onChange:function(e){return n(e.target.value)},onBlur:function(){return l("name")}}),(null==i?void 0:i.name)&&o().createElement("p",{className:pe.formError},"required"===i.name?u("groupNameError","Please enter a group name."):i.name),o().createElement(s.FormLabel,null,r.length," ",u("patientsInGroup","Patients in group")),(null==i?void 0:i.patientList)&&o().createElement("p",{className:pe.formError},u("noPatientError","Please enter at least one patient.")),!(null==i?void 0:i.patientList)&&o().createElement("ul",{className:pe.patientList},null==r?void 0:r.map((function(e,t){return o().createElement(Ee,{patient:e,removePatient:c,key:e.uuid})}))),o().createElement(s.FormLabel,null,u("searchForPatientsToAddToGroup","Search for patients to add to group")),o().createElement("div",{className:pe.searchBar},o().createElement(be,{extensionSlotName:"patient-search-bar-slot",state:{selectPatientAction:a,buttonProps:{kind:"secondary"}}})))};const Se=function(e){var t=e.patients,n=void 0===t?void 0:t,i=e.isCreate,l=void 0===i?void 0:i,c=e.groupName,u=void 0===c?"":c,d=e.cohortUuid,m=void 0===d?void 0:d,A=e.isOpen,p=e.onPostCancel,f=e.onPostSubmit,_=(0,a.useContext)(S.Ay).setGroup,y=(0,w.useTranslation)().t,v=ge((0,a.useState)({}),2),h=v[0],g=v[1],C=ge((0,a.useState)(u),2),b=C[0],E=C[1],O=ge((0,a.useState)(n||[]),2),D=O[0],k=O[1],x=(0,fe.tD)(),P=x.post,T=x.result,B=x.error,N=(0,r.useConfig)(),I=(0,a.useCallback)((function(e){return k((function(t){return t.filter((function(t){return t.uuid!==e}))}))}),[k]),j=(0,a.useCallback)((function(e){var t=!0;return e?(t="name"===e?!!b:!!D.length,g((function(n){return he(ve({},n),ye({},e,t?null:"required"))}))):(b?g((function(e){return he(ve({},e),{name:null})})):(g((function(e){return he(ve({},e),{name:"required"})})),t=!1),D.length?g((function(e){return he(ve({},e),{patientList:null})})):(g((function(e){return he(ve({},e),{patientList:"required"})})),t=!1)),t}),[b,D.length]),F=(0,a.useCallback)((function(e){var t=function(e){var t,n,r,a;return[null==e||null===(n=e.name)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.given,null==e||null===(a=e.name)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.family].join(" ")};D.find((function(t){return t.uuid===e}))||(0,r.fetchCurrentPatient)(e).then((function(n){var r,a=ve({uuid:e},n);k((r=D,function(e){if(Array.isArray(e))return _e(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||Ce(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([a]).sort((function(e,n){return t(e).localeCompare(t(n),void 0,{sensitivity:"base"})})))})),g((function(e){return he(ve({},e),{patientList:null})}))}),[D,k]),U=function(){k(n||[]),p&&p()};return(0,a.useEffect)((function(){T&&_(he(ve({},T),{cohortMembers:D.map((function(e){return{patient:{uuid:e.uuid}}}))}))}),[T,_,D]),(0,a.useEffect)((function(){var e;B&&((0,r.showToast)({kind:"error",title:y("postError","POST Error"),description:null!==(e=B.message)&&void 0!==e?e:y("unknownPostError","An unknown error occurred while saving data")}),B.fieldErrors&&g(Object.fromEntries(Object.entries(B.fieldErrors).map((function(e){var t,n=ge(e,2),r=n[0],a=n[1];return[r,null==a||null===(t=a[0])||void 0===t?void 0:t.message]})))))}),[B,y]),o().createElement("div",{className:pe.modal},o().createElement(s.ComposedModal,{open:A,onClose:U},o().createElement(s.ModalHeader,null,l?y("createNewGroup","Create New Group"):y("editGroup","Edit Group")),o().createElement(s.ModalBody,null,o().createElement(we,{name:b,setName:E,patientList:D,updatePatientList:F,errors:h,validate:j,removePatient:I})),o().createElement(s.ModalFooter,null,o().createElement(s.Button,{kind:"secondary",onClick:U},y("cancel","Cancel")),o().createElement(s.Button,{kind:"primary",onClick:function(){var e;j()&&(P({uuid:m,name:b,cohortType:null==N||null===(e=N.groupSessionConcepts)||void 0===e?void 0:e.cohortTypeId,cohortMembers:D.map((function(e){return{patient:e.uuid}}))}),f&&f())}},l?y("createGroup","Create Group"):y("save","Save")))))};function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const De=function(){var e,t,n=(0,w.useTranslation)().t,r=(0,a.useContext)(S.Ay),i=r.activeGroupUuid,c=r.setGroup,u=r.destroySession,d=(e=(0,a.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],A=d[1],p=(0,a.useCallback)((function(){A(!1)}),[]),f=(0,a.useCallback)((function(){A(!1)}),[]),_=(0,a.useCallback)((function(){A(!0)}),[]);return i?null:o().createElement("div",{className:N.searchHeaderContainer},o().createElement("span",{className:N.padded},n("findGroup","Find group"),":"),o().createElement("span",{className:N.searchBarWrapper},o().createElement(ue,{selectGroupAction:function(e){e.cohortMembers.sort((function(e,t){var n,r,a,o,s,i,l,c,u=null==e||null===(o=e.patient)||void 0===o||null===(a=o.person)||void 0===a||null===(r=a.names)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.display,d=null==t||null===(c=t.patient)||void 0===c||null===(l=c.person)||void 0===l||null===(i=l.names)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.display;return u.localeCompare(d,void 0,{sensitivity:"base"})})),c(e)}})),o().createElement("span",{className:N.padded},n("or","or")),o().createElement("span",null,o().createElement(s.Button,{onClick:_,renderIcon:P.OM,iconDescription:"Add"},n("createNewGroup","Create New Group")),o().createElement(Se,{isCreate:!0,isOpen:m,onPostCancel:p,onPostSubmit:f})),o().createElement("span",{style:{flexGrow:1}}),o().createElement("span",null,o().createElement(s.Button,{kind:"ghost",onClick:function(){u()}},n("cancel","Cancel")," ",o().createElement(l.bm,{size:20}))))};var ke=n(9785),xe=n(7104),Pe=n(7114);function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=function(e){var t,n,r,i,l,c,u,d=e.patient,m=(0,a.useContext)(S.Ay),A=m.patientUuids,p=m.addPatientUuid,f=m.removePatientUuid,_=null==d||null===(r=d.name)||void 0===r||null===(n=r[0])||void 0===n||null===(t=n.given)||void 0===t?void 0:t[0],y=null==d||null===(l=d.name)||void 0===l||null===(i=l[0])||void 0===i?void 0:i.family,v=null==d||null===(u=d.identifier)||void 0===u||null===(c=u[0])||void 0===c?void 0:c.value;return d?o().createElement(s.TableRow,null,o().createElement(s.TableCell,null,d.display||d.displayName||[_,y].join(" ")),o().createElement(s.TableCell,null,v),o().createElement(s.TableCell,null,o().createElement(s.Checkbox,{checked:A.includes(d.id),labelText:d.id,hideLabel:!0,id:"".concat(v,"-attendance-checkbox"),onChange:function(e,t){t.checked?p(d.id):f(d.id)}}))):o().createElement(s.TableRow,null,o().createElement(s.TableCell,null,o().createElement(s.SkeletonText,null)),o().createElement(s.TableCell,null,o().createElement(s.SkeletonText,null)),o().createElement(s.TableCell,null,o().createElement(s.Checkbox,{diabled:!0})))};const Ie=function(e){var t,n,r=e.patients,l=(0,w.useTranslation)().t,c=(0,a.useContext)(S.Ay),u=c.activeGroupUuid,d=c.activeGroupName,m=c.activeGroupMembers,A=(t=(0,a.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=A[0],f=A[1],_=[l("name","Name"),l("identifier","Patient ID"),l("patientIsPresent","Patient is present")],y=(0,a.useCallback)((function(){f(!1)}),[]),v=(0,a.useCallback)((function(){f(!1)}),[]),h=(0,a.useMemo)((function(){return m.map((function(e){var t=r.find((function(t){return t.id===e}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Be(e,t,n[t])}))}return e}({uuid:e},t)}))}),[m,r]);return u?o().createElement("div",null,o().createElement("span",{style:{flexGrow:1}}),o().createElement(s.Button,{kind:"ghost",onClick:function(){return f(!0)}},l("editGroup","Edit Group")," ",o().createElement(i.ff,{size:20})),o().createElement(Se,{cohortUuid:u,patients:h,isCreate:!1,groupName:d,isOpen:p,onPostCancel:y,onPostSubmit:v}),o().createElement(s.Table,null,o().createElement(s.TableHead,null,o().createElement(s.TableRow,null,_.map((function(e,t){return o().createElement(s.TableHeader,{key:t},e)})))),o().createElement(s.TableBody,null,m.map((function(e,t){var n=r.find((function(t){return t.id===e}));return o().createElement(Ne,{patient:n,key:t})}))))):o().createElement("div",null,l("selectGroupFirst","Please select a group first"))};function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function Ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){Fe(o,r,a,s,i,"next",e)}function i(e){Fe(o,r,a,s,i,"throw",e)}s(void 0)}))}}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){var n,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Me(e,t,n[t])}))}return e}function ze(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const qe=function(e){var t=e.register,n=e.specificQuestions;return o().createElement(o().Fragment,null,null==n?void 0:n.map((function(e){var n;return o().createElement("div",{key:e.question.id},(null==e||null===(n=e.answers)||void 0===n?void 0:n.length)>0?o().createElement(s.Select,ze(We({},t(e.question.id,{required:!1})),{id:e.question.id,labelText:e.question.display}),o().createElement(s.SelectItem,{value:"",text:""}),e.answers.map((function(e){return o().createElement(s.SelectItem,{key:e.value,value:e.value,text:e.display})}))):o().createElement(s.TextInput,ze(We({id:e.question.id},t(e.question.id,{required:!1})),{type:"text",labelText:e.question.display})))})))};var He=n(5721);function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Le(e,t,n[t])}))}return e}function Ye(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Qe=function(){var e=(0,r.useConfig)().specificQuestions,t=(0,Pe.useParams)().formUuid,n=(0,He.A)(t,e).questions,i=(0,w.useTranslation)().t,l=(0,ke.xW)(),c=l.register,u=l.formState.errors,d=l.control,m=function(e){var t=Ge((0,a.useState)([]),2),n=t[0],o=t[1],s=Ge((0,a.useState)(!0),2),i=s[0],l=s[1];(0,a.useEffect)((function(){e&&0!==e.length?u(e):(o([]),l(!1))}),[e]);var c,u=(c=Ue((function(e){var t,n;return Re(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),l(!0),[4,Promise.all(e.map(function(){var e=Ue((function(e){return Re(this,(function(t){switch(t.label){case 0:return[4,(0,r.fetchCurrentPatient)(e)];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 1:return t=a.sent(),o(t),l(!1),[3,3];case 2:return n=a.sent(),console.error("Error fetching patients:",n),l(!1),[3,3];case 3:return[2]}}))})),function(e){return c.apply(this,arguments)});return{patients:n,isLoading:i}}((0,a.useContext)(S.Ay).activeGroupMembers),A=m.patients,p=m.isLoading;return o().createElement("div",null,!p&&o().createElement("div",{className:x.formSection},o().createElement("h4",null,i("sessionDetails","1. Session details")),o().createElement("div",null,o().createElement("p",null,i("allFieldsRequired","All fields are required unless marked optional"))),o().createElement(s.Layer,null,o().createElement(s.Tile,{className:x.formSectionTile},o().createElement(s.Layer,null,o().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"1.5rem"}},o().createElement(s.TextInput,Ye(Ve({id:"text",type:"text",labelText:i("sessionName","Session Name")},c("sessionName",{required:!0})),{invalid:u.sessionName,invalidText:i("requiredField","This field is required")})),o().createElement(s.TextInput,Ye(Ve({id:"text",type:"text",labelText:i("practitionerName","Practitioner Name")},c("practitionerName",{required:!0})),{invalid:u.practitionerName,invalidText:i("requiredField","This field is required")})),o().createElement(ke.xI,{name:"sessionDate",control:d,rules:{required:!0},render:function(e){var t=e.field;return o().createElement(s.DatePicker,Ve({datePickerType:"single",size:"md",maxDate:new Date},t),o().createElement(s.DatePickerInput,{id:"session-date",labelText:i("sessionDate","Session Date"),placeholder:"mm/dd/yyyy",size:"md",invalid:u.sessionDate,invalidText:i("requiredField","This field is required")}))}}),o().createElement(s.TextArea,Ye(Ve({id:"text",type:"text",labelText:i("sessionNotes","Session Notes")},c("sessionNotes",{required:!0})),{invalid:u.sessionNotes,invalidText:i("requiredField","This field is required")})))))),o().createElement("h4",null,i("sessionParticipants","2. Session participants")),o().createElement("div",null,o().createElement("p",null,i("markAbsentPatients","The patients in this group. Patients that are not present in the session should be marked as absent."))),o().createElement(s.Layer,null,o().createElement(s.Tile,{className:x.formSectionTile},o().createElement(s.Layer,null,o().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"1.5rem"}},o().createElement(Ie,{patients:A}))))),(null==n?void 0:n.length)>0?o().createElement(o().Fragment,null,o().createElement("h4",null,i("sessionSpecificDetails","3. Specific details")),o().createElement("div",null,o().createElement("p",null,i("sessionSpecificDetailsDescription","They will be mapped to form responses for all patients as pre-filled data."))),o().createElement(s.Layer,null,o().createElement(s.Tile,{className:x.formSectionTile},o().createElement(s.Layer,null,o().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"1.5rem"}},o().createElement(qe,{register:c,specificQuestions:n})))))):null))};function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Je(e,t,n[t])}))}return e}var Ke=function(){var e,t,n=(0,w.useTranslation)().t,r=(0,a.useContext)(S.Ay),i=r.workflowState,l=r.patientUuids,c=(e=(0,a.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],d=c[1];return"NEW_GROUP_SESSION"!==i?null:o().createElement(o().Fragment,null,o().createElement("div",{className:x.rightPanelActionButtons},o().createElement(s.Button,{kind:"secondary",type:"submit",disabled:!l.length},n("createNewSession","Create New Session")),o().createElement(s.Button,{kind:"tertiary",onClick:function(){d(!0)}},n("cancel","Cancel"))),o().createElement(xe.A,{open:u,setOpen:d,context:r}))},$e=function(){var e=(0,w.useTranslation)().t,t=(0,ke.xW)(),n=t.register,r=t.formState.errors,s=t.setValue,i=(0,a.useContext)(S.Ay).activeGroupUuid;return(0,a.useEffect)((function(){i&&s("groupUuid",i)}),[i,s]),o().createElement(o().Fragment,null,o().createElement("input",Ze({hidden:!0},n("groupUuid",{value:i,required:e("chooseGroupError","Please choose a group.")}))),r.groupUuid&&!i&&o().createElement("div",{className:x.formError},r.groupUuid.message))};const et=function(){var e=(0,w.useTranslation)().t,t=(0,a.useContext)(S.Ay),n=t.setSessionMeta,r=t.workflowState,s=(0,ke.mN)();return"NEW_GROUP_SESSION"!==r?null:o().createElement(ke.Op,s,o().createElement("form",{onSubmit:s.handleSubmit((function(e){var t,r,a=e.sessionDate,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["sessionDate"]);n((t=Ze({},o),r=null!=(r={sessionDate:a[0]})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t))}))},o().createElement("div",{className:x.workspace},o().createElement("div",{className:x.formMainContent},o().createElement("div",{className:x.formContainer},o().createElement(Qe,null)),o().createElement("div",{className:x.rightPanel},o().createElement("h4",null,e("newGroupSession","New Group Session")),o().createElement($e,null),o().createElement("hr",{style:{width:"100%"}}),o().createElement(Ke,null))))))};var tt=n(8429),nt=n(2302),rt=n(3249),at=n(809);function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){st(e,t,n[t])}))}return e}function lt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){if(e){if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}var dt=(0,r.getGlobalStore)("ampath-form-state"),mt=function(){var e=(0,a.useContext)(S.Ay),t=e.activeFormUuid,n=e.submitForNext,i=e.patientUuids,l=e.activePatientUuid,c=e.workflowState,u=(0,r.useStore)(dt)[t],d=("ready"!==u||"EDIT_FORM"!==c)&&"readyWithValidationErrors"!==u,m=ct((0,a.useState)(!1),2),A=m[0],p=m[1],f=ct((0,a.useState)(!1),2),_=f[0],y=f[1],v=(0,w.useTranslation)().t,h=l===i[i.length-1];return o().createElement(o().Fragment,null,o().createElement("div",{className:x.rightPanelActionButtons},o().createElement(s.Button,{kind:"primary",onClick:function(){"EDIT_FORM"!==c&&"readyWithValidationErrors"!==u||n()},disabled:d},h?v("saveForm","Save Form"):v("nextPatient","Next patient")),o().createElement(s.Button,{kind:"secondary",onClick:function(){return y(!0)}},v("saveAndComplete","Save & Complete")),o().createElement(s.Button,{kind:"tertiary",onClick:function(){return p(!0)}},v("cancel","Cancel"))),o().createElement(xe.A,{open:A,setOpen:p,context:e}),o().createElement(at.A,{open:_,setOpen:y,context:e,validateFirst:!1}))};const At=function(){var e=(0,r.useConfig)().groupSessionConcepts,t=(0,w.useTranslation)().t,n=(0,a.useContext)(S.Ay),s=n.patientUuids,i=n.activePatientUuid,l=n.encounters,c=n.activeEncounterUuid,u=n.activeVisitUuid,d=n.activeFormUuid,m=n.activeGroupUuid,A=n.activeGroupName,p=n.activeSessionUuid,f=n.saveEncounter,_=n.activeSessionMeta,y=n.groupVisitTypeUuid,v=n.updateVisitUuid,h=n.submitForNext,g=n.workflowState,C=(0,r.useSession)().sessionLocation;(0,a.useEffect)((function(){u&&v(u)}),[v,u,i]);var b=(0,a.useCallback)((function(t){var n=new Date(_.sessionDate);t.obs.forEach((function(e,r){var a;t.obs[r]=lt(it({},e),{groupMembers:null===(a=e.groupMembers)||void 0===a?void 0:a.map((function(e){return lt(it({},e),{obsDatetime:n.toISOString()})})),obsDatetime:n.toISOString()})}));var r,a=u||(0,nt.A)();if(!u){var o;Object.entries(e).forEach((function(e){var n=ct(e,2),r=n[0],a=n[1];null!=(null==_?void 0:_[r])&&t.obs.push({concept:a,value:_[r]})}));var s=[{concept:e.cohortId,value:m},{concept:e.cohortName,value:A},{concept:e.sessionUuid,value:p}];(o=t.obs).push.apply(o,function(e){if(Array.isArray(e))return ot(e)}(r=s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||ut(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var l={startDatetime:_.sessionDate,stopDatetime:_.sessionDate,uuid:a,patient:{uuid:i},location:{uuid:null==C?void 0:C.uuid},visitType:{uuid:y}};t.visit=l,v(a)}t.location=null==C?void 0:C.uuid,t.encounterDatetime=n.toISOString()}),[_,u,null==C?void 0:C.uuid,e,m,A,p,i,y,v]),E=(0,a.useCallback)((function(e){e&&e.uuid&&f(e.uuid)}),[f]),O=(0,a.useCallback)((function(e){h(e)}),[h]);return"NEW_GROUP_SESSION"===g?null:o().createElement("div",{className:x.workspace},o().createElement("div",{className:x.formMainContent},o().createElement("div",{className:x.formContainer},o().createElement(rt.A,{patientUuid:i,encounterUuid:c,formUuid:d,handlePostResponse:E,handleEncounterCreate:b})),o().createElement("div",{className:x.rightPanel},o().createElement("h4",null,t("formsFilled","Forms filled")),o().createElement("div",{className:x.patientCardsSection},null==s?void 0:s.map((function(e){return o().createElement(tt.A,{key:e,patientUuid:e,activePatientUuid:i,editEncounter:O,encounters:l})}))),o().createElement(mt,null))))},pt=function(){return o().createElement(S.SR,null,o().createElement("div",{className:x.breadcrumbsContainer},o().createElement(r.ExtensionSlot,{name:"breadcrumbs-slot"})),o().createElement(De,null),o().createElement(O,null),o().createElement("div",{className:x.workspaceWrapper},o().createElement(et,null),o().createElement(At,null)))}},8429:(e,t,n)=>{n.d(t,{A:()=>S});var r=n(6614),a=n(8377),o=n(1298),s=n(6072),i=n.n(s),l=n(1690),c=n(7710),u=n.n(c),d=n(4583),m=n.n(d),A=n(6765),p=n.n(A),f=n(8206),_=n.n(f),y=n(3930),v=n.n(y),h=n(4079),g=n.n(h),C=n(6028),b={};b.styleTagTransform=g(),b.setAttributes=_(),b.insert=p().bind(null,"head"),b.domAPI=m(),b.insertStyleElement=v(),u()(C.A,b);const E=C.A&&C.A.locals?C.A.locals:void 0;var w=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.active,a=e.children;return i().createElement("div",{onClick:n,className:"".concat(E.cardContainer," ").concat(!r&&E.inactiveCard),role:"button",tabIndex:0},a)};const S=function(e){var t,n,s,c,u,d,m,A=e.patientUuid,p=e.activePatientUuid,f=e.editEncounter,_=e.encounters,y=(0,l.A)(A),v=null==y||null===(s=y.name)||void 0===s||null===(n=s[0])||void 0===n||null===(t=n.given)||void 0===t?void 0:t[0],h=null==y||null===(u=y.name)||void 0===u||null===(c=u[0])||void 0===c?void 0:c.family,g=null==y||null===(m=y.identifier)||void 0===m||null===(d=m[0])||void 0===d?void 0:d.value;if(!y)return i().createElement(w,{active:!0},i().createElement(o.SkeletonText,{className:E.skeletonText}));var C=p===A;return i().createElement(w,{onClick:C?function(){}:function(){return f(A)},active:C},i().createElement("div",{className:E.patientInfo},i().createElement("div",{className:E.identifier},g),i().createElement("div",{className:"".concat(E.displayName," ").concat(C&&E.activeDisplayName)},v," ",h)),i().createElement("div",null,A in _?i().createElement(r.cR,{size:16,className:E.statusSuccess}):i().createElement(a.Cp,{size:16,className:E.statusWarning})))}}}]);