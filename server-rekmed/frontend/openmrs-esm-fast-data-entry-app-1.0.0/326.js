"use strict";(globalThis.webpackChunk_openmrs_esm_fast_data_entry_app=globalThis.webpackChunk_openmrs_esm_fast_data_entry_app||[]).push([[326],{496:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1354),r=n.n(a),o=n(6314),s=n.n(o)()(r());s.push([e.id,".-esm-fast-data-entry__styles__formReviewCard___dhCCs{background-color:#fff;padding:.25rem}.-esm-fast-data-entry__styles__formReviewCard___dhCCs .cds--accordion .cds--accordion__item{border:none}.-esm-fast-data-entry__styles__formReviewCard___dhCCs .cds--accordion__title{display:flex;align-items:baseline;column-gap:1rem}.-esm-fast-data-entry__styles__formReviewCard___dhCCs .cds--accordion__content{padding:.5rem}.-esm-fast-data-entry__styles__dataField___hsm37{font-family:var(--cds-code-02-font-family, 'IBM Plex Mono', system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', monospace);font-size:var(--cds-code-02-font-size, 0.875rem);font-weight:var(--cds-code-02-font-weight, 400);line-height:var(--cds-code-02-line-height, 1.42857);letter-spacing:var(--cds-code-02-letter-spacing, 0.32px);background-color:#f4f4f4;padding:.5rem}.-esm-fast-data-entry__styles__displayName___cSKCu{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0);font-weight:bold}.-esm-fast-data-entry__styles__identifier___vFKSg{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}","",{version:3,sources:["webpack://./src/form-entry-workflow/form-review-card/styles.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,sDACE,qBCqHQ,CDpHR,cEUW,CFPb,4FACE,WAAA,CAGF,6EACE,YAAA,CACA,oBAAA,CACA,eEeW,CFZb,+EACE,aECW,CFEb,iDG20BI,yIAAA,CAAA,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CHz0BF,wBCiBQ,CDhBR,aELW,CFQb,mDGq0BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CHn0BF,gBAAA,CAGF,kDGg0BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA",sourceRoot:""}]),s.locals={formReviewCard:"-esm-fast-data-entry__styles__formReviewCard___dhCCs",dataField:"-esm-fast-data-entry__styles__dataField___hsm37",displayName:"-esm-fast-data-entry__styles__displayName___cSKCu",identifier:"-esm-fast-data-entry__styles__identifier___vFKSg"};const i=s},2776:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1354),r=n.n(a),o=n(6314),s=n.n(o)()(r());s.push([e.id,".-esm-fast-data-entry__styles__container___NOxX2{height:5rem;display:flex;align-items:center;background-color:#fff;border-top:.0125rem solid #e0e0e0;border-bottom:.0125rem solid #e0e0e0;padding:0 1rem}.-esm-fast-data-entry__styles__photoPlaceholder___wlPmq{height:48px;width:48px}.-esm-fast-data-entry__styles__patientName___Jf5EX{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);font-weight:600}.-esm-fast-data-entry__styles__patientInfoContent___K8X1S{width:100%;margin-left:1rem}.-esm-fast-data-entry__styles__patientInfoRow___nemrr{display:flex;align-items:center;font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;column-gap:.8rem}.-esm-fast-data-entry__styles__patientInfoRow___nemrr>button{min-height:2rem}.-esm-fast-data-entry__styles__patientEditBtn___myV1V{color:#161616;margin:.5rem}","",{version:3,sources:["webpack://./src/form-entry-workflow/patient-banner/styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,iDACE,WCwDW,CDvDX,YAAA,CACA,kBAAA,CACA,qBEkHQ,CFjHR,iCAAA,CACA,oCAAA,CACA,cAAA,CAGF,wDACE,WAAA,CACA,UAAA,CAGF,mDG+0BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CH70BF,eAAA,CAGF,0DACE,UAAA,CACA,gBAAA,CAGF,sDACE,YAAA,CACA,kBAAA,CGm0BE,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CH9zBF,aEYQ,CFXR,gBAAA,CALA,6DACE,eAAA,CAOJ,sDACE,aEUS,CFTT,YCrBW",sourceRoot:""}]),s.locals={container:"-esm-fast-data-entry__styles__container___NOxX2",photoPlaceholder:"-esm-fast-data-entry__styles__photoPlaceholder___wlPmq",patientName:"-esm-fast-data-entry__styles__patientName___Jf5EX",patientInfoContent:"-esm-fast-data-entry__styles__patientInfoContent___K8X1S",patientInfoRow:"-esm-fast-data-entry__styles__patientInfoRow___nemrr",patientEditBtn:"-esm-fast-data-entry__styles__patientEditBtn___myV1V"};const i=s},5310:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1354),r=n.n(a),o=n(6314),s=n.n(o)()(r());s.push([e.id,".-esm-fast-data-entry__styles__searchHeaderContainer___Fg8ME{height:5rem;display:flex;align-items:center;background-color:#fff;border-top:.0125rem solid #e0e0e0;border-bottom:.0125rem solid #e0e0e0;padding:0 1rem}.-esm-fast-data-entry__styles__searchBarWrapper____q3Xd{min-width:35rem}.-esm-fast-data-entry__styles__searchBarWrapper____q3Xd>div button{height:auto}.-esm-fast-data-entry__styles__padded___oP1mb{padding:1rem}","",{version:3,sources:["webpack://./src/form-entry-workflow/patient-search-header/styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAIA,6DACE,WCwDW,CDvDX,YAAA,CACA,kBAAA,CACA,qBEkHQ,CFjHR,iCAAA,CACA,oCAAA,CACA,cAAA,CAGF,wDACE,eAAA,CAGF,mEACE,WAAA,CAGF,8CACE,YCQW",sourceRoot:""}]),s.locals={searchHeaderContainer:"-esm-fast-data-entry__styles__searchHeaderContainer___Fg8ME",searchBarWrapper:"-esm-fast-data-entry__styles__searchBarWrapper____q3Xd",padded:"-esm-fast-data-entry__styles__padded___oP1mb"};const i=s},2385:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1354),r=n.n(a),o=n(6314),s=n.n(o)()(r());s.push([e.id,'.-esm-fast-data-entry__styles__breadcrumbsContainer___rwrjB>div>div>nav{background-color:#fff;padding:.75rem 1rem;height:2.5rem}.-esm-fast-data-entry__styles__workspaceWrapper___Mmzu4{display:flex;justify-content:center}.-esm-fast-data-entry__styles__workspace___HrZ8J{width:1100px}.-esm-fast-data-entry__styles__selectPatientMessage___ZkviP{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin:2rem;text-align:center}.-esm-fast-data-entry__styles__formMainContent___xhXBF{display:flex;text-align:center;margin-top:1rem;column-gap:1rem}.-esm-fast-data-entry__styles__formContainer___znsSb{flex-grow:1;max-height:calc(100vh - 14rem);overflow-y:scroll;text-align:left}.-esm-fast-data-entry__styles__formContainer___znsSb .cds--form-item .question-area{max-width:100%}.-esm-fast-data-entry__styles__rightPanel___ECPCH{min-width:13rem;text-align:left;overflow-y:scroll}.-esm-fast-data-entry__styles__patientCardsSection___R1Wtg{margin:1rem 0;border-bottom:1px solid #f4f4f4}.-esm-fast-data-entry__styles__rightPanelActionButtons___ouD1G{display:flex;flex-direction:column;row-gap:.5rem}.-esm-fast-data-entry__styles__rightPanelActionButtons___ouD1G button{width:100%;text-decoration:"none"}',"",{version:3,sources:["webpack://./src/form-entry-workflow/styles.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,wEACE,qBCqHQ,CDpHR,mBAAA,CACA,aEuCW,CFpCb,wDACE,YAAA,CACA,sBAAA,CAGF,iDACE,YAAA,CAGF,4DG+0BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CH70BF,WEoBW,CFnBX,iBAAA,CAGF,uDACE,YAAA,CACA,iBAAA,CACA,eEGW,CFFX,eEEW,CFCb,qDACE,WAAA,CACA,8BAAA,CACA,iBAAA,CACA,eAAA,CAGF,oFACE,cAAA,CAGF,kDACE,eAAA,CACA,eAAA,CACA,iBAAA,CAGF,2DACE,aAAA,CACA,+BAAA,CAGF,+DACE,YAAA,CACA,qBAAA,CACA,aEpCW,CFqCX,sEACE,UAAA,CACA,sBAAA",sourceRoot:""}]),s.locals={breadcrumbsContainer:"-esm-fast-data-entry__styles__breadcrumbsContainer___rwrjB",workspaceWrapper:"-esm-fast-data-entry__styles__workspaceWrapper___Mmzu4",workspace:"-esm-fast-data-entry__styles__workspace___HrZ8J",selectPatientMessage:"-esm-fast-data-entry__styles__selectPatientMessage___ZkviP",formMainContent:"-esm-fast-data-entry__styles__formMainContent___xhXBF",formContainer:"-esm-fast-data-entry__styles__formContainer___znsSb",rightPanel:"-esm-fast-data-entry__styles__rightPanel___ECPCH",patientCardsSection:"-esm-fast-data-entry__styles__patientCardsSection___R1Wtg",rightPanelActionButtons:"-esm-fast-data-entry__styles__rightPanelActionButtons___ouD1G"};const i=s},7572:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1354),r=n.n(a),o=n(6314),s=n.n(o)()(r());s.push([e.id,".-esm-fast-data-entry__styles__workspaceWrapper___bUQlu{display:flex;justify-content:center}.-esm-fast-data-entry__styles__workspace___ew79Z{display:flex;width:800px;margin-top:1rem;column-gap:1rem}.-esm-fast-data-entry__styles__leftPanel___Iv8Pk{width:13rem;overflow-y:scroll}.-esm-fast-data-entry__styles__navButtons___z2Zyo{margin-top:1rem;display:flex;flex-direction:column;row-gap:.5rem}.-esm-fast-data-entry__styles__formContainer___KKzAG{flex-grow:1;max-height:calc(100vh - 14rem);overflow-y:scroll;row-gap:1rem}","",{version:3,sources:["webpack://./src/form-entry-workflow/workflow-review/styles.scss"],names:[],mappings:"AAAA,wDACE,YAAA,CACA,sBAAA,CAGF,iDACE,YAAA,CACA,WAAA,CACA,eAAA,CACA,eAAA,CAGF,iDACE,WAAA,CACA,iBAAA,CAGF,kDACE,eAAA,CACA,YAAA,CACA,qBAAA,CACA,aAAA,CAGF,qDACE,WAAA,CACA,8BAAA,CACA,iBAAA,CACA,YAAA",sourceRoot:""}]),s.locals={workspaceWrapper:"-esm-fast-data-entry__styles__workspaceWrapper___bUQlu",workspace:"-esm-fast-data-entry__styles__workspace___ew79Z",leftPanel:"-esm-fast-data-entry__styles__leftPanel___Iv8Pk",navButtons:"-esm-fast-data-entry__styles__navButtons___z2Zyo",formContainer:"-esm-fast-data-entry__styles__formContainer___KKzAG"};const i=s},6028:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1354),r=n.n(a),o=n(6314),s=n.n(o)()(r());s.push([e.id,".-esm-fast-data-entry__styles__cardContainer___lDpJq{padding:1rem;display:flex;cursor:pointer}.-esm-fast-data-entry__styles__skeletonText___ffjkW{max-width:8rem}.-esm-fast-data-entry__styles__identifier___RkGs4{font-weight:300;font-size:.8rem;line-height:.9rem}.-esm-fast-data-entry__styles__displayName___Ol4ha{font-weight:bold}.-esm-fast-data-entry__styles__activeDisplayName___TSAgm{color:#4589ff}.-esm-fast-data-entry__styles__inactiveCard___j1a8H:hover{background-color:#c6c6c6}.-esm-fast-data-entry__styles__patientInfo___KY6Vw{flex-grow:1}.-esm-fast-data-entry__styles__statusSuccess____2BPe{fill:#198038}.-esm-fast-data-entry__styles__statusWarning___FNaQa{fill:#d2a106}","",{version:3,sources:["webpack://./src/patient-card/styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAGA,qDACE,YC2BW,CD1BX,YAAA,CACA,cAAA,CAGF,oDACE,cAAA,CAGF,kDACE,eAAA,CACA,eAAA,CACA,iBAAA,CAGF,mDACE,gBAAA,CAGF,yDACE,aERQ,CFYR,0DACE,wBEeM,CFXV,mDACE,WAAA,CAGF,qDACE,YEmBS,CFhBX,qDACE,YEoFU",sourceRoot:""}]),s.locals={cardContainer:"-esm-fast-data-entry__styles__cardContainer___lDpJq",skeletonText:"-esm-fast-data-entry__styles__skeletonText___ffjkW",identifier:"-esm-fast-data-entry__styles__identifier___RkGs4",displayName:"-esm-fast-data-entry__styles__displayName___Ol4ha",activeDisplayName:"-esm-fast-data-entry__styles__activeDisplayName___TSAgm",inactiveCard:"-esm-fast-data-entry__styles__inactiveCard___j1a8H",patientInfo:"-esm-fast-data-entry__styles__patientInfo___KY6Vw",statusSuccess:"-esm-fast-data-entry__styles__statusSuccess____2BPe",statusWarning:"-esm-fast-data-entry__styles__statusWarning___FNaQa"};const i=s},6314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(a)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);a&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},1354:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),o="/*# ".concat(r," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},7710:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var o={},s=[],i=0;i<e.length;i++){var l=e[i],c=a.base?l[0]+a.base:l[0],u=o[c]||0,d="".concat(c," ").concat(u);o[c]=u+1;var m=n(d),A={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)t[m].references++,t[m].updater(A);else{var _=r(A,a);a.byIndex=i,t.splice(i,0,{identifier:d,updater:_,references:1})}s.push(d)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=a(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var i=n(o[s]);t[i].references--}for(var l=a(e,r),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},6765:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},3930:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},8206:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},4583:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4079:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},7104:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(1298),r=n(6072),o=n.n(r),s=n(3941);function i(e,t,n,a,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(a,r)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){i(o,a,r,s,l,"next",e)}function l(e){i(o,a,r,s,l,"throw",e)}s(void 0)}))}}function c(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}const u=function(e){var t,n=e.open,r=e.setOpen,i=e.context,u=(0,s.useTranslation)().t,d=(t=l((function(){return c(this,(function(e){switch(e.label){case 0:return[4,i.destroySession()];case 1:return e.sent(),[2]}}))})),function(){return t.apply(this,arguments)}),m=function(){var e=l((function(){return c(this,(function(e){switch(e.label){case 0:return[4,i.closeSession()];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return o().createElement(a.ComposedModal,{open:n},o().createElement(a.ModalHeader,null,u("areYouSure","Are you sure?")),o().createElement(a.ModalBody,null,u("cancelExplanation","You will lose any unsaved changes on the current form. Do you want to discard the current session?")),o().createElement(a.ModalFooter,null,o().createElement(a.Button,{kind:"secondary",onClick:function(){return r(!1)}},u("cancel","Cancel")),o().createElement(a.Button,{kind:"danger",onClick:d},u("discard","Discard")),o().createElement(a.Button,{kind:"primary",onClick:m},u("saveSession","Save Session"))))}},809:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1298),r=n(6072),o=n.n(r),s=n(3941);const i=function(e){var t=e.open,n=e.setOpen,r=e.context,i=e.validateFirst,l=void 0!==i&&i,c=(0,s.useTranslation)().t;return o().createElement(a.ComposedModal,{open:t},o().createElement(a.ModalHeader,null,c("areYouSure","Are you sure?")),o().createElement(a.ModalBody,null,c("saveExplanation","Do you want to save the current form and exit the workflow?")),o().createElement(a.ModalFooter,null,o().createElement(a.Button,{kind:"secondary",onClick:function(){return n(!1)}},c("cancel","Cancel")),o().createElement(a.Button,{kind:"primary",onClick:function(){l?r.validateForComplete():r.submitForComplete(),n(!1)}},c("complete","Complete"))))}},3249:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(6072),r=n.n(a),o=n(5987),s=n(1690),i=n(7844);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){c(e,t,n[t])}))}return e}const d=function(e){var t=e.formUuid,n=e.patientUuid,c=e.visitUuid,d=e.visitTypeUuid,m=e.encounterUuid,A=e.handlePostResponse,_=e.handleEncounterCreate,f=e.handleOnValidate,p=(0,s.A)(n),y=(0,a.useContext)(i.Ay).activeSessionMeta;(0,a.useEffect)((function(){return function(){return(0,o.detach)("form-widget-slot","form-widget-slot")}}));var v,C,h,E,g=(v=(0,a.useState)(!0),C=2,function(e){if(Array.isArray(e))return e}(v)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return o}}(v,C)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(v,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=g[0],w=g[1];return r().createElement("div",null,b&&t&&n&&p&&r().createElement(o.ExtensionSlot,{name:"form-widget-slot",state:{view:"form",formUuid:t,visitUuid:null!=c?c:"",visitTypeUuid:null!=d?d:"",patientUuid:n,patient:p,encounterUuid:null!=m?m:"",closeWorkspace:function(){},handlePostResponse:function(e){A(e),w(!1),setTimeout((function(){w(!0)}))},handleEncounterCreate:_,handleOnValidate:f,showDiscardSubmitButtons:!1,preFilledQuestions:(h=u({},y),E={encDate:y.sessionDate},E=null!=E?E:{},Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(E)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n}(Object(E)).forEach((function(e){Object.defineProperty(h,e,Object.getOwnPropertyDescriptor(E,e))})),h)}}))}},7844:(e,t,n)=>{n.d(t,{Ay:()=>p,SR:()=>f});var a=n(6072),r=n.n(a),o=n(1511),s=n(7114),i=n(5987),l=n(944);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){u(e,t,n[t])}))}return e}var m={setGroup:function(e){},unsetGroup:function(){},setSessionMeta:function(e){},openPatientSearch:function(){},saveEncounter:function(e){},editEncounter:function(e){},validateForNext:function(){},validateForComplete:function(){},updateVisitUuid:function(e){},submitForNext:function(){},submitForReview:function(){},submitForComplete:function(){},addPatientUuid:function(e){},removePatientUuid:function(e){},goToReview:function(){},destroySession:function(){},closeSession:function(){}},A={activeFormUuid:null,forms:{},workflowState:null,activePatientUuid:null,activeEncounterUuid:null,activeSessionUuid:null,activeVisitUuid:null,patientUuids:[],encounters:{},visits:{},activeGroupUuid:null,activeGroupName:null,activeGroupMembers:[],activeSessionMeta:{sessionName:null,practitionerName:null,sessionDate:null,sessionNotes:null},groupVisitTypeUuid:null,userUuid:null},_=r().createContext(d({},A,m)),f=function(e){var t,n,u,f,p,y,v,C,h,E,g,b,w,S,k,U,D,F,N,P,T,x,B,I,O,R,j,G,W,M,V,z,H,Y,q,X,L,Q,K,Z,J,$=e.children,ee=(0,i.useSession)().user,te=(0,s.useParams)().formUuid.split("&")[0],ne=(0,l.A)("@openmrs/esm-fast-data-entry-app.groupSessionVisitTypeUuid"),ae=null==ne||null===(f=ne.result)||void 0===f||null===(u=f.data)||void 0===u||null===(n=u.results)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.value,re=(Q=(0,a.useReducer)(o.Ay,d({},A,m)),K=2,function(e){if(Array.isArray(e))return e}(Q)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return o}}(Q,K)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(Q,K)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),oe=re[0],se=re[1],ie=(0,a.useMemo)((function(){return{initializeWorkflowState:function(e){var t=e.activeFormUuid;return se({type:"INITIALIZE_WORKFLOW_STATE",activeFormUuid:t,userUuid:ee.uuid})},setGroup:function(e){return se({type:"SET_GROUP",group:e})},unsetGroup:function(){return se({type:"UNSET_GROUP"})},setSessionMeta:function(e){return se({type:"SET_SESSION_META",meta:e})},addPatientUuid:function(e){return se({type:"ADD_PATIENT_UUID",patientUuid:e})},removePatientUuid:function(e){return se({type:"REMOVE_PATIENT_UUID",patientUuid:e})},openPatientSearch:function(){return se({type:"OPEN_PATIENT_SEARCH"})},saveEncounter:function(e){return se({type:"SAVE_ENCOUNTER",encounterUuid:e})},validateForNext:function(){return se({type:"VALIDATE_FOR_NEXT"})},validateForComplete:function(){return se({type:"VALIDATE_FOR_COMPLETE"})},updateVisitUuid:function(e){return se({type:"UPDATE_VISIT_UUID",visitUuid:e})},submitForNext:function(e){return se({type:"SUBMIT_FOR_NEXT",nextPatientUuid:e})},submitForComplete:function(){return se({type:"SUBMIT_FOR_COMPLETE"})},editEncounter:function(e){return se({type:"EDIT_ENCOUNTER",patientUuid:e})},goToReview:function(){return se({type:"GO_TO_REVIEW"})},destroySession:function(){return se({type:"DESTROY_SESSION"})},closeSession:function(){return se({type:"CLOSE_SESSION"})}}}),[ee]);return(0,a.useEffect)((function(){null===(null==oe?void 0:oe.workflowState)&&te&&ie.initializeWorkflowState({activeFormUuid:te})}),[te,null==oe?void 0:oe.workflowState,ie]),r().createElement(_.Provider,{value:(Z=d({groupVisitTypeUuid:ae},oe,ie),J={workflowState:null!==(j=null===(y=oe.forms)||void 0===y||null===(p=y[oe.activeFormUuid])||void 0===p?void 0:p.workflowState)&&void 0!==j?j:A.workflowState,activeSessionUuid:null!==(G=null===(C=oe.forms)||void 0===C||null===(v=C[oe.activeFormUuid])||void 0===v?void 0:v.activeSessionUuid)&&void 0!==G?G:A.activeSessionUuid,activePatientUuid:null!==(W=null===(E=oe.forms)||void 0===E||null===(h=E[oe.activeFormUuid])||void 0===h?void 0:h.activePatientUuid)&&void 0!==W?W:A.activePatientUuid,activeEncounterUuid:null!==(M=null===(b=oe.forms)||void 0===b||null===(g=b[oe.activeFormUuid])||void 0===g?void 0:g.activeEncounterUuid)&&void 0!==M?M:A.activeEncounterUuid,activeVisitUuid:null!==(V=null===(S=oe.forms)||void 0===S||null===(w=S[oe.activeFormUuid])||void 0===w?void 0:w.activeVisitUuid)&&void 0!==V?V:A.activeVisitUuid,patientUuids:null!==(z=null===(U=oe.forms)||void 0===U||null===(k=U[oe.activeFormUuid])||void 0===k?void 0:k.patientUuids)&&void 0!==z?z:A.patientUuids,encounters:null!==(H=null===(F=oe.forms)||void 0===F||null===(D=F[oe.activeFormUuid])||void 0===D?void 0:D.encounters)&&void 0!==H?H:A.encounters,activeGroupUuid:null!==(Y=null===(P=oe.forms)||void 0===P||null===(N=P[oe.activeFormUuid])||void 0===N?void 0:N.groupUuid)&&void 0!==Y?Y:A.activeGroupUuid,activeGroupName:null!==(q=null===(x=oe.forms)||void 0===x||null===(T=x[oe.activeFormUuid])||void 0===T?void 0:T.groupName)&&void 0!==q?q:A.activeGroupName,activeGroupMembers:null!==(X=null===(I=oe.forms)||void 0===I||null===(B=I[oe.activeFormUuid])||void 0===B?void 0:B.groupMembers)&&void 0!==X?X:A.activeGroupMembers,activeSessionMeta:null!==(L=null===(R=oe.forms)||void 0===R||null===(O=R[oe.activeFormUuid])||void 0===O?void 0:O.sessionMeta)&&void 0!==L?L:A.activeSessionMeta},J=null!=J?J:{},Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(J)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n}(Object(J)).forEach((function(e){Object.defineProperty(Z,e,Object.getOwnPropertyDescriptor(J,e))})),Z)},$)};const p=_},3326:(e,t,n)=>{n.r(t),n.d(t,{default:()=>re});var a=n(5987),r=n(1298),o=n(6072),s=n.n(o),i=n(3249),l=n(8429),c=n(7710),u=n.n(c),d=n(4583),m=n.n(d),A=n(6765),_=n.n(A),f=n(8206),p=n.n(f),y=n(3930),v=n.n(y),C=n(4079),h=n.n(C),E=n(2385),g={};g.styleTagTransform=h(),g.setAttributes=p(),g.insert=_().bind(null,"head"),g.domAPI=m(),g.insertStyleElement=v(),u()(E.A,g);const b=E.A&&E.A.locals?E.A.locals:void 0;var w=n(7644),S=n(5573),k=n(7114),U=n(2815),D=n(5310),F={};F.styleTagTransform=h(),F.setAttributes=p(),F.insert=_().bind(null,"head"),F.domAPI=m(),F.insertStyleElement=v(),u()(D.A,F);const N=D.A&&D.A.locals?D.A.locals:void 0;var P=n(3941);const T=function(){var e=(0,o.useContext)(U.Ay),t=e.addPatient,n=e.workflowState,i=e.activeFormUuid,l=(0,P.useTranslation)().t;if("NEW_PATIENT"!==n)return null;var c=encodeURIComponent("${openmrsSpaBase}/forms/form/".concat(i,"?patientUuid=${patientUuid}")),u=(0,a.interpolateUrl)("${openmrsSpaBase}/patient-registration?afterUrl=".concat(c));return s().createElement("div",{className:N.searchHeaderContainer},s().createElement("span",{className:N.padded},l("nextPatient","Next patient"),":"),s().createElement("span",{className:N.searchBarWrapper},s().createElement(a.ExtensionSlot,{name:"patient-search-bar-slot",state:{selectPatientAction:function(e){t(e)},buttonProps:{kind:"primary"}}})),s().createElement("span",{className:N.padded},l("or","or")),s().createElement("span",null,s().createElement(r.Button,{onClick:function(){return(0,a.navigate)({to:u})}},l("createNewPatient","Create new patient")," ",s().createElement(w.OM,{size:20}))),s().createElement("span",{style:{flexGrow:1}}),s().createElement("span",null,s().createElement(k.Link,{to:"../"},s().createElement(r.Button,{kind:"ghost"},l("cancel","Cancel")," ",s().createElement(S.bm,{size:20})))))};var x=n(2302),B=n(8453),I=n(496),O={};O.styleTagTransform=h(),O.setAttributes=p(),O.insert=_().bind(null,"head"),O.domAPI=m(),O.insertStyleElement=v(),u()(I.A,O);const R=I.A&&I.A.locals?I.A.locals:void 0,j=function(e){var t,n,a,i,l,c,u,d,m=e.patientUuid,A=(0,o.useContext)(U.Ay),_=A.encounters,f=A.editEncounter,p=(0,B.J0)(m),y=null==p||null===(a=p.name)||void 0===a||null===(n=a[0])||void 0===n||null===(t=n.given)||void 0===t?void 0:t[0],v=null==p||null===(l=p.name)||void 0===l||null===(i=l[0])||void 0===i?void 0:i.family,C=null==p||null===(u=p.identifier)||void 0===u||null===(c=u[0])||void 0===c?void 0:c.value,h=null==_?void 0:_[m],E=(0,B.XT)(h).encounter,g=(0,P.useTranslation)().t;return s().createElement("div",{className:R.formReviewCard},s().createElement(r.Accordion,{align:"start"},s().createElement(r.AccordionItem,{title:s().createElement(s().Fragment,null,s().createElement("span",{className:R.identifier},C),s().createElement("span",{className:R.displayName},y," ",v)),className:R.accordionItem},E&&(null==E?void 0:E.obs)&&(null===(d=E.obs)||void 0===d?void 0:d.length)&&s().createElement("div",{className:R.dataField},s().createElement("ul",null,E.obs.map((function(e,t){return s().createElement("li",{key:t},e.display)})))),s().createElement(r.Button,{kind:"primary",onClick:function(){return f(m)}},g("goToForm","Go To Form")))))};var G=n(7572),W={};W.styleTagTransform=h(),W.setAttributes=p(),W.insert=_().bind(null,"head"),W.domAPI=m(),W.insertStyleElement=v(),u()(G.A,W);const M=G.A&&G.A.locals?G.A.locals:void 0,V=function(){var e=(0,o.useContext)(U.Ay).patientUuids,t=(0,P.useTranslation)().t,n=(0,k.useNavigate)();return s().createElement("div",{className:M.workspaceWrapper},s().createElement("div",{className:M.workspace},s().createElement("div",{className:M.leftPanel},s().createElement("h4",null,t("review","Review")),s().createElement("div",{className:M.navButtons},s().createElement(r.Button,{kind:"primary",onClick:function(){return n("/")}},t("save&close","Save & Close")),s().createElement(r.Button,{kind:"tertiary",onClick:function(){return n("/")}},t("cancel","Cancel")))),s().createElement("div",{className:M.formContainer},e.map((function(e){return s().createElement(j,{patientUuid:e,key:e})})))))};var z=n(2776),H={};H.styleTagTransform=h(),H.setAttributes=p(),H.insert=_().bind(null,"head"),H.domAPI=m(),H.insertStyleElement=v(),u()(z.A,H);const Y=z.A&&z.A.locals?z.A.locals:void 0;var q=n(1690),X=function(){return s().createElement("div",{className:Y.container},s().createElement(r.SkeletonPlaceholder,{className:Y.photoPlaceholder}),s().createElement("div",{className:Y.patientInfoContent},s().createElement("div",{className:Y.patientInfoRow},s().createElement(r.SkeletonText,{width:"7rem",lineCount:1})),s().createElement("div",{className:Y.patientInfoRow},s().createElement("span",null,s().createElement(r.SkeletonText,{width:"1rem",lineCount:1})),s().createElement("span",null,"路"),s().createElement("span",null,s().createElement(r.SkeletonText,{width:"1rem",lineCount:1})),s().createElement("span",null,"路"),s().createElement("span",null,s().createElement(r.SkeletonText,{width:"1rem",lineCount:1})))))};const L=function(){var e,t,n,r,i,l=(0,o.useContext)(U.Ay),c=l.activePatientUuid,u=l.workflowState,d=(0,q.A)(c),m=(0,P.useTranslation)().t,A="".concat(null==d||null===(t=d.name)||void 0===t||null===(e=t[0].given)||void 0===e?void 0:e.join(" ")," ").concat(null==d||null===(r=d.name)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.family),_=s().useMemo((function(){return{patientUuid:null==d?void 0:d.id,patientName:A,size:"small"}}),[null==d?void 0:d.id,A]);return"NEW_PATIENT"===u?null:d?s().createElement("div",{className:Y.container},s().createElement(a.ExtensionSlot,{extensionSlotName:"patient-photo-slot",state:_}),s().createElement("div",{className:Y.patientInfoContent},s().createElement("div",{className:Y.patientInfoRow},s().createElement("span",{className:Y.patientName},A)),s().createElement("div",{className:Y.patientInfoRow},s().createElement("span",null,(null!==(i=d.gender)&&void 0!==i?i:m("unknown","Unknown")).replace(/^\w/,(function(e){return e.toUpperCase()}))),s().createElement("span",null,"路"),s().createElement("span",null,(0,a.age)(d.birthDate)),s().createElement("span",null,"路"),s().createElement("span",null,d.identifier.length?d.identifier.map((function(e){return e.value})).join(", "):"--")))):s().createElement(X,null)};var Q=n(809),K=n(7104);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);s=!0);}catch(e){i=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te=function(){var e=(0,o.useContext)(U.Ay),t=e.workflowState,n=e.destroySession,a=ee((0,o.useState)(!1),2),i=a[0],l=a[1],c=ee((0,o.useState)(!1),2),u=c[0],d=c[1],m=(0,P.useTranslation)().t;return t?s().createElement(s().Fragment,null,s().createElement("div",{className:b.rightPanelActionButtons},s().createElement(r.Button,{kind:"secondary",onClick:"NEW_PATIENT"===t?function(){return n()}:function(){return d(!0)}},m("saveAndComplete","Save & Complete")),s().createElement(r.Button,{kind:"tertiary",onClick:function(){return l(!0)}},m("cancel","Cancel"))),s().createElement(K.A,{open:i,setOpen:l,context:e}),s().createElement(Q.A,{open:u,setOpen:d,context:e})):null},ne=function(){var e=(0,o.useContext)(U.Ay),t=e.patientUuids,n=e.activePatientUuid,r=e.activeEncounterUuid,c=e.saveEncounter,u=e.activeFormUuid,d=e.editEncounter,m=e.encounters,A=e.singleSessionVisitTypeUuid,_=(0,P.useTranslation)().t,f=ee((0,o.useState)(null),2),p=f[0],y=f[1],v=ee((0,o.useState)(null),2),C=v[0],h=v[1],E=(0,a.useSession)().sessionLocation,g=function(e){var t=e.showSuccessNotification,n=void 0===t||t,r=e.showErrorNotification,s=void 0===r||r,i=(0,P.useTranslation)().t,l=J((0,o.useState)(!1),2),c=l[0],u=l[1],d=J((0,o.useState)(null),2),m=d[0],A=d[1],_=J((0,o.useState)(null),2),f=_[0],p=_[1],y=(0,o.useCallback)((function(e){var t,r;u(!1),p(!1),A(e),n&&(0,a.showToast)({critical:!0,kind:"success",description:i("visitStartedSuccessfully","".concat(null==e||null===(r=e.data)||void 0===r||null===(t=r.visitType)||void 0===t?void 0:t.display," started successfully")),title:i("visitStarted","Visit started")})}),[i,n]),v=(0,o.useCallback)((function(e){u(!1),A(!1),p(e),s&&(0,a.showNotification)({title:i("startVisitError","Error starting visit"),kind:"error",critical:!0,description:null==e?void 0:e.message})}),[i,s]);return{saveVisit:(0,o.useCallback)((function(e){var t={patient:e.patientUuid,startDatetime:e.startDatetime,stopDatetime:e.stopDatetime,visitType:e.visitType,location:e.location};(0,a.openmrsFetch)("".concat(a.restBaseUrl,"/visit"),{method:"POST",body:t,headers:{"Content-Type":"application/json"}}).then(y).catch(v)}),[v,y]),updateEncounter:(0,o.useCallback)((function(e){(0,a.openmrsFetch)("".concat(a.restBaseUrl,"/encounter/")+e.uuid,{method:"POST",body:{visit:e.visit},headers:{"Content-Type":"application/json"}})}),[]),success:m,error:f,isSubmitting:c}}({showSuccessNotification:!1,showErrorNotification:!0}),w=g.updateEncounter,S=g.success;(0,o.useEffect)((function(){p&&C&&w({uuid:p.uuid,visit:C.uuid})}),[p,C,w]),(0,o.useEffect)((function(){S&&h(S.data)}),[S]);var k=(0,o.useCallback)((function(e){e.location=null==E?void 0:E.uuid,e.encounterDatetime=e.encounterDatetime?e.encounterDatetime:(new Date).toISOString();var t={startDatetime:new Date(e.encounterDatetime),stopDatetime:new Date(e.encounterDatetime),uuid:(0,x.A)(),patient:{uuid:n},location:{uuid:null==E?void 0:E.uuid},visitType:{uuid:A}};e.visit=t}),[n,A,E]);return s().createElement("div",{className:b.workspace},!t.length&&s().createElement("div",{className:b.selectPatientMessage},_("selectPatientFirst","Please select a patient first")),!!t.length&&s().createElement("div",{className:b.formMainContent},s().createElement("div",{className:b.formContainer},s().createElement(i.A,{patientUuid:n,encounterUuid:r,formUuid:u,handlePostResponse:function(e){e&&e.uuid&&(c(e.uuid),y(e))},handleEncounterCreate:k})),s().createElement("div",{className:b.rightPanel},s().createElement("h4",null,_("formsFilled","Forms filled")),s().createElement("div",{className:b.patientCardsSection},t.map((function(e){return s().createElement(l.A,{key:e,patientUuid:e,activePatientUuid:n,editEncounter:d,encounters:m})}))),s().createElement(te,null))))},ae=function(){var e=(0,o.useContext)(U.Ay).workflowState;return s().createElement(s().Fragment,null,s().createElement("div",{className:b.breadcrumbsContainer},s().createElement(a.ExtensionSlot,{extensionSlotName:"breadcrumbs-slot"})),"REVIEW"===e&&s().createElement(V,null),"REVIEW"!==e&&s().createElement(s().Fragment,null,s().createElement(T,null),s().createElement(L,null),s().createElement("div",{className:b.workspaceWrapper},s().createElement(ne,null))))};const re=function(){return s().createElement(U.Z1,null,s().createElement(ae,null))}},8429:(e,t,n)=>{n.d(t,{A:()=>S});var a=n(6614),r=n(8377),o=n(1298),s=n(6072),i=n.n(s),l=n(1690),c=n(7710),u=n.n(c),d=n(4583),m=n.n(d),A=n(6765),_=n.n(A),f=n(8206),p=n.n(f),y=n(3930),v=n.n(y),C=n(4079),h=n.n(C),E=n(6028),g={};g.styleTagTransform=h(),g.setAttributes=p(),g.insert=_().bind(null,"head"),g.domAPI=m(),g.insertStyleElement=v(),u()(E.A,g);const b=E.A&&E.A.locals?E.A.locals:void 0;var w=function(e){var t=e.onClick,n=void 0===t?function(){}:t,a=e.active,r=e.children;return i().createElement("div",{onClick:n,className:"".concat(b.cardContainer," ").concat(!a&&b.inactiveCard),role:"button",tabIndex:0},r)};const S=function(e){var t,n,s,c,u,d,m,A=e.patientUuid,_=e.activePatientUuid,f=e.editEncounter,p=e.encounters,y=(0,l.A)(A),v=null==y||null===(s=y.name)||void 0===s||null===(n=s[0])||void 0===n||null===(t=n.given)||void 0===t?void 0:t[0],C=null==y||null===(u=y.name)||void 0===u||null===(c=u[0])||void 0===c?void 0:c.family,h=null==y||null===(m=y.identifier)||void 0===m||null===(d=m[0])||void 0===d?void 0:d.value;if(!y)return i().createElement(w,{active:!0},i().createElement(o.SkeletonText,{className:b.skeletonText}));var E=_===A;return i().createElement(w,{onClick:E?function(){}:function(){return f(A)},active:E},i().createElement("div",{className:b.patientInfo},i().createElement("div",{className:b.identifier},h),i().createElement("div",{className:"".concat(b.displayName," ").concat(E&&b.activeDisplayName)},v," ",C)),i().createElement("div",null,A in p?i().createElement(a.cR,{size:16,className:b.statusSuccess}):i().createElement(r.Cp,{size:16,className:b.statusWarning})))}},2302:(e,t,n)=>{n.d(t,{A:()=>l});const a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let r;const o=new Uint8Array(16);function s(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));const l=function(e,t,n){if(a.randomUUID&&!t&&!e)return a.randomUUID();const r=(e=e||{}).random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}(r)}}}]);