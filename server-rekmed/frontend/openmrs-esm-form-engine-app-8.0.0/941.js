(globalThis.webpackChunk_openmrs_esm_form_engine_app=globalThis.webpackChunk_openmrs_esm_form_engine_app||[]).push([[941],{1893:(e,r,o)=>{var n={"./en.json":[1022,22],"./es.json":[9061,61],"./fr.json":[8330,330],"./km.json":[5852,852]};function t(e){if(!o.o(n,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=n[e],t=r[0];return o.e(r[1]).then((()=>o.t(t,19)))}t.keys=()=>Object.keys(n),t.id=1893,e.exports=t},1991:(e,r,o)=>{"use strict";o.d(r,{Z:()=>i});var n=o(272),t=o.n(n),s=o(2609),a=o.n(s)()(t());a.push([e.id,'.-esm-form-engine__form-error__errorContainer____Rfgs{display:flex;justify-content:center;margin-top:1rem}.-esm-form-engine__form-error__formErrorCard___a3QKm{background-color:#f4f4f4;padding:1rem;min-width:23rem;display:flex;align-items:center;flex-direction:column}.-esm-form-engine__form-error__errorTitle___fVSGZ{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:.75rem}.-esm-form-engine__form-error__errorMessage___kfelg{font-size:var(--cds-body-long-01-font-size, 0.875rem);font-weight:var(--cds-body-long-01-font-weight, 400);line-height:var(--cds-body-long-01-line-height, 1.42857);letter-spacing:var(--cds-body-long-01-letter-spacing, 0.16px);margin-bottom:1rem;color:#525252;display:flex;align-items:center}.-esm-form-engine__form-error__errorMessage___kfelg>button{padding:0 0 0 .125rem !important}.-esm-form-engine__form-error__separator___LGLZN{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#262626;width:12rem;margin:.5rem 0;overflow:hidden;text-align:center;color:#525252}.-esm-form-engine__form-error__separator___LGLZN::before,.-esm-form-engine__form-error__separator___LGLZN::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-form-engine__form-error__separator___LGLZN::before{right:1rem;margin-left:-50%}.-esm-form-engine__form-error__separator___LGLZN::after{left:1rem;margin-right:-50%}.-esm-form-engine__form-error__list___wiGq_{margin-left:.25rem;color:#0f62fe;text-decoration:underline;cursor:pointer}',"",{version:3,sources:["webpack://./src/form-renderer/form-error.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,sDACE,YAAA,CACA,sBAAA,CACA,eCwBW,CDrBb,qDACE,wBE+BQ,CF9BR,YCmBW,CDlBX,eAAA,CACA,YAAA,CACA,kBAAA,CACA,qBAAA,CAGF,kDG+0BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CH70BF,oBCKW,CDFb,oDG00BI,qDAAA,CAAA,oDAAA,CAAA,wDAAA,CAAA,6DAAA,CHx0BF,kBCKW,CDJX,aEqBQ,CFpBR,YAAA,CACA,kBAAA,CAEA,2DACE,gCAAA,CAKJ,iDG6zBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CH3zBF,aEWQ,CFVR,WAAA,CACA,cAAA,CACA,eAAA,CACA,iBAAA,CACA,aEIQ,CFDV,iHAEE,wBEJQ,CFKR,UAAA,CACA,oBAAA,CACA,UAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGF,yDACE,UAAA,CACA,gBAAA,CAGF,wDACE,SAAA,CACA,iBAAA,CAGF,4CACE,kBCrDW,CDsDX,aErDQ,CFsDR,yBAAA,CACA,cAAA",sourceRoot:""}]),a.locals={errorContainer:"-esm-form-engine__form-error__errorContainer____Rfgs",formErrorCard:"-esm-form-engine__form-error__formErrorCard___a3QKm",errorTitle:"-esm-form-engine__form-error__errorTitle___fVSGZ",errorMessage:"-esm-form-engine__form-error__errorMessage___kfelg",separator:"-esm-form-engine__form-error__separator___LGLZN",list:"-esm-form-engine__form-error__list___wiGq_"};const i=a},9307:(e,r,o)=>{"use strict";o.d(r,{Z:()=>i});var n=o(272),t=o.n(n),s=o(2609),a=o.n(s)()(t());a.push([e.id,".-esm-form-engine__form-renderer__loaderContainer___wzSYe{height:100vh}.-esm-form-engine__form-renderer__loading___Fck7q{display:flex;justify-content:center;align-items:center;min-height:50%}.-esm-form-engine__form-renderer__errorContainer___sdvWy{height:100vh}","",{version:3,sources:["webpack://./src/form-renderer/form-renderer.scss"],names:[],mappings:"AAIA,0DACE,YAAA,CAGF,kDACE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,cAAA,CAGF,yDACE,YAAA",sourceRoot:""}]),a.locals={loaderContainer:"-esm-form-engine__form-renderer__loaderContainer___wzSYe",loading:"-esm-form-engine__form-renderer__loading___Fck7q",errorContainer:"-esm-form-engine__form-renderer__errorContainer___sdvWy"};const i=a},927:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>P});var n=o(268),t=o.n(n),s=o(4924),a=o(7230),i=o(9299),A=o(2821),c=o(321),l=o.n(c),m=o(1195),_=o.n(m),f=o(3275),d=o.n(f),g=o(7162),C=o.n(g),p=o(2094),u=o.n(p),h=o(757),b=o.n(h),v=o(1991),y={};y.styleTagTransform=b(),y.setAttributes=C(),y.insert=d().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=u(),l()(v.Z,y);const k=v.Z&&v.Z.locals?v.Z.locals:void 0,w=function(e){var r=e.closeWorkspace,o=(0,s.useTranslation)().t;return t().createElement("div",{className:k.errorContainer},t().createElement("div",{className:k.formErrorCard},t().createElement("p",{className:k.errorTitle},o("errorTitle","There was an error with this form")),t().createElement("div",{className:k.errorMessage},t().createElement("span",null,o("tryAgainMessage","Try opening another form from")),t().createElement("span",{className:k.list,role:"button",tabIndex:0,onClick:function(){r(),(0,A.launchPatientWorkspace)("clinical-forms-workspace")}},o("thisList","this list"))),t().createElement("div",{className:k.separator},o("or","or")),t().createElement(a.zxk,{onClick:r,kind:"ghost"},o("closeThisPanel","Close this panel"))))};var E=o(3255),D=o(9781);function B(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}const O=function(e){var r,o,n=e?"".concat(D.restBaseUrl,"/o3/forms/").concat(e):null,t=(0,E.ZP)(n,D.openmrsFetch),s=t.data,a=t.error,i=t.isLoading,A=(r=function(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(r){B(e,r,o[r])}))}return e}({},null==s?void 0:s.data),o=null!=(o={encounterType:null==s?void 0:s.data.encounterType.uuid})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):function(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o.push.apply(o,n)}return o}(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})),r);return{schema:A,error:a,isLoading:i}};var F=o(9307),j={};j.styleTagTransform=b(),j.setAttributes=C(),j.insert=d().bind(null,"head"),j.domAPI=_(),j.insertStyleElement=u(),l()(F.Z,j);const G=F.Z&&F.Z.locals?F.Z.locals:void 0,P=function(e){var r=e.additionalProps,o=e.closeWorkspace,c=e.closeWorkspaceWithSavedChanges,l=e.encounterUuid,m=e.formUuid,_=e.patientUuid,f=e.promptBeforeClosing,d=e.visit,g=(0,s.useTranslation)().t,C=O(m),p=C.schema,u=C.error,h=C.isLoading,b=(0,n.useCallback)((function(){o(),!l&&(0,A.launchPatientWorkspace)("clinical-forms-workspace")}),[o,l]),v=(0,n.useCallback)((function(e){return f((function(){return e}))}),[f]);return h?t().createElement("div",{className:G.loaderContainer},t().createElement(a.lSo,{className:G.loading,description:"".concat(g("loading","Loading")," ...")})):u?t().createElement("div",{className:G.errorContainer},t().createElement(w,{closeWorkspace:b})):t().createElement(t().Fragment,null,p&&t().createElement(i.SS,{encounterUUID:l,formJson:p,handleClose:b,markFormAsDirty:v,mode:null==r?void 0:r.mode,onSubmit:c,patientUUID:_,visit:d}))}}}]);