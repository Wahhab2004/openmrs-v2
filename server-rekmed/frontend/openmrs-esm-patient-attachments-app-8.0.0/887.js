"use strict";(globalThis.webpackChunk_openmrs_esm_patient_attachments_app=globalThis.webpackChunk_openmrs_esm_patient_attachments_app||[]).push([[887],{2195:(t,e,n)=>{n.d(e,{Z:()=>c});var a=n(272),r=n.n(a),o=n(2609),s=n.n(o)()(r());s.push([t.id,".-esm-patient-attachments__capture-photo__container___Sv3Ef{display:flex;align-items:center}.-esm-patient-attachments__capture-photo__buttonCssReset___PhZN4{max-width:4rem;padding:0;margin:0;border:none;background:none;cursor:pointer}.-esm-patient-attachments__capture-photo__placeholderIconContainer___R3Iuu{width:4rem;height:4rem;background-color:#d8d8d8;display:flex;align-items:center;justify-content:center}.-esm-patient-attachments__capture-photo__actionButton___ZjYdS{flex:1;margin-left:1rem}.-esm-patient-attachments__capture-photo__preview___K4LL8{width:100%}","",{version:3,sources:["webpack://./src/camera-media-uploader/capture-photo.scss"],names:[],mappings:"AAAA,4DACE,YAAA,CACA,kBAAA,CAGF,iEACC,cAAA,CACA,SAAA,CACA,QAAA,CACA,WAAA,CACA,eAAA,CACA,cAAA,CAGD,2EACC,UAAA,CACA,WAAA,CACA,wBAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CAGD,+DACE,MAAA,CACA,gBAAA,CAGF,0DACE,UAAA",sourceRoot:""}]),s.locals={container:"-esm-patient-attachments__capture-photo__container___Sv3Ef",buttonCssReset:"-esm-patient-attachments__capture-photo__buttonCssReset___PhZN4",placeholderIconContainer:"-esm-patient-attachments__capture-photo__placeholderIconContainer___R3Iuu",actionButton:"-esm-patient-attachments__capture-photo__actionButton___ZjYdS",preview:"-esm-patient-attachments__capture-photo__preview___K4LL8"};const c=s},2887:(t,e,n)=>{n.r(e),n.d(e,{default:()=>k});var a=n(7900),r=n.n(a),o=n(4924),s=n(6698),c=n(4403),i=n(2870),A=n(321),l=n.n(A),_=n(1195),u=n.n(_),p=n(3275),m=n.n(p),h=n(7162),C=n.n(h),d=n(2094),f=n.n(d),b=n(757),g=n.n(b),v=n(2195),y={};y.styleTagTransform=g(),y.setAttributes=C(),y.insert=m().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=f(),l()(v.Z,y);const w=v.Z&&v.Z.locals?v.Z.locals:void 0;function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}const k=function(t){var e,n,A=t.initialState,l=t.onCapturePhoto,_=(0,o.useTranslation)().t,u=(e=(0,a.useState)(null),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,o=[],s=!0,c=!1;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(o.push(a.value),!e||o.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{s||null==n.return||n.return()}finally{if(c)throw r}}return o}}(e,n)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=u[0],m=u[1],h=(0,a.useCallback)((function(){var t=(0,i.showModal)("capture-photo-modal",{saveFile:function(e){return Promise.resolve().then((function(){m(e.base64Content),l(e.base64Content,(0,i.toOmrsIsoString)(new Date)),t()}))},collectDescription:!1,closeModal:function(){t()},cameraOnly:!1})}),[l]),C=!p&&!A;return r().createElement("div",{className:w.container},r().createElement("button",{type:"button",onClick:h,className:w.buttonCssReset},C?r().createElement("div",{className:w.placeholderIconContainer},r().createElement(c.V1,{size:"20"})):r().createElement("img",{src:p||A,alt:"Preview",className:w.preview})),r().createElement(s.zxk,{kind:"ghost",onClick:h,className:w.actionButton},A?_("changeImage","Change image"):_("addImage","Add image +")))}}}]);