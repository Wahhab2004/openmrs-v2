(globalThis.webpackChunk_openmrs_esm_patient_banner_app=globalThis.webpackChunk_openmrs_esm_patient_banner_app||[]).push([[563],{5033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(272),i=n.n(a),_=n(2609),r=n.n(_)()(i());r.push([e.id,".-esm-patient-banner__deceased-patient-tag__tooltipPadding___frhOS{padding:.25rem}.-esm-patient-banner__deceased-patient-tag__tooltipSmallText___joEY6{font-size:80%}.-esm-patient-banner__deceased-patient-tag__tagOverride___B9Vjq{background-color:#6b1a18;color:#e0e0e0}","",{version:3,sources:["webpack://./src/banner-tags/deceased-patient-tag.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAEA,mEACE,cAAA,CAGF,qEACE,aAAA,CAGF,gEACE,wBAAA,CACA,aC+BQ",sourceRoot:""}]),r.locals={tooltipPadding:"-esm-patient-banner__deceased-patient-tag__tooltipPadding___frhOS",tooltipSmallText:"-esm-patient-banner__deceased-patient-tag__tooltipSmallText___joEY6",tagOverride:"-esm-patient-banner__deceased-patient-tag__tagOverride___B9Vjq"};const o=r},6626:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(272),i=n.n(a),_=n(2609),r=n.n(_)()(i());r.push([e.id,".-esm-patient-banner__visit-tag__tooltipBox___nDNJr{padding:.25rem}.-esm-patient-banner__visit-tag__tooltipSmallText___j8IkG{font-size:80%}.-esm-patient-banner__visit-tag__heading___qb9Oa{margin-bottom:.5rem}.-esm-patient-banner__visit-tag__definitionToolTip___ojXaY>button{border-bottom:none}","",{version:3,sources:["webpack://./src/banner-tags/visit-tag.scss"],names:[],mappings:"AAAA,oDACE,cAAA,CAGF,0DACE,aAAA,CAGF,iDACE,mBAAA,CAIA,kEACE,kBAAA",sourceRoot:""}]),r.locals={tooltipBox:"-esm-patient-banner__visit-tag__tooltipBox___nDNJr",tooltipSmallText:"-esm-patient-banner__visit-tag__tooltipSmallText___j8IkG",heading:"-esm-patient-banner__visit-tag__heading___qb9Oa",definitionToolTip:"-esm-patient-banner__visit-tag__definitionToolTip___ojXaY"};const o=r},9926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(272),i=n.n(a),_=n(2609),r=n.n(_)()(i());r.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-patient-banner__patient-banner__container___ecRPF{border-top:.063rem solid #e0e0e0;border-bottom:.063rem solid #e0e0e0;background-color:#f4f4f4}.-esm-patient-banner__patient-banner__activePatientContainer___tskjN{background-color:#f4f4f4}.-esm-patient-banner__patient-banner__buttonCol___hnOzF{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q{background-color:#393939}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__demographics___V1alp,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__row___t0GLQ,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__identifierTag___DGuqK,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__identifier___gGse_,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__contactDetails___uX5w3 .-esm-patient-banner__patient-banner__heading___Wphgj{color:#fff}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__toggleContactDetailsButton___HZ72I,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__toggleContactDetailsButton___HZ72I>svg,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__actionsButtonText___r3Ahr{color:#78a9ff}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q:focus,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q:hover{background-color:#262626}.-esm-patient-banner__patient-banner__patientBanner___jpW_m{display:flex}.-esm-patient-banner__patient-banner__patientAvatar___CxTCp{width:5rem;height:5rem;margin:1rem;border-radius:1px}.-esm-patient-banner__patient-banner__patientAvatarButton___JLA2C{cursor:pointer;border:none;padding:0px;background:none}.-esm-patient-banner__patient-banner__contactDetails___uX5w3{color:#525252;width:100%;border-top:1px solid #e0e0e0;display:flex}.-esm-patient-banner__patient-banner__contactDetails___uX5w3 a{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);text-decoration:none}.-esm-patient-banner__patient-banner__deceasedContactDetails___gj7hN .-esm-patient-banner__patient-banner__contactDetails___uX5w3,.-esm-patient-banner__patient-banner__deceasedContactDetails___gj7hN .-esm-patient-banner__patient-banner__heading___Wphgj,.-esm-patient-banner__patient-banner__deceasedContactDetails___gj7hN .-esm-patient-banner__patient-banner__row___t0GLQ,.-esm-patient-banner__patient-banner__deceasedContactDetails___gj7hN .-esm-patient-banner__patient-banner__row___t0GLQ>.-esm-patient-banner__patient-banner__col___k9Blt{color:#fff}.-esm-patient-banner__patient-banner__deceasedContactDetails___gj7hN a{color:#78a9ff}.-esm-patient-banner__patient-banner__tabletContactDetails___aEg3B{display:block}.-esm-patient-banner__patient-banner__tabletContactDetails___aEg3B .-esm-patient-banner__patient-banner__row___t0GLQ:first-child{border-bottom:1px solid #e0e0e0}.-esm-patient-banner__patient-banner__tabletContactDetails___aEg3B .-esm-patient-banner__patient-banner__row___t0GLQ>.-esm-patient-banner__patient-banner__col___k9Blt:nth-of-type(2n + 1){border-right:1px solid #e0e0e0}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/banner/patient-banner.scss","webpack://./../../node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,yEAAA,CACA,2GAAA,CCvDF,wDACE,gCAAA,CACA,mCAAA,CACA,wBDPM,CCUR,qEACE,wBDXM,CCcR,wDACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,oBAAA,CAGF,uEACE,wBC2BQ,CDzBR,wrBACE,UDxBI,CC2BN,2aACE,aCdM,CDiBR,0JACE,wBCiBM,CDbV,4DACE,YAAA,CAGF,4DACE,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CAGF,kEACE,cAAA,CACA,WAAA,CACA,WAAA,CACA,eAAA,CAGF,6DACE,aDnDQ,CCoDR,UAAA,CACA,4BAAA,CACA,YAAA,CAEA,+DEqyBE,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CFnyBA,oBAAA,CAKF,6hBACE,UDpEI,CCuEN,uEACE,aD1DW,CC8Df,mEACE,aAAA,CAGE,iIACA,+BAAA,CAKA,2LACE,8BAAA",sourceRoot:""}]),r.locals={container:"-esm-patient-banner__patient-banner__container___ecRPF",activePatientContainer:"-esm-patient-banner__patient-banner__activePatientContainer___tskjN",buttonCol:"-esm-patient-banner__patient-banner__buttonCol___hnOzF",deceasedPatientContainer:"-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q",demographics:"-esm-patient-banner__patient-banner__demographics___V1alp",row:"-esm-patient-banner__patient-banner__row___t0GLQ",identifierTag:"-esm-patient-banner__patient-banner__identifierTag___DGuqK",identifier:"-esm-patient-banner__patient-banner__identifier___gGse_",contactDetails:"-esm-patient-banner__patient-banner__contactDetails___uX5w3",heading:"-esm-patient-banner__patient-banner__heading___Wphgj",toggleContactDetailsButton:"-esm-patient-banner__patient-banner__toggleContactDetailsButton___HZ72I",actionsButtonText:"-esm-patient-banner__patient-banner__actionsButtonText___r3Ahr",patientBanner:"-esm-patient-banner__patient-banner__patientBanner___jpW_m",patientAvatar:"-esm-patient-banner__patient-banner__patientAvatar___CxTCp",patientAvatarButton:"-esm-patient-banner__patient-banner__patientAvatarButton___JLA2C",deceasedContactDetails:"-esm-patient-banner__patient-banner__deceasedContactDetails___gj7hN",col:"-esm-patient-banner__patient-banner__col___k9Blt",tabletContactDetails:"-esm-patient-banner__patient-banner__tabletContactDetails___aEg3B"};const o=r},563:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deceasedPatientTag:()=>V,importTranslation:()=>Q,patientBanner:()=>L,startupApp:()=>Z,visitTag:()=>F});var a=n(2870),i={contactAttributeTypes:{_type:a.Type.Array,_description:"The UUIDs of person attribute types that capture contact information",_default:[],_elements:{_type:a.Type.UUID}},excludePatientIdentifierCodeTypes:{uuids:{_type:a.Type.Array,_description:"The UUIDs of patient identifier types that should be excluded from patient banner.",_default:[],_elements:{_type:a.Type.UUID}}},useRelationshipNameLink:{_type:a.Type.Boolean,_description:"Whether to use the relationship name as a link to the person's patient chart",_default:!1}},_=n(268),r=n.n(_),o=n(4924),s=n(4194),l=n(2821),c=n(321),p=n.n(c),d=n(1195),A=n.n(d),b=n(3275),m=n.n(b),C=n(7162),u=n.n(C),g=n(2094),v=n.n(g),f=n(757),h=n.n(f),D=n(6626),E={};E.styleTagTransform=h(),E.setAttributes=u(),E.insert=m().bind(null,"head"),E.domAPI=A(),E.insertStyleElement=v(),p()(D.Z,E);const y=D.Z&&D.Z.locals?D.Z.locals:void 0;var B=function(e){var t,n=e.activeVisit,i=(0,o.useTranslation)().t;return r().createElement(s.PTL,{align:"bottom"},r().createElement(s.WBZ,{label:i("activeVisit","Active Visit")},r().createElement(s.Vp9,{type:"blue"},i("activeVisit","Active Visit"))),r().createElement(s.Uwv,null,r().createElement("div",{role:"tooltip"},r().createElement("h6",{className:y.heading},null==n||null===(t=n.visitType)||void 0===t?void 0:t.display),r().createElement("span",null,r().createElement("span",{className:y.tooltipSmallText},i("started","Started"),": "),r().createElement("span",null,(0,a.formatDatetime)((0,a.parseDate)(null==n?void 0:n.startDatetime),{mode:"wide"}))))))};var w=n(5033),T={};T.styleTagTransform=h(),T.setAttributes=u(),T.insert=m().bind(null,"head"),T.domAPI=A(),T.insertStyleElement=v(),p()(w.Z,T);const k=w.Z&&w.Z.locals?w.Z.locals:void 0;var P=n(2779),j=n.n(P),x=n(9926),N={};N.styleTagTransform=h(),N.setAttributes=u(),N.insert=m().bind(null,"head"),N.domAPI=A(),N.insertStyleElement=v(),p()(x.Z,N);const S=x.Z&&x.Z.locals?x.Z.locals:void 0;function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,_=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(_.push(a.value),!t||_.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw i}}return _}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U="@openmrs/esm-patient-banner-app",O={featureName:"patient-banner",moduleName:U},Q=n(3979);function Z(){(0,a.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:".+".concat(a.restBaseUrl,"/relationship.+")}),(0,a.defineConfigSchema)(U,i)}var F=(0,a.getSyncLifecycle)((function(e){var t=e.patientUuid,n=e.patient,a=(0,l.useVisitOrOfflineVisit)(t).activeVisit,i=!(null==n?void 0:n.deceasedDateTime);return a&&i?r().createElement(B,{activeVisit:a}):null}),O),V=(0,a.getSyncLifecycle)((function(e){var t=e.patient,n=(0,o.useTranslation)().t;return Boolean(null==t?void 0:t.deceasedDateTime)&&r().createElement(s.IiX,{align:"bottom-left",definition:r().createElement("div",{role:"tooltip",className:k.tooltipPadding},r().createElement("h6",{style:{marginBottom:"0.5rem"}},n("deceased","Deceased")),r().createElement("span",null,(0,a.formatDatetime)((0,a.parseDate)(null==t?void 0:t.deceasedDateTime))))},r().createElement(s.Vp9,{className:k.tagOverride},n("deceased","Deceased")))}),O),L=(0,a.getSyncLifecycle)((function(e){var t,n,i,o,s=e.patient,l=e.patientUuid,c=e.hideActionsOverflow,p=(0,_.useRef)(null),d=G((0,_.useState)(!1),2),A=d[0],b=d[1];(0,_.useEffect)((function(){var e=p.current,t=new ResizeObserver((function(e){var t=!0,n=!1,a=void 0;try{for(var i,_=e[Symbol.iterator]();!(t=(i=_.next()).done);t=!0){var r=i.value;b(r.contentRect.width<1023)}}catch(e){n=!0,a=e}finally{try{t||null==_.return||_.return()}finally{if(n)throw a}}}));return t.observe(p.current),function(){e&&t.unobserve(e)}}),[p,b]);var m="".concat(null==s||null===(i=s.name)||void 0===i||null===(n=i[0])||void 0===n||null===(t=n.given)||void 0===t?void 0:t.join(" ")," ").concat(null==s||null===(o=s.name)||void 0===o?void 0:o[0].family),C=G((0,_.useState)(!1),2),u=C[0],g=C[1],v=(0,_.useCallback)((function(){g((function(e){return!e}))}),[]),f=Boolean(null==s?void 0:s.deceasedDateTime);return r().createElement("header",{className:j()(S.container,f?S.deceasedPatientContainer:S.activePatientContainer),ref:p},r().createElement("div",{className:S.patientBanner},r().createElement("div",{className:S.patientAvatar,role:"img"},r().createElement(a.PatientPhoto,{patientUuid:l,patientName:m})),r().createElement(a.PatientBannerPatientInfo,{patient:s}),r().createElement("div",{className:S.buttonCol},c?null:r().createElement(a.PatientBannerActionsMenu,{patientUuid:l,actionsSlotName:"patient-actions-slot",isDeceased:s.deceasedBoolean}),r().createElement(a.PatientBannerToggleContactDetailsButton,{className:S.toggleContactDetailsButton,toggleContactDetails:v,showContactDetails:u}))),u&&r().createElement("div",{className:"".concat(S.contactDetails," ").concat(S[s.deceasedBoolean&&"deceasedContactDetails"]," ").concat(S[A&&"tabletContactDetails"])},r().createElement(a.PatientBannerContactDetails,{patientId:null==s?void 0:s.id,deceased:f})))}),O)},3979:(e,t,n)=>{var a={"./am.json":[8788,788],"./ar.json":[4460,460],"./en.json":[3574,574],"./es.json":[8319,319],"./fr.json":[2757,757],"./he.json":[5833,833],"./km.json":[7807,807],"./zh.json":[8271,271],"./zh_CN.json":[1644,644]};function i(e){if(!n.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return n.e(t[1]).then((()=>n(i)))}i.keys=()=>Object.keys(a),i.id=3979,e.exports=i}}]);