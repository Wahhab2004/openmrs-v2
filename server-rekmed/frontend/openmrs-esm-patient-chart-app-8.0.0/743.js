"use strict";(globalThis.webpackChunk_openmrs_esm_patient_chart_app=globalThis.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[743],{8139:(t,e,i)=>{i.d(e,{Z:()=>o});var n=i(272),s=i.n(n),l=i(2609),r=i.n(l)()(s());r.push([t.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-patient-chart__cancel-visit-dialog__bodyShort02___e5GxJ{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#161616}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/visit/visit-prompt/cancel-visit-dialog.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,yEAAA,CACA,2GAAA,CCxDF,8DC+1BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CD71BF,aDDM",sourceRoot:""}]),r.locals={bodyShort02:"-esm-patient-chart__cancel-visit-dialog__bodyShort02___e5GxJ"};const o=r},4455:(t,e,i)=>{i.d(e,{l:()=>a});var n=i(2870),s=i(5968),l=i(4924),r=i(268);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function a(t,e){var i,a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},d=(0,s.Tn)(t).mutateVisits,v=(0,n.useVisit)(t).mutate,A=(i=(0,r.useState)(!1),a=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,s,l=[],r=!0,o=!1;try{for(i=i.call(t);!(r=(n=i.next()).done)&&(l.push(n.value),!e||l.length!==e);r=!0);}catch(t){o=!0,s=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw s}}return l}}(i,a)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=A[0],p=A[1],y=(0,l.useTranslation)().t,m=function(){(0,s.rP)(null==e?void 0:e.uuid).then((function(){var t,i;(0,n.showSnackbar)({title:y("visitRestored","Visit restored"),subtitle:y("visitRestoredSuccessfully","{{visit}} restored successfully",{visit:null!==(i=null==e||null===(t=e.visitType)||void 0===t?void 0:t.display)&&void 0!==i?i:y("visit","Visit")}),kind:"success"}),d(),v(),null==u||u()})).catch((function(){var t,i;(0,n.showSnackbar)({title:y("visitNotRestored","Visit couldn't be restored"),subtitle:y("errorWhenRestoringVisit","Error occured when restoring {{visit}}",{visit:null!==(i=null==e||null===(t=e.visitType)||void 0===t?void 0:t.display)&&void 0!==i?i:y("visit","Visit")}),kind:"error"})}))};return{initiateDeletingVisit:function(){p(!0);var t=!(null==e?void 0:e.stopDatetime);(0,s.u4)(null==e?void 0:e.uuid).then((function(){var i,s,l,r,o,a;d(),v(),t?(0,n.showSnackbar)({title:y("visitCancelled","Visit cancelled"),subtitle:y("visitCancelSuccessMessage","Active {{visit}} cancelled successfully",{visit:null!==(s=null==e||null===(i=e.visitType)||void 0===i?void 0:i.display)&&void 0!==s?s:y("visit","Visit")}),isLowContrast:!0,kind:"success"}):(0,n.showActionableNotification)({title:y("visitDeleted","{{visit}} deleted",{visit:null!==(o=null==e||null===(l=e.visitType)||void 0===l?void 0:l.display)&&void 0!==o?o:y("visit","Visit")}),subtitle:y("visitDeletedSuccessfully","{{visit}} deleted successfully",{visit:null!==(a=null==e||null===(r=e.visitType)||void 0===r?void 0:r.display)&&void 0!==a?a:y("visit","Visit")}),kind:"success",actionButtonLabel:y("undo","Undo"),onActionButtonClick:m}),null==c||c()})).catch((function(){(0,n.showSnackbar)({title:t?y("errorCancellingVisit","Error cancelling active visit"):y("errorDeletingVisit","Error deleting visit"),kind:"error",subtitle:y("errorOccuredDeletingVisit","An error occured when deleting visit")})})).finally((function(){p(!1)}))},isDeletingVisit:h}}},7743:(t,e,i)=>{i.r(e),i.d(e,{default:()=>D});var n=i(268),s=i.n(n),l=i(4924),r=i(4350),o=i(2870),a=i(4100),c=i(4994),u=i(321),d=i.n(u),v=i(1195),A=i.n(v),h=i(3275),p=i.n(h),y=i(7162),m=i.n(y),b=i(2094),g=i.n(b),f=i(757),C=i.n(f),w=i(8139),_={};_.styleTagTransform=C(),_.setAttributes=m(),_.insert=p().bind(null,"head"),_.domAPI=A(),_.insertStyleElement=g(),d()(w.Z,_);const k=w.Z&&w.Z.locals?w.Z.locals:void 0;var V=i(4455);const D=function(t){var e=t.patientUuid,i=t.closeModal,u=(0,l.useTranslation)().t,d=(0,o.useVisit)(e).currentVisit,v=(0,c.t)(e,null==d?void 0:d.uuid),A=(0,n.useCallback)((function(){var t=null==v?void 0:v.queueEntry;t&&(0,a.Ls)(t.queue.uuid,t.queueEntryUuid,new AbortController),i()}),[null==v?void 0:v.queueEntry,i]),h=(0,V.l)(e,d,A),p=h.initiateDeletingVisit,y=h.isDeletingVisit;return s().createElement("div",null,s().createElement(r.ModalHeader,{closeModal:i,title:u("cancelActiveVisitConfirmation","Are you sure you want to cancel this active visit?")}),s().createElement(r.ModalBody,null,s().createElement("p",{className:k.bodyShort02},u("cancelVisitExplainerMessage","Cancelling this visit will delete its associated encounters"),".")),s().createElement(r.ModalFooter,null,s().createElement(r.Button,{kind:"secondary",onClick:i},u("cancel","Cancel")),s().createElement(r.Button,{disabled:y,kind:"danger",onClick:p},y?s().createElement(r.InlineLoading,{description:u("cancellingVisit","Cancelling visit")}):u("cancelVisit","Cancel visit"))))}}}]);